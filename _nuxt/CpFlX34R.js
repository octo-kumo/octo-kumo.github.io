import{d as D,b as P,a4 as we,ae as J,c as L,a as y,J as C,a3 as g,u as o,L as N,aa as I,r as R,N as Y,M as A,P as F,ab as xe,C as Ce,ak as T,e as Q,F as qe,_ as Me,af as Ee,ad as M,O as U,ap as Ve,v as ze,s as oe,aw as ue,w as ce,f as Ke,p as He,x as We,a2 as de,W as fe,U as Xe,ax as Ge,a1 as Je,h as K,a6 as Ye,ag as Ze,Y as Qe,n as Se,aj as Le,k as et,ay as tt}from"./Cdy4ovlM.js";import{c as z,q as b,_ as X,W as st,U as Pe,T as at,am as Te,A as Re,E as j,w as Fe,C as ee,an as ot,a7 as nt,a0 as rt,ao as lt,O as Z,o as H,N as pe}from"./CXgh2bVR.js";import{I as V,P as _e,l as it}from"./mpRoWkBO.js";import{t as le,d as ut}from"./Cq9Fpw4b.js";import{m as ne}from"./Bp3YSIOJ.js";import{b as ct,c as dt}from"./Bj2b9i9X.js";import{c as ve}from"./0_5aF3rL.js";import{i as ft}from"./56rOo4GG.js";import{e as pt}from"./hT5EZHBq.js";const vt=z({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:e=>e>=0&&e<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:Boolean,duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:b(String),default:"round"},textInside:Boolean,width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:b([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:b(Function),default:e=>`${e}%`}}),mt=D({name:"ElProgress"}),gt=D({...mt,props:vt,setup(e){const t=e,s={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},r=V("progress"),l=P(()=>{const i={width:`${t.percentage}%`,animationDuration:`${t.duration}s`},$=S(t.percentage);return $.includes("gradient")?i.background=$:i.backgroundColor=$,i}),u=P(()=>(t.strokeWidth/t.width*100).toFixed(1)),p=P(()=>["circle","dashboard"].includes(t.type)?Number.parseInt(`${50-Number.parseFloat(u.value)/2}`,10):0),k=P(()=>{const i=p.value,$=t.type==="dashboard";return`
          M 50 50
          m 0 ${$?"":"-"}${i}
          a ${i} ${i} 0 1 1 0 ${$?"-":""}${i*2}
          a ${i} ${i} 0 1 1 0 ${$?"":"-"}${i*2}
          `}),h=P(()=>2*Math.PI*p.value),m=P(()=>t.type==="dashboard"?.75:1),w=P(()=>`${-1*h.value*(1-m.value)/2}px`),v=P(()=>({strokeDasharray:`${h.value*m.value}px, ${h.value}px`,strokeDashoffset:w.value})),E=P(()=>({strokeDasharray:`${h.value*m.value*(t.percentage/100)}px, ${h.value}px`,strokeDashoffset:w.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),n=P(()=>{let i;return t.color?i=S(t.percentage):i=s[t.status]||s.default,i}),c=P(()=>t.status==="warning"?st:t.type==="line"?t.status==="success"?Pe:at:t.status==="success"?Te:Re),a=P(()=>t.type==="line"?12+t.strokeWidth*.4:t.width*.111111+2),f=P(()=>t.format(t.percentage));function d(i){const $=100/i.length;return i.map((_,B)=>J(_)?{color:_,percentage:(B+1)*$}:_).sort((_,B)=>_.percentage-B.percentage)}const S=i=>{var $;const{color:O}=t;if(we(O))return O(i);if(J(O))return O;{const _=d(O);for(const B of _)if(B.percentage>i)return B.color;return($=_[_.length-1])==null?void 0:$.color}};return(i,$)=>(y(),L("div",{class:g([o(r).b(),o(r).m(i.type),o(r).is(i.status),{[o(r).m("without-text")]:!i.showText,[o(r).m("text-inside")]:i.textInside}]),role:"progressbar","aria-valuenow":i.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[i.type==="line"?(y(),L("div",{key:0,class:g(o(r).b("bar"))},[N("div",{class:g(o(r).be("bar","outer")),style:I({height:`${i.strokeWidth}px`})},[N("div",{class:g([o(r).be("bar","inner"),{[o(r).bem("bar","inner","indeterminate")]:i.indeterminate},{[o(r).bem("bar","inner","striped")]:i.striped},{[o(r).bem("bar","inner","striped-flow")]:i.stripedFlow}]),style:I(o(l))},[(i.showText||i.$slots.default)&&i.textInside?(y(),L("div",{key:0,class:g(o(r).be("bar","innerText"))},[R(i.$slots,"default",{percentage:i.percentage},()=>[N("span",null,Y(o(f)),1)])],2)):C("v-if",!0)],6)],6)],2)):(y(),L("div",{key:1,class:g(o(r).b("circle")),style:I({height:`${i.width}px`,width:`${i.width}px`})},[(y(),L("svg",{viewBox:"0 0 100 100"},[N("path",{class:g(o(r).be("circle","track")),d:o(k),stroke:`var(${o(r).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":i.strokeLinecap,"stroke-width":o(u),fill:"none",style:I(o(v))},null,14,["d","stroke","stroke-linecap","stroke-width"]),N("path",{class:g(o(r).be("circle","path")),d:o(k),stroke:o(n),fill:"none",opacity:i.percentage?1:0,"stroke-linecap":i.strokeLinecap,"stroke-width":o(u),style:I(o(E))},null,14,["d","stroke","opacity","stroke-linecap","stroke-width"])]))],6)),(i.showText||i.$slots.default)&&!i.textInside?(y(),L("div",{key:2,class:g(o(r).e("text")),style:I({fontSize:`${o(a)}px`})},[R(i.$slots,"default",{percentage:i.percentage},()=>[i.status?(y(),A(o(j),{key:1},{default:F(()=>[(y(),A(xe(o(c))))]),_:1})):(y(),L("span",{key:0},Y(o(f)),1))])],6)):C("v-if",!0)],10,["aria-valuenow"]))}});var yt=X(gt,[["__file","progress.vue"]]);const bt=Fe(yt),Be=Symbol("uploadContextKey"),ht="ElUpload";class kt extends Error{constructor(t,s,r,l){super(t),this.name="UploadAjaxError",this.status=s,this.method=r,this.url=l}}function me(e,t,s){let r;return s.response?r=`${s.response.error||s.response}`:s.responseText?r=`${s.responseText}`:r=`fail to ${t.method} ${e} ${s.status}`,new kt(r,s.status,t.method,e)}function $t(e){const t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch{return t}}const wt=e=>{typeof XMLHttpRequest>"u"&&le(ht,"XMLHttpRequest is undefined");const t=new XMLHttpRequest,s=e.action;t.upload&&t.upload.addEventListener("progress",u=>{const p=u;p.percent=u.total>0?u.loaded/u.total*100:0,e.onProgress(p)});const r=new FormData;if(e.data)for(const[u,p]of Object.entries(e.data))Ce(p)&&p.length?r.append(u,...p):r.append(u,p);r.append(e.filename,e.file,e.file.name),t.addEventListener("error",()=>{e.onError(me(s,e,t))}),t.addEventListener("load",()=>{if(t.status<200||t.status>=300)return e.onError(me(s,e,t));e.onSuccess($t(t))}),t.open(e.method,s,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);const l=e.headers||{};if(l instanceof Headers)l.forEach((u,p)=>t.setRequestHeader(p,u));else for(const[u,p]of Object.entries(l))_e(p)||t.setRequestHeader(u,String(p));return t.send(r),t},Ue=["text","picture","picture-card"];let Ct=1;const re=()=>Date.now()+Ct++,Ae=z({action:{type:String,default:"#"},headers:{type:b(Object)},method:{type:String,default:"post"},data:{type:b([Object,Function,Promise]),default:()=>ne({})},multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:b(Array),default:()=>ne([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:Ue,default:"text"},httpRequest:{type:b(Function),default:wt},disabled:Boolean,limit:Number}),Et=z({...Ae,beforeUpload:{type:b(Function),default:T},beforeRemove:{type:b(Function)},onRemove:{type:b(Function),default:T},onChange:{type:b(Function),default:T},onPreview:{type:b(Function),default:T},onSuccess:{type:b(Function),default:T},onProgress:{type:b(Function),default:T},onError:{type:b(Function),default:T},onExceed:{type:b(Function),default:T},crossorigin:{type:b(String)}}),St=z({files:{type:b(Array),default:()=>ne([])},disabled:Boolean,handlePreview:{type:b(Function),default:T},listType:{type:String,values:Ue,default:"text"},crossorigin:{type:b(String)}}),Lt={remove:e=>!!e},Pt=D({name:"ElUploadList"}),Tt=D({...Pt,props:St,emits:Lt,setup(e,{emit:t}){const s=e,{t:r}=ct(),l=V("upload"),u=V("icon"),p=V("list"),k=ee(),h=Q(!1),m=P(()=>[l.b("list"),l.bm("list",s.listType),l.is("disabled",s.disabled)]),w=v=>{t("remove",v)};return(v,E)=>(y(),A(Ve,{tag:"ul",class:g(o(m)),name:o(p).b()},{default:F(()=>[(y(!0),L(qe,null,Me(v.files,(n,c)=>(y(),L("li",{key:n.uid||n.name,class:g([o(l).be("list","item"),o(l).is(n.status),{focusing:h.value}]),tabindex:"0",onKeydown:Ee(a=>!o(k)&&w(n),["delete"]),onFocus:a=>h.value=!0,onBlur:a=>h.value=!1,onClick:a=>h.value=!1},[R(v.$slots,"default",{file:n,index:c},()=>[v.listType==="picture"||n.status!=="uploading"&&v.listType==="picture-card"?(y(),L("img",{key:0,class:g(o(l).be("list","item-thumbnail")),src:n.url,crossorigin:v.crossorigin,alt:""},null,10,["src","crossorigin"])):C("v-if",!0),n.status==="uploading"||v.listType!=="picture-card"?(y(),L("div",{key:1,class:g(o(l).be("list","item-info"))},[N("a",{class:g(o(l).be("list","item-name")),onClick:M(a=>v.handlePreview(n),["prevent"])},[U(o(j),{class:g(o(u).m("document"))},{default:F(()=>[U(o(ot))]),_:1},8,["class"]),N("span",{class:g(o(l).be("list","item-file-name")),title:n.name},Y(n.name),11,["title"])],10,["onClick"]),n.status==="uploading"?(y(),A(o(bt),{key:0,type:v.listType==="picture-card"?"circle":"line","stroke-width":v.listType==="picture-card"?6:2,percentage:Number(n.percentage),style:I(v.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):C("v-if",!0)],2)):C("v-if",!0),N("label",{class:g(o(l).be("list","item-status-label"))},[v.listType==="text"?(y(),A(o(j),{key:0,class:g([o(u).m("upload-success"),o(u).m("circle-check")])},{default:F(()=>[U(o(Pe))]),_:1},8,["class"])):["picture-card","picture"].includes(v.listType)?(y(),A(o(j),{key:1,class:g([o(u).m("upload-success"),o(u).m("check")])},{default:F(()=>[U(o(Te))]),_:1},8,["class"])):C("v-if",!0)],2),o(k)?C("v-if",!0):(y(),A(o(j),{key:2,class:g(o(u).m("close")),onClick:a=>w(n)},{default:F(()=>[U(o(Re))]),_:2},1032,["class","onClick"])),C(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),C(" This is a bug which needs to be fixed "),C(" TODO: Fix the incorrect navigation interaction "),o(k)?C("v-if",!0):(y(),L("i",{key:3,class:g(o(u).m("close-tip"))},Y(o(r)("el.upload.deleteTip")),3)),v.listType==="picture-card"?(y(),L("span",{key:4,class:g(o(l).be("list","item-actions"))},[N("span",{class:g(o(l).be("list","item-preview")),onClick:a=>v.handlePreview(n)},[U(o(j),{class:g(o(u).m("zoom-in"))},{default:F(()=>[U(o(nt))]),_:1},8,["class"])],10,["onClick"]),o(k)?C("v-if",!0):(y(),L("span",{key:0,class:g(o(l).be("list","item-delete")),onClick:a=>w(n)},[U(o(j),{class:g(o(u).m("delete"))},{default:F(()=>[U(o(rt))]),_:1},8,["class"])],10,["onClick"]))],2)):C("v-if",!0)])],42,["onKeydown","onFocus","onBlur","onClick"]))),128)),R(v.$slots,"append")]),_:3},8,["class","name"]))}});var ge=X(Tt,[["__file","upload-list.vue"]]);const Rt=z({disabled:Boolean}),Ft={file:e=>Ce(e)},De="ElUploadDrag",_t=D({name:De}),Bt=D({..._t,props:Rt,emits:Ft,setup(e,{emit:t}){ze(Be)||le(De,"usage: <el-upload><el-upload-dragger /></el-upload>");const r=V("upload"),l=Q(!1),u=ee(),p=m=>{if(u.value)return;l.value=!1,m.stopPropagation();const w=Array.from(m.dataTransfer.files),v=m.dataTransfer.items||[];w.forEach((E,n)=>{var c;const a=v[n],f=(c=a?.webkitGetAsEntry)==null?void 0:c.call(a);f&&(E.isDirectory=f.isDirectory)}),t("file",w)},k=()=>{u.value||(l.value=!0)},h=m=>{m.currentTarget.contains(m.relatedTarget)||(l.value=!1)};return(m,w)=>(y(),L("div",{class:g([o(r).b("dragger"),o(r).is("dragover",l.value)]),onDrop:M(p,["prevent"]),onDragover:M(k,["prevent"]),onDragleave:M(h,["prevent"])},[R(m.$slots,"default")],42,["onDrop","onDragover","onDragleave"]))}});var Ut=X(Bt,[["__file","upload-dragger.vue"]]);const At=z({...Ae,beforeUpload:{type:b(Function),default:T},onRemove:{type:b(Function),default:T},onStart:{type:b(Function),default:T},onSuccess:{type:b(Function),default:T},onProgress:{type:b(Function),default:T},onError:{type:b(Function),default:T},onExceed:{type:b(Function),default:T}}),Dt=D({name:"ElUploadContent",inheritAttrs:!1}),Ot=D({...Dt,props:At,setup(e,{expose:t}){const s=e,r=V("upload"),l=ee(),u=oe({}),p=oe(),k=a=>{if(a.length===0)return;const{autoUpload:f,limit:d,fileList:S,multiple:i,onStart:$,onExceed:O}=s;if(d&&S.length+a.length>d){O(a,S);return}i||(a=a.slice(0,1));for(const _ of a){const B=_;B.uid=re(),$(B),f&&h(B)}},h=async a=>{if(p.value.value="",!s.beforeUpload)return w(a);let f,d={};try{const i=s.data,$=s.beforeUpload(a);d=ue(s.data)?ve(s.data):s.data,f=await $,ue(s.data)&&ft(i,d)&&(d=ve(s.data))}catch{f=!1}if(f===!1){s.onRemove(a);return}let S=a;f instanceof Blob&&(f instanceof File?S=f:S=new File([f],a.name,{type:a.type})),w(Object.assign(S,{uid:a.uid}),d)},m=async(a,f)=>we(a)?a(f):a,w=async(a,f)=>{const{headers:d,data:S,method:i,withCredentials:$,name:O,action:_,onProgress:B,onSuccess:Ne,onError:Ie,httpRequest:je}=s;try{f=await m(f??S,a)}catch{s.onRemove(a);return}const{uid:te}=a,se={headers:d||{},withCredentials:$,file:a,data:f,method:i,filename:O,action:_,onProgress:q=>{B(q,a)},onSuccess:q=>{Ne(q,a),delete u.value[te]},onError:q=>{Ie(q,a),delete u.value[te]}},ae=je(se);u.value[te]=ae,ae instanceof Promise&&ae.then(se.onSuccess,se.onError)},v=a=>{const f=a.target.files;f&&k(Array.from(f))},E=()=>{l.value||(p.value.value="",p.value.click())},n=()=>{E()};return t({abort:a=>{lt(u.value).filter(a?([d])=>String(a.uid)===d:()=>!0).forEach(([d,S])=>{S instanceof XMLHttpRequest&&S.abort(),delete u.value[d]})},upload:h}),(a,f)=>(y(),L("div",{class:g([o(r).b(),o(r).m(a.listType),o(r).is("drag",a.drag),o(r).is("disabled",o(l))]),tabindex:o(l)?"-1":"0",onClick:E,onKeydown:Ee(M(n,["self"]),["enter","space"])},[a.drag?(y(),A(Ut,{key:0,disabled:o(l),onFile:k},{default:F(()=>[R(a.$slots,"default")]),_:3},8,["disabled"])):R(a.$slots,"default",{key:1}),N("input",{ref_key:"inputRef",ref:p,class:g(o(r).e("input")),name:a.name,disabled:o(l),multiple:a.multiple,accept:a.accept,type:"file",onChange:v,onClick:M(()=>{},["stop"])},null,42,["name","disabled","multiple","accept","onClick"])],42,["tabindex","onKeydown"]))}});var ye=X(Ot,[["__file","upload-content.vue"]]);const be="ElUpload",he=e=>{var t;(t=e.url)!=null&&t.startsWith("blob:")&&URL.revokeObjectURL(e.url)},Nt=(e,t)=>{const s=pt(e,"fileList",void 0,{passive:!0}),r=n=>s.value.find(c=>c.uid===n.uid);function l(n){var c;(c=t.value)==null||c.abort(n)}function u(n=["ready","uploading","success","fail"]){s.value=s.value.filter(c=>!n.includes(c.status))}function p(n){s.value=s.value.filter(c=>c.uid!==n.uid)}const k=(n,c)=>{const a=r(c);a&&(console.error(n),a.status="fail",p(a),e.onError(n,a,s.value),e.onChange(a,s.value))},h=(n,c)=>{const a=r(c);a&&(e.onProgress(n,a,s.value),a.status="uploading",a.percentage=Math.round(n.percent))},m=(n,c)=>{const a=r(c);a&&(a.status="success",a.response=n,e.onSuccess(n,a,s.value),e.onChange(a,s.value))},w=n=>{_e(n.uid)&&(n.uid=re());const c={name:n.name,percentage:0,status:"ready",size:n.size,raw:n,uid:n.uid};if(e.listType==="picture-card"||e.listType==="picture")try{c.url=URL.createObjectURL(n)}catch(a){ut(be,a.message),e.onError(a,c,s.value)}s.value=[...s.value,c],e.onChange(c,s.value)},v=async n=>{const c=n instanceof File?r(n):n;c||le(be,"file to be removed not found");const a=f=>{l(f),p(f),e.onRemove(f,s.value),he(f)};e.beforeRemove?await e.beforeRemove(c,s.value)!==!1&&a(c):a(c)};function E(){s.value.filter(({status:n})=>n==="ready").forEach(({raw:n})=>{var c;return n&&((c=t.value)==null?void 0:c.upload(n))})}return ce(()=>e.listType,n=>{n!=="picture-card"&&n!=="picture"||(s.value=s.value.map(c=>{const{raw:a,url:f}=c;if(!f&&a)try{c.url=URL.createObjectURL(a)}catch(d){e.onError(d,c,s.value)}return c}))}),ce(s,n=>{for(const c of n)c.uid||(c.uid=re()),c.status||(c.status="success")},{immediate:!0,deep:!0}),{uploadFiles:s,abort:l,clearFiles:u,handleError:k,handleProgress:h,handleStart:w,handleSuccess:m,handleRemove:v,submit:E,revokeFileObjectURL:he}},It=D({name:"ElUpload"}),jt=D({...It,props:Et,setup(e,{expose:t}){const s=e,r=ee(),l=oe(),{abort:u,submit:p,clearFiles:k,uploadFiles:h,handleStart:m,handleError:w,handleRemove:v,handleSuccess:E,handleProgress:n,revokeFileObjectURL:c}=Nt(s,l),a=P(()=>s.listType==="picture-card"),f=P(()=>({...s,fileList:h.value,onStart:m,onProgress:n,onSuccess:E,onError:w,onRemove:v}));return Ke(()=>{h.value.forEach(c)}),He(Be,{accept:We(s,"accept")}),t({abort:u,submit:p,clearFiles:k,handleStart:m,handleRemove:v}),(d,S)=>(y(),L("div",null,[o(a)&&d.showFileList?(y(),A(ge,{key:0,disabled:o(r),"list-type":d.listType,files:o(h),crossorigin:d.crossorigin,"handle-preview":d.onPreview,onRemove:o(v)},de({append:F(()=>[U(ye,fe({ref_key:"uploadRef",ref:l},o(f)),{default:F(()=>[d.$slots.trigger?R(d.$slots,"trigger",{key:0}):C("v-if",!0),!d.$slots.trigger&&d.$slots.default?R(d.$slots,"default",{key:1}):C("v-if",!0)]),_:3},16)]),_:2},[d.$slots.file?{name:"default",fn:F(({file:i,index:$})=>[R(d.$slots,"file",{file:i,index:$})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):C("v-if",!0),!o(a)||o(a)&&!d.showFileList?(y(),A(ye,fe({key:1,ref_key:"uploadRef",ref:l},o(f)),{default:F(()=>[d.$slots.trigger?R(d.$slots,"trigger",{key:0}):C("v-if",!0),!d.$slots.trigger&&d.$slots.default?R(d.$slots,"default",{key:1}):C("v-if",!0)]),_:3},16)):C("v-if",!0),d.$slots.trigger?R(d.$slots,"default",{key:2}):C("v-if",!0),R(d.$slots,"tip"),!o(a)&&d.showFileList?(y(),A(ge,{key:3,disabled:o(r),"list-type":d.listType,files:o(h),crossorigin:d.crossorigin,"handle-preview":d.onPreview,onRemove:o(v)},de({_:2},[d.$slots.file?{name:"default",fn:F(({file:i,index:$})=>[R(d.$slots,"file",{file:i,index:$})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):C("v-if",!0)]))}});var xt=X(jt,[["__file","upload.vue"]]);const es=Fe(xt);function qt(e,t){let s;const r=Q(!1),l=Xe({...e,originalPosition:"",originalOverflow:"",visible:!1});function u(n){l.text=n}function p(){const n=l.parent,c=E.ns;if(!n.vLoadingAddClassList){let a=n.getAttribute("loading-number");a=Number.parseInt(a)-1,a?n.setAttribute("loading-number",a.toString()):(Z(n,c.bm("parent","relative")),n.removeAttribute("loading-number")),Z(n,c.bm("parent","hidden"))}k(),v.unmount()}function k(){var n,c;(c=(n=E.$el)==null?void 0:n.parentNode)==null||c.removeChild(E.$el)}function h(){var n;e.beforeClose&&!e.beforeClose()||(r.value=!0,clearTimeout(s),s=setTimeout(m,400),l.visible=!1,(n=e.closed)==null||n.call(e))}function m(){if(!r.value)return;const n=l.parent;r.value=!1,n.vLoadingAddClassList=void 0,p()}const w=D({name:"ElLoading",setup(n,{expose:c}){const{ns:a,zIndex:f}=dt("loading");return c({ns:a,zIndex:f}),()=>{const d=l.spinner||l.svg,S=K("svg",{class:"circular",viewBox:l.svgViewBox?l.svgViewBox:"0 0 50 50",...d?{innerHTML:d}:{}},[K("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),i=l.text?K("p",{class:a.b("text")},[l.text]):void 0;return K(Qe,{name:a.b("fade"),onAfterLeave:m},{default:F(()=>[Ye(U("div",{style:{backgroundColor:l.background||""},class:[a.b("mask"),l.customClass,l.fullscreen?"is-fullscreen":""]},[K("div",{class:a.b("spinner")},[S,i])]),[[Ze,l.visible]])])})}}}),v=Ge(w);Object.assign(v._context,t??{});const E=v.mount(document.createElement("div"));return{...Je(l),setText:u,removeElLoadingChild:k,close:h,handleAfterLeave:m,vm:E,get $el(){return E.$el}}}let G;const ie=function(e={}){if(!it)return;const t=Mt(e);if(t.fullscreen&&G)return G;const s=qt({...t,closed:()=>{var l;(l=t.closed)==null||l.call(t),t.fullscreen&&(G=void 0)}},ie._context);Vt(t,t.parent,s),ke(t,t.parent,s),t.parent.vLoadingAddClassList=()=>ke(t,t.parent,s);let r=t.parent.getAttribute("loading-number");return r?r=`${Number.parseInt(r)+1}`:r="1",t.parent.setAttribute("loading-number",r),t.parent.appendChild(s.$el),Se(()=>s.visible.value=t.visible),t.fullscreen&&(G=s),s},Mt=e=>{var t,s,r,l;let u;return J(e.target)?u=(t=document.querySelector(e.target))!=null?t:document.body:u=e.target||document.body,{parent:u===document.body||e.body?document.body:u,background:e.background||"",svg:e.svg||"",svgViewBox:e.svgViewBox||"",spinner:e.spinner||!1,text:e.text||"",fullscreen:u===document.body&&((s=e.fullscreen)!=null?s:!0),lock:(r=e.lock)!=null?r:!1,customClass:e.customClass||"",visible:(l=e.visible)!=null?l:!0,beforeClose:e.beforeClose,closed:e.closed,target:u}},Vt=async(e,t,s)=>{const{nextZIndex:r}=s.vm.zIndex||s.vm._.exposed.zIndex,l={};if(e.fullscreen)s.originalPosition.value=H(document.body,"position"),s.originalOverflow.value=H(document.body,"overflow"),l.zIndex=r();else if(e.parent===document.body){s.originalPosition.value=H(document.body,"position"),await Se();for(const u of["top","left"]){const p=u==="top"?"scrollTop":"scrollLeft";l[u]=`${e.target.getBoundingClientRect()[u]+document.body[p]+document.documentElement[p]-Number.parseInt(H(document.body,`margin-${u}`),10)}px`}for(const u of["height","width"])l[u]=`${e.target.getBoundingClientRect()[u]}px`}else s.originalPosition.value=H(t,"position");for(const[u,p]of Object.entries(l))s.$el.style[u]=p},ke=(e,t,s)=>{const r=s.vm.ns||s.vm._.exposed.ns;["absolute","fixed","sticky"].includes(s.originalPosition.value)?Z(t,r.bm("parent","relative")):pe(t,r.bm("parent","relative")),e.fullscreen&&e.lock?pe(t,r.bm("parent","hidden")):Z(t,r.bm("parent","hidden"))};ie._context=null;const W=Symbol("ElLoading"),x=e=>`element-loading-${tt(e)}`,$e=(e,t)=>{var s,r,l,u;const p=t.instance,k=n=>Le(t.value)?t.value[n]:void 0,h=n=>{const c=J(n)&&p?.[n]||n;return Q(c)},m=n=>h(k(n)||e.getAttribute(x(n))),w=(s=k("fullscreen"))!=null?s:t.modifiers.fullscreen,v={text:m("text"),svg:m("svg"),svgViewBox:m("svgViewBox"),spinner:m("spinner"),background:m("background"),customClass:m("customClass"),fullscreen:w,target:(r=k("target"))!=null?r:w?void 0:e,body:(l=k("body"))!=null?l:t.modifiers.body,lock:(u=k("lock"))!=null?u:t.modifiers.lock},E=ie(v);E._context=Oe._context,e[W]={options:v,instance:E}},zt=(e,t)=>{for(const s of Object.keys(e))et(e[s])&&(e[s].value=t[s])},Oe={mounted(e,t){t.value&&$e(e,t)},updated(e,t){const s=e[W];if(!t.value){s?.instance.close(),e[W]=null;return}s?zt(s.options,Le(t.value)?t.value:{text:e.getAttribute(x("text")),svg:e.getAttribute(x("svg")),svgViewBox:e.getAttribute(x("svgViewBox")),spinner:e.getAttribute(x("spinner")),background:e.getAttribute(x("background")),customClass:e.getAttribute(x("customClass"))}):$e(e,t)},unmounted(e){var t;(t=e[W])==null||t.instance.close(),e[W]=null}};Oe._context=null;export{es as E,Oe as v};
