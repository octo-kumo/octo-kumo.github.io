import{E as I}from"./DwzLS5eA.js";import{E as M}from"./j3ngYAoL.js";import{E as q}from"./CVsUS7wE.js";import{b as P,o as C,_ as W,g as Z,h as L,c as G,E as H,a as N}from"./C1eQBN1r.js";import{E as J}from"./Q-zsahgt.js";import{_ as Q}from"./rSGvLkHw.js";import{E as X}from"./BXXB-xa1.js";import{a as Y,E as ee}from"./CWkjjxcF.js";import"./DGHzHT3a.js";import{d as te}from"./W8IBkWuz.js";import{K as oe,_ as ne}from"./BuICEgOE.js";import{u as se}from"./CNzSiRdO.js";import{d as ae,Z as re,U as le,b as ie,a5 as b,c,M as u,u as o,a,O as r,L as E,a6 as k,r as x,P as s,F as f,_ as U,K as _,N as p}from"./Cdy4ovlM.js";import"./BB_Ol6Sd.js";import"./CNN4MVuY.js";import"./BubI-hUR.js";import"./DQO4yU84.js";import"./w-kJuMOX.js";import"./BSZFgSs5.js";import"./CV4Hssdo.js";import"./Bp3YSIOJ.js";import"./BRspts7i.js";const pe=["textContent"],me=["textContent"],ce={key:2},ue=ae({__name:"CtfOverview",async setup(_e){let d,w;const l=(oe().path.substring(2)||"/").replace(/(?!^)\/$/,""),{data:i}=([d,w]=re(()=>se("ctf_list_"+l,()=>P("content").where("path","LIKE",l+"%").select("path","title","description","created","updated","tags","solves","points","excerpt").order("solves","ASC").all(),"$movkmheEww")),d=await d,w(),d);function $(e){return[...new Set(e.map(n=>N(n)).filter(Boolean)),...new Set(e.flatMap(n=>n.tags??[]).filter(Boolean))]}const m=le({}),h=ie(()=>Object.keys(m).filter(e=>m[e]));function v(e){return h.value.length===0?!0:e.tags?.some(n=>h.value.includes(n))||h.value.includes(N(e)??"")}function A(e){return e.map(n=>n.points??0).reduce((n,g)=>n+g,0)}return(e,n)=>{const g=I,T=M,B=q,O=W,S=G,y=J,F=Q,K=X,R=Y,V=ee,j=H,D=b("shared"),z=b("auto-animate");return o(i)&&o(i).length>0?(a(),c(f,{key:0},[r(B,{wrap:"",class:"mb-1 font-mono text-xs! select-none"},{default:s(()=>[(a(!0),c(f,null,U($(o(i)),t=>(a(),u(g,{checked:o(m)[t],onChange:de=>o(m)[t]=!o(m)[t],type:"primary",class:"text-xs! px-2! py-1!"},{default:s(()=>[_(p(t),1)]),_:2},1032,["checked","onChange"]))),256)),r(T,null,{default:s(()=>[_(p(A(o(i).filter(t=>("oneLvlUp"in e?e.oneLvlUp:o(C))(t.path)!==o(l)&&t.path!==o(l)).filter(v)))+" points ",1)]),_:1}),r(T,null,{default:s(()=>[_(p(o(i).filter(t=>("oneLvlUp"in e?e.oneLvlUp:o(C))(t.path)!==o(l)&&t.path!==o(l)).filter(v).length)+" writeups ",1)]),_:1})]),_:1}),n[0]||(n[0]=E("br",null,null,-1)),k((a(),u(V,{gutter:10},{default:s(()=>[(a(!0),c(f,null,U(o(i).filter(t=>("oneLvlUp"in e?e.oneLvlUp:o(C))(t.path)!==o(l)&&t.path!==o(l)).filter(v),t=>(a(),u(R,{xs:24,sm:12,key:t.path},{default:s(()=>[r(K,{class:"challenge-card mb-2",shadow:"hover"},{header:s(()=>[r(O,{to:`/c${t.path}`,type:"primary"},{default:s(()=>[k(E("span",{textContent:p(("guessArticleTitle"in e?e.guessArticleTitle:o(Z))(t))},null,8,pe),[[D,("getTransitionName"in e?e.getTransitionName:o(L))(t,"title")]])]),_:2},1032,["to"]),r(S,{article:t},null,8,["article"]),r(y,{size:"small"},{default:s(()=>[k(E("span",{textContent:p(("displayDocDates"in e?e.displayDocDates:o(te))(t))},null,8,me),[[D,("getTransitionName"in e?e.getTransitionName:o(L))(t,"dates")]])]),_:2},1024)]),default:s(()=>[r(y,{size:"small",class:"line-clamp-4"},{default:s(()=>[t.excerpt?(a(),u(F,{key:0,class:"max-w-full",value:t,excerpt:""},null,8,["value"])):t.description?(a(),c(f,{key:1},[_(p(t.description),1)],64)):(a(),c("em",ce,"Empty description."))]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})),[[z]]),x(e.$slots,"default",{},void 0,!0)],64)):(a(),u(j,{key:1,description:"No Writeup"},{default:s(()=>[r(y,null,{default:s(()=>[...n[1]||(n[1]=[_("This is most likely an error.",-1)])]),_:1}),x(e.$slots,"default",{},void 0,!0)]),_:3}))}}}),Ke=Object.assign(ne(ue,[["__scopeId","data-v-4c48a24d"]]),{__name:"CtfOverview"});export{Ke as default};
