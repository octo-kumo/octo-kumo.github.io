import{E as Pu}from"./9owE_yBM.js";import{E as qu,a as Lu}from"./CoI4KJJk.js";import{E as Gu,a as Vu}from"./BVOUDdMi.js";import{E as Hu}from"./BLOMouaw.js";import{a as Yu}from"./DQcnEMwU.js";import{E as Zu}from"./DVeqoeK3.js";import{E as Qu}from"./mpRoWkBO.js";import"./CXgh2bVR.js";/* empty css        */import{E as Xu}from"./CvYC8Xmx.js";import{m as Ju}from"./D9pKEzwB.js";import{u as Ku}from"./Nh6Nfyen.js";import{d as Wu,e as Be,w as ku,b as ju,c as rf,a as ef,O as Zr,P as te,k as ft,u as ae,K as Ot,N as on,T as tf}from"./Cdy4ovlM.js";import{f as L,D as sn,a as un,i as Gr,b as Ne,c as Ma,d as af,e as Ur,h as Vr,v as Ir,j as Aa,k as _r,l as Tr,m as wa,n as fn,u as bs,o as bt,r as pt,p as ws,q as xs,s as wr,t as Xt,w as Er,x as Dr,y as Rr,z as qe,A as ln,B as ge,C as Pr,E as nf,F as Jt,G as Kt,H as of,I as sf,J as uf,K as ff,L as lf,M as vf,N as cf,O as mf,P as Zt,Q as Bt,R as Ns,S as pf,T as df,U as hf,V as Ss,W as Ge,X as Ea,Y as fe,Z as $e,$ as Qr,a0 as vn,a1 as gf,a2 as xa,a3 as cn,a4 as yf,a5 as ke,a6 as mn,a7 as pn,a8 as bf,a9 as wf,aa as xf,ab as Nf,ac as Sf,ad as ea,ae as _f,af as Mf,ag as dn,ah as hn,ai as Af,aj as Ef,ak as Wt,al as $r,am as dt,an as kt,ao as Tf,ap as Of,aq as _s,ar as Cf,as as Ct,at as Bf,au as gn,av as zf,aw as If,ax as Ms,ay as Rf,az as $f,aA as Df,aB as yn,aC as As,aD as Uf,aE as Lr,aF as Ie,aG as Ff,aH as Pf,aI as qf,aJ as Lf,aK as Gf,aL as Vf,aM as Hf,aN as Yf,aO as Zf,aP as Qf,aQ as Xf,aR as Jf,aS as Kf,aT as Wf,aU as kf,aV as jf,aW as rl,aX as el,aY as tl,aZ as al,a_ as ht,a$ as jt,b0 as nl,b1 as il,b2 as bn,b3 as da,b4 as ol,b5 as wn,b6 as sl,b7 as ul,b8 as fl,b9 as $t,ba as ll,bb as Es,bc as Ts,bd as Os,be as vl,bf as cl,bg as ml,bh as pl,bi as dl,bj as hl,bk as gl,bl as yl,bm as J,bn as bl,bo as wl,bp as xl,bq as Nl,br as Sl,bs as _l,bt as Ml,bu as Al,bv as El,bw as Tl,bx as Ol,by as Cl,bz as Bl,bA as zl,bB as Il,bC as Rl,bD as $l,bE as Dl,bF as Ul,bG as Fl,bH as Pl,bI as ql,bJ as Ll,bK as Gl,bL as Vl,bM as Hl,bN as Yl,bO as Zl,bP as Ql,bQ as Xl,bR as Jl,bS as Kl,bT as Wl,bU as kl,bV as jl,bW as rv,bX as ev,bY as tv,bZ as av,b_ as nv,b$ as iv,c0 as ov,c1 as sv,c2 as uv,c3 as fv,c4 as lv,c5 as vv,c6 as cv,c7 as mv,c8 as pv,c9 as dv,ca as hv,cb as gv,cc as yv,cd as bv,ce as wv,cf as xv,cg as Nv,ch as Sv,ci as _v,cj as Mv,ck as Av,cl as Ev,cm as Tv,cn as Ov,co as Cv,cp as Bv,cq as zv,cr as Iv,cs as Rv,ct as $v,cu as Dv,cv as Uv,cw as Fv,cx as Pv,cy as qv,cz as Lv,cA as Gv,cB as Vv,cC as Hv,cD as Yv,cE as Zv,cF as Qv,cG as Xv,cH as Jv,cI as Kv,cJ as Wv,cK as kv,cL as jv,cM as rc,cN as ec,cO as tc,cP as ac,cQ as nc,cR as ic,cS as oc,cT as sc,cU as uc,cV as fc,cW as lc,cX as vc,cY as cc,cZ as mc,c_ as pc,c$ as dc,d0 as hc,d1 as gc,d2 as yc,d3 as bc,d4 as wc,d5 as xc,d6 as Nc,d7 as Sc,d8 as _c,d9 as Mc,da as Ac}from"./C1Fqt9dA.js";import"./hT5EZHBq.js";import"./Bj2b9i9X.js";import"./Bp3YSIOJ.js";import"./BWHN3Fq2.js";import"./Bu0khPrm.js";import"./CNFK1gg8.js";import"./C8b4-tx9.js";import"./C4GAp2rc.js";import"./CDCU4beR.js";import"./CSF8GnY5.js";import"./CKYzR6Dw.js";import"./BB_Ol6Sd.js";import"./B3lhUXGt.js";import"./D7SBKgv0.js";import"./BmU_cfaq.js";import"./Cq9Fpw4b.js";import"./CtN2CsmN.js";import"./CPeR6xjG.js";import"./B2_D2k1b.js";import"./DdjagA1o.js";import"./hWEbwS_-.js";import"./CM9Vt25o.js";import"./DlhTYIOl.js";import"./DO6_CzPN.js";import"./BUADUvnR.js";import"./CNN4MVuY.js";import"./DXTTfs9a.js";import"./F8doVSIJ.js";import"./CJDp5IRJ.js";import"./CJN6Q2WT.js";import"./56rOo4GG.js";import"./lEc_mr0M.js";import"./WlXJO-32.js";import"./C12MRI7F.js";import"./B2bONxHh.js";import"./DIhoAStX.js";import"./DCTLXrZ8.js";/* empty css        */import"./CE1G-McA.js";function je(n,r,e,t){if(!(this instanceof je))throw new SyntaxError("Constructor must be called with the new operator");this.fn=n,this.count=r,this.min=e,this.max=t,this.message="Wrong number of arguments in function "+n+" ("+r+" provided, "+e+(t!=null?"-"+t:"")+" expected)",this.stack=new Error().stack}je.prototype=new Error;je.prototype.constructor=Error;je.prototype.name="ArgumentsError";je.prototype.isArgumentsError=!0;var Ec="BigNumber",Tc=["?on","config"],Oc=L(Ec,Tc,n=>{var{on:r,config:e}=n,t=sn.clone({precision:e.precision,modulo:sn.EUCLID});return t.prototype=Object.create(t.prototype),t.prototype.type="BigNumber",t.prototype.isBigNumber=!0,t.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},t.fromJSON=function(a){return new t(a.value)},r&&r("config",function(a,s){a.precision!==s.precision&&t.config({precision:a.precision})}),t},{isClass:!0});const ne=Math.cosh||function(n){return Math.abs(n)<1e-9?1-n:(Math.exp(n)+Math.exp(-n))*.5},de=Math.sinh||function(n){return Math.abs(n)<1e-9?n:(Math.exp(n)-Math.exp(-n))*.5},Cc=function(n){const r=Math.PI/4;if(-r>n||n>r)return Math.cos(n)-1;const e=n*n;return e*(e*(e*(e*(e*(e*(e*(e/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},ha=function(n,r){return n=Math.abs(n),r=Math.abs(r),n<r&&([n,r]=[r,n]),n<1e8?Math.sqrt(n*n+r*r):(r/=n,n*Math.sqrt(1+r*r))},lt=function(){throw SyntaxError("Invalid Param")};function ga(n,r){const e=Math.abs(n),t=Math.abs(r);return n===0?Math.log(t):r===0?Math.log(e):e<3e3&&t<3e3?Math.log(n*n+r*r)*.5:(n=n*.5,r=r*.5,.5*Math.log(n*n+r*r)+Math.LN2)}const Bc={re:0,im:0},Ke=function(n,r){const e=Bc;if(n==null)e.re=e.im=0;else if(r!==void 0)e.re=n,e.im=r;else switch(typeof n){case"object":if("im"in n&&"re"in n)e.re=n.re,e.im=n.im;else if("abs"in n&&"arg"in n){if(!isFinite(n.abs)&&isFinite(n.arg))return X.INFINITY;e.re=n.abs*Math.cos(n.arg),e.im=n.abs*Math.sin(n.arg)}else if("r"in n&&"phi"in n){if(!isFinite(n.r)&&isFinite(n.phi))return X.INFINITY;e.re=n.r*Math.cos(n.phi),e.im=n.r*Math.sin(n.phi)}else n.length===2?(e.re=n[0],e.im=n[1]):lt();break;case"string":e.im=e.re=0;const t=n.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let a=1,s=0;t===null&&lt();for(let l=0;l<t.length;l++){const m=t[l];m===" "||m==="	"||m===`
`||(m==="+"?a++:m==="-"?s++:m==="i"||m==="I"?(a+s===0&&lt(),t[l+1]!==" "&&!isNaN(t[l+1])?(e.im+=parseFloat((s%2?"-":"")+t[l+1]),l++):e.im+=parseFloat((s%2?"-":"")+"1"),a=s=0):((a+s===0||isNaN(m))&&lt(),t[l+1]==="i"||t[l+1]==="I"?(e.im+=parseFloat((s%2?"-":"")+m),l++):e.re+=parseFloat((s%2?"-":"")+m),a=s=0))}a+s>0&&lt();break;case"number":e.im=0,e.re=n;break;default:lt()}return isNaN(e.re)||isNaN(e.im),e};function X(n,r){if(!(this instanceof X))return new X(n,r);const e=Ke(n,r);this.re=e.re,this.im=e.im}X.prototype={re:0,im:0,sign:function(){const n=ha(this.re,this.im);return new X(this.re/n,this.im/n)},add:function(n,r){const e=Ke(n,r),t=this.isInfinite(),a=!(isFinite(e.re)&&isFinite(e.im));return t||a?t&&a?X.NAN:X.INFINITY:new X(this.re+e.re,this.im+e.im)},sub:function(n,r){const e=Ke(n,r),t=this.isInfinite(),a=!(isFinite(e.re)&&isFinite(e.im));return t||a?t&&a?X.NAN:X.INFINITY:new X(this.re-e.re,this.im-e.im)},mul:function(n,r){const e=Ke(n,r),t=this.isInfinite(),a=!(isFinite(e.re)&&isFinite(e.im)),s=this.re===0&&this.im===0,l=e.re===0&&e.im===0;return t&&l||a&&s?X.NAN:t||a?X.INFINITY:e.im===0&&this.im===0?new X(this.re*e.re,0):new X(this.re*e.re-this.im*e.im,this.re*e.im+this.im*e.re)},div:function(n,r){const e=Ke(n,r),t=this.isInfinite(),a=!(isFinite(e.re)&&isFinite(e.im)),s=this.re===0&&this.im===0,l=e.re===0&&e.im===0;if(s&&l||t&&a)return X.NAN;if(l||t)return X.INFINITY;if(s||a)return X.ZERO;if(e.im===0)return new X(this.re/e.re,this.im/e.re);if(Math.abs(e.re)<Math.abs(e.im)){const m=e.re/e.im,f=e.re*m+e.im;return new X((this.re*m+this.im)/f,(this.im*m-this.re)/f)}else{const m=e.im/e.re,f=e.im*m+e.re;return new X((this.re+this.im*m)/f,(this.im-this.re*m)/f)}},pow:function(n,r){const e=Ke(n,r),t=this.re===0&&this.im===0;if(e.re===0&&e.im===0)return X.ONE;if(e.im===0){if(this.im===0&&this.re>0)return new X(Math.pow(this.re,e.re),0);if(this.re===0)switch((e.re%4+4)%4){case 0:return new X(Math.pow(this.im,e.re),0);case 1:return new X(0,Math.pow(this.im,e.re));case 2:return new X(-Math.pow(this.im,e.re),0);case 3:return new X(0,-Math.pow(this.im,e.re))}}if(t&&e.re>0)return X.ZERO;const s=Math.atan2(this.im,this.re),l=ga(this.re,this.im);let m=Math.exp(e.re*l-e.im*s),f=e.im*l+e.re*s;return new X(m*Math.cos(f),m*Math.sin(f))},sqrt:function(){const n=this.re,r=this.im;if(r===0)return n>=0?new X(Math.sqrt(n),0):new X(0,Math.sqrt(-n));const e=ha(n,r);let t=Math.sqrt(.5*(e+Math.abs(n))),a=Math.abs(r)/(2*t);return n>=0?new X(t,r<0?-a:a):new X(a,r<0?-t:t)},exp:function(){const n=Math.exp(this.re);return this.im===0?new X(n,0):new X(n*Math.cos(this.im),n*Math.sin(this.im))},expm1:function(){const n=this.re,r=this.im;return new X(Math.expm1(n)*Math.cos(r)+Cc(r),Math.exp(n)*Math.sin(r))},log:function(){const n=this.re,r=this.im;return r===0&&n>0?new X(Math.log(n),0):new X(ga(n,r),Math.atan2(r,n))},abs:function(){return ha(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const n=this.re,r=this.im;return new X(Math.sin(n)*ne(r),Math.cos(n)*de(r))},cos:function(){const n=this.re,r=this.im;return new X(Math.cos(n)*ne(r),-Math.sin(n)*de(r))},tan:function(){const n=2*this.re,r=2*this.im,e=Math.cos(n)+ne(r);return new X(Math.sin(n)/e,de(r)/e)},cot:function(){const n=2*this.re,r=2*this.im,e=Math.cos(n)-ne(r);return new X(-Math.sin(n)/e,de(r)/e)},sec:function(){const n=this.re,r=this.im,e=.5*ne(2*r)+.5*Math.cos(2*n);return new X(Math.cos(n)*ne(r)/e,Math.sin(n)*de(r)/e)},csc:function(){const n=this.re,r=this.im,e=.5*ne(2*r)-.5*Math.cos(2*n);return new X(Math.sin(n)*ne(r)/e,-Math.cos(n)*de(r)/e)},asin:function(){const n=this.re,r=this.im,e=new X(r*r-n*n+1,-2*n*r).sqrt(),t=new X(e.re-r,e.im+n).log();return new X(t.im,-t.re)},acos:function(){const n=this.re,r=this.im,e=new X(r*r-n*n+1,-2*n*r).sqrt(),t=new X(e.re-r,e.im+n).log();return new X(Math.PI/2-t.im,t.re)},atan:function(){const n=this.re,r=this.im;if(n===0){if(r===1)return new X(0,1/0);if(r===-1)return new X(0,-1/0)}const e=n*n+(1-r)*(1-r),t=new X((1-r*r-n*n)/e,-2*n/e).log();return new X(-.5*t.im,.5*t.re)},acot:function(){const n=this.re,r=this.im;if(r===0)return new X(Math.atan2(1,n),0);const e=n*n+r*r;return e!==0?new X(n/e,-r/e).atan():new X(n!==0?n/0:0,r!==0?-r/0:0).atan()},asec:function(){const n=this.re,r=this.im;if(n===0&&r===0)return new X(0,1/0);const e=n*n+r*r;return e!==0?new X(n/e,-r/e).acos():new X(n!==0?n/0:0,r!==0?-r/0:0).acos()},acsc:function(){const n=this.re,r=this.im;if(n===0&&r===0)return new X(Math.PI/2,1/0);const e=n*n+r*r;return e!==0?new X(n/e,-r/e).asin():new X(n!==0?n/0:0,r!==0?-r/0:0).asin()},sinh:function(){const n=this.re,r=this.im;return new X(de(n)*Math.cos(r),ne(n)*Math.sin(r))},cosh:function(){const n=this.re,r=this.im;return new X(ne(n)*Math.cos(r),de(n)*Math.sin(r))},tanh:function(){const n=2*this.re,r=2*this.im,e=ne(n)+Math.cos(r);return new X(de(n)/e,Math.sin(r)/e)},coth:function(){const n=2*this.re,r=2*this.im,e=ne(n)-Math.cos(r);return new X(de(n)/e,-Math.sin(r)/e)},csch:function(){const n=this.re,r=this.im,e=Math.cos(2*r)-ne(2*n);return new X(-2*de(n)*Math.cos(r)/e,2*ne(n)*Math.sin(r)/e)},sech:function(){const n=this.re,r=this.im,e=Math.cos(2*r)+ne(2*n);return new X(2*ne(n)*Math.cos(r)/e,-2*de(n)*Math.sin(r)/e)},asinh:function(){let n=this.im;this.im=-this.re,this.re=n;const r=this.asin();return this.re=-this.im,this.im=n,n=r.re,r.re=-r.im,r.im=n,r},acosh:function(){const n=this.acos();if(n.im<=0){const r=n.re;n.re=-n.im,n.im=r}else{const r=n.im;n.im=-n.re,n.re=r}return n},atanh:function(){const n=this.re,r=this.im,e=n>1&&r===0,t=1-n,a=1+n,s=t*t+r*r,l=s!==0?new X((a*t-r*r)/s,(r*t+a*r)/s):new X(n!==-1?n/0:0,r!==0?r/0:0),m=l.re;return l.re=ga(l.re,l.im)/2,l.im=Math.atan2(l.im,m)/2,e&&(l.im=-l.im),l},acoth:function(){const n=this.re,r=this.im;if(n===0&&r===0)return new X(0,Math.PI/2);const e=n*n+r*r;return e!==0?new X(n/e,-r/e).atanh():new X(n!==0?n/0:0,r!==0?-r/0:0).atanh()},acsch:function(){const n=this.re,r=this.im;if(r===0)return new X(n!==0?Math.log(n+Math.sqrt(n*n+1)):1/0,0);const e=n*n+r*r;return e!==0?new X(n/e,-r/e).asinh():new X(n!==0?n/0:0,r!==0?-r/0:0).asinh()},asech:function(){const n=this.re,r=this.im;if(this.isZero())return X.INFINITY;const e=n*n+r*r;return e!==0?new X(n/e,-r/e).acosh():new X(n!==0?n/0:0,r!==0?-r/0:0).acosh()},inverse:function(){if(this.isZero())return X.INFINITY;if(this.isInfinite())return X.ZERO;const n=this.re,r=this.im,e=n*n+r*r;return new X(n/e,-r/e)},conjugate:function(){return new X(this.re,-this.im)},neg:function(){return new X(-this.re,-this.im)},ceil:function(n){return n=Math.pow(10,n||0),new X(Math.ceil(this.re*n)/n,Math.ceil(this.im*n)/n)},floor:function(n){return n=Math.pow(10,n||0),new X(Math.floor(this.re*n)/n,Math.floor(this.im*n)/n)},round:function(n){return n=Math.pow(10,n||0),new X(Math.round(this.re*n)/n,Math.round(this.im*n)/n)},equals:function(n,r){const e=Ke(n,r);return Math.abs(e.re-this.re)<=X.EPSILON&&Math.abs(e.im-this.im)<=X.EPSILON},clone:function(){return new X(this.re,this.im)},toString:function(){let n=this.re,r=this.im,e="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(n)<X.EPSILON&&(n=0),Math.abs(r)<X.EPSILON&&(r=0),r===0?e+n:(n!==0?(e+=n,e+=" ",r<0?(r=-r,e+="-"):e+="+",e+=" "):r<0&&(r=-r,e+="-"),r!==1&&(e+=r),e+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}};X.ZERO=new X(0,0);X.ONE=new X(1,0);X.I=new X(0,1);X.PI=new X(Math.PI,0);X.E=new X(Math.E,0);X.INFINITY=new X(1/0,1/0);X.NAN=new X(NaN,NaN);X.EPSILON=1e-15;var zc="Complex",Ic=[],Rc=L(zc,Ic,()=>(Object.defineProperty(X,"name",{value:"Complex"}),X.prototype.constructor=X,X.prototype.type="Complex",X.prototype.isComplex=!0,X.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},X.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},X.prototype.format=function(n){var r="",e=this.im,t=this.re,a=un(this.re,n),s=un(this.im,n),l=Gr(n)?n:n?n.precision:null;if(l!==null){var m=Math.pow(10,-l);Math.abs(t/e)<m&&(t=0),Math.abs(e/t)<m&&(e=0)}return e===0?r=a:t===0?e===1?r="i":e===-1?r="-i":r=s+"i":e<0?e===-1?r=a+" - i":r=a+" - "+s.substring(1)+"i":e===1?r=a+" + i":r=a+" + "+s+"i",r},X.fromPolar=function(n){switch(arguments.length){case 1:{var r=arguments[0];if(typeof r=="object")return X(r);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var e=arguments[0],t=arguments[1];if(Gr(e)){if(Ne(t)&&t.hasBase("ANGLE")&&(t=t.toNumber("rad")),Gr(t))return new X({r:e,phi:t});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},X.prototype.valueOf=X.prototype.toString,X.fromJSON=function(n){return new X(n)},X.compare=function(n,r){return n.re>r.re?1:n.re<r.re?-1:n.im>r.im?1:n.im<r.im?-1:0},X),{isClass:!0});typeof BigInt>"u"&&(BigInt=function(n){if(isNaN(n))throw new Error("");return n});const pr=BigInt(0),Sr=BigInt(1),Wr=BigInt(2),zt=BigInt(3),mt=BigInt(5),ve=BigInt(10);BigInt(Number.MAX_SAFE_INTEGER);const $c=2e3,sr={s:Sr,n:pr,d:Sr};function ze(n,r){try{n=BigInt(n)}catch{throw Pe()}return n*r}function xe(n){return typeof n=="bigint"?n:Math.floor(n)}function Fr(n,r){if(r===pr)throw Ta();const e=Object.create(he.prototype);e.s=n<pr?-Sr:Sr,n=n<pr?-n:n;const t=We(n,r);return e.n=n/t,e.d=r/t,e}const Dc=[Wr*Wr,Wr,Wr*Wr,Wr,Wr*Wr,Wr*zt,Wr,Wr*zt];function vt(n){const r=Object.create(null);if(n<=Sr)return r[n]=Sr,r;const e=t=>{r[t]=(r[t]||pr)+Sr};for(;n%Wr===pr;)e(Wr),n/=Wr;for(;n%zt===pr;)e(zt),n/=zt;for(;n%mt===pr;)e(mt),n/=mt;for(let t=0,a=Wr+mt;a*a<=n;){for(;n%a===pr;)e(a),n/=a;a+=Dc[t],t=t+1&7}return n>Sr&&e(n),r}const Kr=function(n,r){let e=pr,t=Sr,a=Sr;if(n!=null)if(r!==void 0){if(typeof n=="bigint")e=n;else{if(isNaN(n))throw Pe();if(n%1!==0)throw xn();e=BigInt(n)}if(typeof r=="bigint")t=r;else{if(isNaN(r))throw Pe();if(r%1!==0)throw xn();t=BigInt(r)}a=e*t}else if(typeof n=="object"){if("d"in n&&"n"in n)e=BigInt(n.n),t=BigInt(n.d),"s"in n&&(e*=BigInt(n.s));else if(0 in n)e=BigInt(n[0]),1 in n&&(t=BigInt(n[1]));else if(typeof n=="bigint")e=n;else throw Pe();a=e*t}else if(typeof n=="number"){if(isNaN(n))throw Pe();if(n<0&&(a=-Sr,n=-n),n%1===0)e=BigInt(n);else{let s=1,l=0,m=1,f=1,u=1,i=1e7;for(n>=1&&(s=10**Math.floor(1+Math.log10(n)),n/=s);m<=i&&u<=i;){let o=(l+f)/(m+u);if(n===o){m+u<=i?(e=l+f,t=m+u):u>m?(e=f,t=u):(e=l,t=m);break}else n>o?(l+=f,m+=u):(f+=l,u+=m),m>i?(e=f,t=u):(e=l,t=m)}e=BigInt(e)*BigInt(s),t=BigInt(t)}}else if(typeof n=="string"){let s=0,l=pr,m=pr,f=pr,u=Sr,i=Sr,o=n.replace(/_/g,"").match(/\d+|./g);if(o===null)throw Pe();if(o[s]==="-"?(a=-Sr,s++):o[s]==="+"&&s++,o.length===s+1?m=ze(o[s++],a):o[s+1]==="."||o[s]==="."?(o[s]!=="."&&(l=ze(o[s++],a)),s++,(s+1===o.length||o[s+1]==="("&&o[s+3]===")"||o[s+1]==="'"&&o[s+3]==="'")&&(m=ze(o[s],a),u=ve**BigInt(o[s].length),s++),(o[s]==="("&&o[s+2]===")"||o[s]==="'"&&o[s+2]==="'")&&(f=ze(o[s+1],a),i=ve**BigInt(o[s+1].length)-Sr,s+=3)):o[s+1]==="/"||o[s+1]===":"?(m=ze(o[s],a),u=ze(o[s+2],Sr),s+=3):o[s+3]==="/"&&o[s+1]===" "&&(l=ze(o[s],a),m=ze(o[s+2],a),u=ze(o[s+4],Sr),s+=5),o.length<=s)t=u*i,a=e=f+t*l+i*m;else throw Pe()}else if(typeof n=="bigint")e=n,a=n,t=Sr;else throw Pe();if(t===pr)throw Ta();sr.s=a<pr?-Sr:Sr,sr.n=e<pr?-e:e,sr.d=t<pr?-t:t};function Uc(n,r,e){let t=Sr;for(;r>pr;n=n*n%e,r>>=Sr)r&Sr&&(t=t*n%e);return t}function Fc(n,r){for(;r%Wr===pr;r/=Wr);for(;r%mt===pr;r/=mt);if(r===Sr)return pr;let e=ve%r,t=1;for(;e!==Sr;t++)if(e=e*ve%r,t>$c)return pr;return BigInt(t)}function Pc(n,r,e){let t=Sr,a=Uc(ve,e,r);for(let s=0;s<300;s++){if(t===a)return BigInt(s);t=t*ve%r,a=a*ve%r}return 0}function We(n,r){if(!n)return r;if(!r)return n;for(;;){if(n%=r,!n)return r;if(r%=n,!r)return n}}function he(n,r){if(Kr(n,r),this instanceof he)n=We(sr.d,sr.n),this.s=sr.s,this.n=sr.n/n,this.d=sr.d/n;else return Fr(sr.s*sr.n,sr.d)}const Ta=function(){return new Error("Division by Zero")},Pe=function(){return new Error("Invalid argument")},xn=function(){return new Error("Parameters must be integer")};he.prototype={s:Sr,n:pr,d:Sr,abs:function(){return Fr(this.n,this.d)},neg:function(){return Fr(-this.s*this.n,this.d)},add:function(n,r){return Kr(n,r),Fr(this.s*this.n*sr.d+sr.s*this.d*sr.n,this.d*sr.d)},sub:function(n,r){return Kr(n,r),Fr(this.s*this.n*sr.d-sr.s*this.d*sr.n,this.d*sr.d)},mul:function(n,r){return Kr(n,r),Fr(this.s*sr.s*this.n*sr.n,this.d*sr.d)},div:function(n,r){return Kr(n,r),Fr(this.s*sr.s*this.n*sr.d,this.d*sr.n)},clone:function(){return Fr(this.s*this.n,this.d)},mod:function(n,r){if(n===void 0)return Fr(this.s*this.n%this.d,Sr);if(Kr(n,r),pr===sr.n*this.d)throw Ta();return Fr(this.s*(sr.d*this.n)%(sr.n*this.d),sr.d*this.d)},gcd:function(n,r){return Kr(n,r),Fr(We(sr.n,this.n)*We(sr.d,this.d),sr.d*this.d)},lcm:function(n,r){return Kr(n,r),sr.n===pr&&this.n===pr?Fr(pr,Sr):Fr(sr.n*this.n,We(sr.n,this.n)*We(sr.d,this.d))},inverse:function(){return Fr(this.s*this.d,this.n)},pow:function(n,r){if(Kr(n,r),sr.d===Sr)return sr.s<pr?Fr((this.s*this.d)**sr.n,this.n**sr.n):Fr((this.s*this.n)**sr.n,this.d**sr.n);if(this.s<pr)return null;let e=vt(this.n),t=vt(this.d),a=Sr,s=Sr;for(let l in e)if(l!=="1"){if(l==="0"){a=pr;break}if(e[l]*=sr.n,e[l]%sr.d===pr)e[l]/=sr.d;else return null;a*=BigInt(l)**e[l]}for(let l in t)if(l!=="1"){if(t[l]*=sr.n,t[l]%sr.d===pr)t[l]/=sr.d;else return null;s*=BigInt(l)**t[l]}return sr.s<pr?Fr(s,a):Fr(a,s)},log:function(n,r){if(Kr(n,r),this.s<=pr||sr.s<=pr)return null;const e=Object.create(null),t=vt(sr.n),a=vt(sr.d),s=vt(this.n),l=vt(this.d);for(const u in a)t[u]=(t[u]||pr)-a[u];for(const u in l)s[u]=(s[u]||pr)-l[u];for(const u in t)u!=="1"&&(e[u]=!0);for(const u in s)u!=="1"&&(e[u]=!0);let m=null,f=null;for(const u in e){const i=t[u]||pr,o=s[u]||pr;if(i===pr){if(o!==pr)return null;continue}let c=o,p=i;const h=We(c,p);if(c/=h,p/=h,m===null&&f===null)m=c,f=p;else if(c*f!==m*p)return null}return m!==null&&f!==null?Fr(m,f):null},equals:function(n,r){return Kr(n,r),this.s*this.n*sr.d===sr.s*sr.n*this.d},lt:function(n,r){return Kr(n,r),this.s*this.n*sr.d<sr.s*sr.n*this.d},lte:function(n,r){return Kr(n,r),this.s*this.n*sr.d<=sr.s*sr.n*this.d},gt:function(n,r){return Kr(n,r),this.s*this.n*sr.d>sr.s*sr.n*this.d},gte:function(n,r){return Kr(n,r),this.s*this.n*sr.d>=sr.s*sr.n*this.d},compare:function(n,r){Kr(n,r);let e=this.s*this.n*sr.d-sr.s*sr.n*this.d;return(pr<e)-(e<pr)},ceil:function(n){return n=ve**BigInt(n||0),Fr(xe(this.s*n*this.n/this.d)+(n*this.n%this.d>pr&&this.s>=pr?Sr:pr),n)},floor:function(n){return n=ve**BigInt(n||0),Fr(xe(this.s*n*this.n/this.d)-(n*this.n%this.d>pr&&this.s<pr?Sr:pr),n)},round:function(n){return n=ve**BigInt(n||0),Fr(xe(this.s*n*this.n/this.d)+this.s*((this.s>=pr?Sr:pr)+Wr*(n*this.n%this.d)>this.d?Sr:pr),n)},roundTo:function(n,r){Kr(n,r);const e=this.n*sr.d,t=this.d*sr.n,a=e%t;let s=xe(e/t);return a+a>=t&&s++,Fr(this.s*s*sr.n,sr.d)},divisible:function(n,r){return Kr(n,r),sr.n===pr?!1:this.n*sr.d%(sr.n*this.d)===pr},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(n=15){let r=this.n,e=this.d,t=Fc(r,e),a=Pc(r,e,t),s=this.s<pr?"-":"";if(s+=xe(r/e),r%=e,r*=ve,r&&(s+="."),t){for(let l=a;l--;)s+=xe(r/e),r%=e,r*=ve;s+="(";for(let l=t;l--;)s+=xe(r/e),r%=e,r*=ve;s+=")"}else for(let l=n;r&&l--;)s+=xe(r/e),r%=e,r*=ve;return s},toFraction:function(n=!1){let r=this.n,e=this.d,t=this.s<pr?"-":"";if(e===Sr)t+=r;else{const a=xe(r/e);n&&a>pr&&(t+=a,t+=" ",r%=e),t+=r,t+="/",t+=e}return t},toLatex:function(n=!1){let r=this.n,e=this.d,t=this.s<pr?"-":"";if(e===Sr)t+=r;else{const a=xe(r/e);n&&a>pr&&(t+=a,r%=e),t+="\\frac{",t+=r,t+="}{",t+=e,t+="}"}return t},toContinued:function(){let n=this.n,r=this.d;const e=[];for(;r;){e.push(xe(n/r));const t=n%r;n=r,r=t}return e},simplify:function(n=.001){const r=BigInt(Math.ceil(1/n)),e=this.abs(),t=e.toContinued();for(let a=1;a<t.length;a++){let s=Fr(t[a-1],Sr);for(let m=a-2;m>=0;m--)s=s.inverse().add(t[m]);let l=s.sub(e);if(l.n*r<l.d)return s.mul(this.s)}return this}};var qc="Fraction",Lc=[],Gc=L(qc,Lc,()=>(Object.defineProperty(he,"name",{value:"Fraction"}),he.prototype.constructor=he,he.prototype.type="Fraction",he.prototype.isFraction=!0,he.prototype.toJSON=function(){return{mathjs:"Fraction",n:String(this.s*this.n),d:String(this.d)}},he.fromJSON=function(n){return new he(n)},he),{isClass:!0}),Vc="Matrix",Hc=[],Yc=L(Vc,Hc,()=>{function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator")}return n.prototype.type="Matrix",n.prototype.isMatrix=!0,n.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},n.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},n.prototype.create=function(r,e){throw new Error("Cannot invoke create on a Matrix interface")},n.prototype.subset=function(r,e,t){throw new Error("Cannot invoke subset on a Matrix interface")},n.prototype.get=function(r){throw new Error("Cannot invoke get on a Matrix interface")},n.prototype.set=function(r,e,t){throw new Error("Cannot invoke set on a Matrix interface")},n.prototype.resize=function(r,e){throw new Error("Cannot invoke resize on a Matrix interface")},n.prototype.reshape=function(r,e){throw new Error("Cannot invoke reshape on a Matrix interface")},n.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},n.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},n.prototype.map=function(r,e){throw new Error("Cannot invoke map on a Matrix interface")},n.prototype.forEach=function(r){throw new Error("Cannot invoke forEach on a Matrix interface")},n.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},n.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},n.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},n.prototype.format=function(r){throw new Error("Cannot invoke format on a Matrix interface")},n.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},n},{isClass:!0}),Zc="DenseMatrix",Qc=["Matrix"],Xc=L(Zc,Qc,n=>{var{Matrix:r}=n;function e(i,o){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");if(o&&!qe(o))throw new Error("Invalid datatype: "+o);if(_r(i))i.type==="DenseMatrix"?(this._data=wr(i._data),this._size=wr(i._size),this._datatype=o||i._datatype):(this._data=i.toArray(),this._size=i.size(),this._datatype=o||i._datatype);else if(i&&Ur(i.data)&&Ur(i.size))this._data=i.data,this._size=i.size,ln(this._data,this._size),this._datatype=o||i.datatype;else if(Ur(i))this._data=u(i),this._size=Tr(this._data),ln(this._data,this._size),this._datatype=o;else{if(i)throw new TypeError("Unsupported type of data ("+ge(i)+")");this._data=[],this._size=[0],this._datatype=o}}e.prototype=new r,e.prototype.createDenseMatrix=function(i,o){return new e(i,o)},Object.defineProperty(e,"name",{value:"DenseMatrix"}),e.prototype.constructor=e,e.prototype.type="DenseMatrix",e.prototype.isDenseMatrix=!0,e.prototype.getDataType=function(){return Ma(this._data,ge)},e.prototype.storage=function(){return"dense"},e.prototype.datatype=function(){return this._datatype},e.prototype.create=function(i,o){return new e(i,o)},e.prototype.subset=function(i,o,c){switch(arguments.length){case 1:return t(this,i);case 2:case 3:return s(this,i,o,c);default:throw new SyntaxError("Wrong number of arguments")}},e.prototype.get=function(i){return af(this._data,i)},e.prototype.set=function(i,o,c){if(!Ur(i))throw new TypeError("Array expected");if(i.length<this._size.length)throw new Vr(i.length,this._size.length,"<");var p,h,v,y=i.map(function(S){return S+1});f(this,y,c);var w=this._data;for(p=0,h=i.length-1;p<h;p++)v=i[p],Ir(v,w.length),w=w[v];return v=i[i.length-1],Ir(v,w.length),w[v]=o,this};function t(i,o){if(!Aa(o))throw new TypeError("Invalid index");var c=o.isScalar();if(c)return i.get(o.min());var p=o.size();if(p.length!==i._size.length)throw new Vr(p.length,i._size.length);for(var h=o.min(),v=o.max(),y=0,w=i._size.length;y<w;y++)Ir(h[y],i._size[y]),Ir(v[y],i._size[y]);var S=new e([]),b=a(i._data,o);return S._size=b.size,S._datatype=i._datatype,S._data=b.data,S}function a(i,o){var c=o.size().length-1,p=Array(c);return{data:h(i),size:p};function h(v){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,w=o.dimension(y);return p[y]=w.size()[0],y<c?w.map(S=>(Ir(S,v.length),h(v[S],y+1))).valueOf():w.map(S=>(Ir(S,v.length),v[S])).valueOf()}}function s(i,o,c,p){if(!o||o.isIndex!==!0)throw new TypeError("Invalid index");var h=o.size(),v=o.isScalar(),y;if(_r(c)?(y=c.size(),c=c.valueOf()):y=Tr(c),v){if(y.length!==0)throw new TypeError("Scalar expected");i.set(o.min(),c,p)}else{if(!wa(y,h))try{y.length===0?c=fn([c],h):c=fn(c,h),y=Tr(c)}catch{}if(h.length<i._size.length)throw new Vr(h.length,i._size.length,"<");if(y.length<h.length){for(var w=0,S=0;h[w]===1&&y[w]===1;)w++;for(;h[w]===1;)S++,w++;c=bs(c,h.length,S,y)}if(!wa(h,y))throw new Vr(h,y,">");var b=o.max().map(function(g){return g+1});f(i,b,p),l(i._data,o,c)}return i}function l(i,o,c){var p=o.size().length-1;h(i,c);function h(v,y){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,S=o.dimension(w);w<p?S.forEach((b,g)=>{Ir(b,v.length),h(v[b],y[g[0]],w+1)}):S.forEach((b,g)=>{Ir(b,v.length),v[b]=y[g[0]]})}}e.prototype.resize=function(i,o,c){if(!bt(i))throw new TypeError("Array or Matrix expected");var p=i.valueOf().map(v=>Array.isArray(v)&&v.length===1?v[0]:v),h=c?this.clone():this;return m(h,p,o)};function m(i,o,c){if(o.length===0){for(var p=i._data;Ur(p);)p=p[0];return p}return i._size=o.slice(0),i._data=pt(i._data,i._size,c),i}e.prototype.reshape=function(i,o){var c=o?this.clone():this;c._data=ws(c._data,i);var p=c._size.reduce((h,v)=>h*v);return c._size=xs(i,p),c};function f(i,o,c){for(var p=i._size.slice(0),h=!1;p.length<o.length;)p.push(0),h=!0;for(var v=0,y=o.length;v<y;v++)o[v]>p[v]&&(p[v]=o[v],h=!0);h&&m(i,p,c)}e.prototype.clone=function(){var i=new e({data:wr(this._data),size:wr(this._size),datatype:this._datatype});return i},e.prototype.size=function(){return this._size.slice(0)},e.prototype.map=function(i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,c=this,p=c._size.length-1;if(p<0)return c.clone();var h=Xt(i,c,"map",o),v=h.fn,y=c.create(void 0,c._datatype);if(y._size=c._size,o||h.isUnary)return y._data=d(c._data),y;if(p===0){for(var w=c.valueOf(),S=Array(w.length),b=0;b<w.length;b++)S[b]=v(w[b],[b],c);return y._data=S,y}var g=[];return y._data=x(c._data),y;function x(_){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,N=Array(_.length);if(A<p)for(var M=0;M<_.length;M++)g[A]=M,N[M]=x(_[M],A+1);else for(var E=0;E<_.length;E++)g[A]=E,N[E]=v(_[E],g.slice(),c);return N}function d(_){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,N=Array(_.length);if(A<p)for(var M=0;M<_.length;M++)N[M]=d(_[M],A+1);else for(var E=0;E<_.length;E++)N[E]=v(_[E]);return N}},e.prototype.forEach=function(i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,c=this,p=c._size.length-1;if(p<0)return;var h=Xt(i,c,"map",o),v=h.fn;if(o||h.isUnary){b(c._data);return}if(p===0){for(var y=0;y<c._data.length;y++)v(c._data[y],[y],c);return}var w=[];S(c._data);function S(g){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(x<p)for(var d=0;d<g.length;d++)w[x]=d,S(g[d],x+1);else for(var _=0;_<g.length;_++)w[x]=_,v(g[_],w.slice(),c)}function b(g){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(x<p)for(var d=0;d<g.length;d++)b(g[d],x+1);else for(var _=0;_<g.length;_++)v(g[_])}},e.prototype[Symbol.iterator]=function*(){var i=this._size.length-1;if(!(i<0)){if(i===0){for(var o=0;o<this._data.length;o++)yield{value:this._data[o],index:[o]};return}var c=[],p=function*(v,y){if(y<i)for(var w=0;w<v.length;w++)c[y]=w,yield*p(v[w],y+1);else for(var S=0;S<v.length;S++)c[y]=S,yield{value:v[S],index:c.slice()}};yield*p(this._data,0)}},e.prototype.rows=function(){var i=[],o=this.size();if(o.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var c=this._data;for(var p of c)i.push(new e([p],this._datatype));return i},e.prototype.columns=function(){var i=this,o=[],c=this.size();if(c.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var p=this._data,h=function(w){var S=p.map(b=>[b[w]]);o.push(new e(S,i._datatype))},v=0;v<c[1];v++)h(v);return o},e.prototype.toArray=function(){return wr(this._data)},e.prototype.valueOf=function(){return this._data},e.prototype.format=function(i){return Er(this._data,i)},e.prototype.toString=function(){return Er(this._data)},e.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},e.prototype.diagonal=function(i){if(i){if(Dr(i)&&(i=i.toNumber()),!Gr(i)||!Rr(i))throw new TypeError("The parameter k must be an integer number")}else i=0;for(var o=i>0?i:0,c=i<0?-i:0,p=this._size[0],h=this._size[1],v=Math.min(p-c,h-o),y=[],w=0;w<v;w++)y[w]=this._data[w+c][w+o];return new e({data:y,size:[v],datatype:this._datatype})},e.diagonal=function(i,o,c,p){if(!Ur(i))throw new TypeError("Array expected, size parameter");if(i.length!==2)throw new Error("Only two dimensions matrix are supported");if(i=i.map(function(_){if(Dr(_)&&(_=_.toNumber()),!Gr(_)||!Rr(_)||_<1)throw new Error("Size values must be positive integers");return _}),c){if(Dr(c)&&(c=c.toNumber()),!Gr(c)||!Rr(c))throw new TypeError("The parameter k must be an integer number")}else c=0;var h=c>0?c:0,v=c<0?-c:0,y=i[0],w=i[1],S=Math.min(y-v,w-h),b;if(Ur(o)){if(o.length!==S)throw new Error("Invalid value array length");b=function(A){return o[A]}}else if(_r(o)){var g=o.size();if(g.length!==1||g[0]!==S)throw new Error("Invalid matrix length");b=function(A){return o.get([A])}}else b=function(){return o};p||(p=Dr(b(0))?b(0).mul(0):0);var x=[];if(i.length>0){x=pt(x,i,p);for(var d=0;d<S;d++)x[d+v][d+h]=b(d)}return new e({data:x,size:[y,w]})},e.fromJSON=function(i){return new e(i)},e.prototype.swapRows=function(i,o){if(!Gr(i)||!Rr(i)||!Gr(o)||!Rr(o))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Ir(i,this._size[0]),Ir(o,this._size[0]),e._swapRows(i,o,this._data),this},e._swapRows=function(i,o,c){var p=c[i];c[i]=c[o],c[o]=p};function u(i){return _r(i)?u(i.valueOf()):Ur(i)?i.map(u):i}return e},{isClass:!0}),Nn="isInteger",Jc=["typed"],Kc=L(Nn,Jc,n=>{var{typed:r}=n;return r(Nn,{number:Rr,BigNumber:function(t){return t.isInt()},bigint:function(t){return!0},Fraction:function(t){return t.d===1n},"Array | Matrix":r.referToSelf(e=>t=>Pr(t,e))})}),Sn="isNegative",Wc=["typed","config"],kc=L(Sn,Wc,n=>{var{typed:r,config:e}=n;return r(Sn,{number:t=>Kt(t,0,e.relTol,e.absTol)?!1:nf(t),BigNumber:t=>Jt(t,new t.constructor(0),e.relTol,e.absTol)?!1:t.isNeg()&&!t.isZero()&&!t.isNaN(),bigint:t=>t<0n,Fraction:t=>t.s<0n,Unit:r.referToSelf(t=>a=>r.find(t,a.valueType())(a.value)),"Array | Matrix":r.referToSelf(t=>a=>Pr(a,t))})}),_n="isPositive",jc=["typed","config"],rm=L(_n,jc,n=>{var{typed:r,config:e}=n;return r(_n,{number:t=>Kt(t,0,e.relTol,e.absTol)?!1:of(t),BigNumber:t=>Jt(t,new t.constructor(0),e.relTol,e.absTol)?!1:!t.isNeg()&&!t.isZero()&&!t.isNaN(),bigint:t=>t>0n,Fraction:t=>t.s>0n&&t.n>0n,Unit:r.referToSelf(t=>a=>r.find(t,a.valueType())(a.value)),"Array | Matrix":r.referToSelf(t=>a=>Pr(a,t))})}),Mn="isZero",em=["typed","equalScalar"],tm=L(Mn,em,n=>{var{typed:r,equalScalar:e}=n;return r(Mn,{"number | BigNumber | Complex | Fraction":t=>e(t,0),bigint:t=>t===0n,Unit:r.referToSelf(t=>a=>r.find(t,a.valueType())(a.value)),"Array | Matrix":r.referToSelf(t=>a=>Pr(a,t))})}),An="isNaN",am=["typed"],nm=L(An,am,n=>{var{typed:r}=n;return r(An,{number:sf,BigNumber:function(t){return t.isNaN()},bigint:function(t){return!1},Fraction:function(t){return!1},Complex:function(t){return t.isNaN()},Unit:function(t){return Number.isNaN(t.value)},"Array | Matrix":r.referToSelf(e=>t=>Pr(t,e))})}),im="SparseMatrix",om=["typed","equalScalar","Matrix"],sm=L(im,om,n=>{var{typed:r,equalScalar:e,Matrix:t}=n;function a(v,y){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(y&&!qe(y))throw new Error("Invalid datatype: "+y);if(_r(v))s(this,v,y);else if(v&&Ur(v.index)&&Ur(v.ptr)&&Ur(v.size))this._values=v.values,this._index=v.index,this._ptr=v.ptr,this._size=v.size,this._datatype=y||v.datatype;else if(Ur(v))l(this,v,y);else{if(v)throw new TypeError("Unsupported type of data ("+ge(v)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=y}}function s(v,y,w){y.type==="SparseMatrix"?(v._values=y._values?wr(y._values):void 0,v._index=wr(y._index),v._ptr=wr(y._ptr),v._size=wr(y._size),v._datatype=w||y._datatype):l(v,y.valueOf(),w||y._datatype)}function l(v,y,w){v._values=[],v._index=[],v._ptr=[],v._datatype=w;var S=y.length,b=0,g=e,x=0;if(qe(w)&&(g=r.find(e,[w,w])||e,x=r.convert(0,w)),S>0){var d=0;do{v._ptr.push(v._index.length);for(var _=0;_<S;_++){var A=y[_];if(Ur(A)){if(d===0&&b<A.length&&(b=A.length),d<A.length){var N=A[d];g(N,x)||(v._values.push(N),v._index.push(_))}}else d===0&&b<1&&(b=1),g(A,x)||(v._values.push(A),v._index.push(_))}d++}while(d<b)}v._ptr.push(v._index.length),v._size=[S,b]}a.prototype=new t,a.prototype.createSparseMatrix=function(v,y){return new a(v,y)},Object.defineProperty(a,"name",{value:"SparseMatrix"}),a.prototype.constructor=a,a.prototype.type="SparseMatrix",a.prototype.isSparseMatrix=!0,a.prototype.getDataType=function(){return Ma(this._values,ge)},a.prototype.storage=function(){return"sparse"},a.prototype.datatype=function(){return this._datatype},a.prototype.create=function(v,y){return new a(v,y)},a.prototype.density=function(){var v=this._size[0],y=this._size[1];return v!==0&&y!==0?this._index.length/(v*y):0},a.prototype.subset=function(v,y,w){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return m(this,v);case 2:case 3:return f(this,v,y,w);default:throw new SyntaxError("Wrong number of arguments")}};function m(v,y){if(!Aa(y))throw new TypeError("Invalid index");var w=y.isScalar();if(w)return v.get(y.min());var S=y.size();if(S.length!==v._size.length)throw new Vr(S.length,v._size.length);var b,g,x,d,_=y.min(),A=y.max();for(b=0,g=v._size.length;b<g;b++)Ir(_[b],v._size[b]),Ir(A[b],v._size[b]);var N=v._values,M=v._index,E=v._ptr,T=y.dimension(0),z=y.dimension(1),R=[],P=[];T.forEach(function($,Y){P[$]=Y[0],R[$]=!0});var D=N?[]:void 0,q=[],F=[];return z.forEach(function($){for(F.push(q.length),x=E[$],d=E[$+1];x<d;x++)b=M[x],R[b]===!0&&(q.push(P[b]),D&&D.push(N[x]))}),F.push(q.length),new a({values:D,index:q,ptr:F,size:S,datatype:v._datatype})}function f(v,y,w,S){if(!y||y.isIndex!==!0)throw new TypeError("Invalid index");var b=y.size(),g=y.isScalar(),x;if(_r(w)?(x=w.size(),w=w.toArray()):x=Tr(w),g){if(x.length!==0)throw new TypeError("Scalar expected");v.set(y.min(),w,S)}else{if(b.length!==1&&b.length!==2)throw new Vr(b.length,v._size.length,"<");if(x.length<b.length){for(var d=0,_=0;b[d]===1&&x[d]===1;)d++;for(;b[d]===1;)_++,d++;w=bs(w,b.length,_,x)}if(!wa(b,x))throw new Vr(b,x,">");if(b.length===1){var A=y.dimension(0);A.forEach(function(E,T){Ir(E),v.set([E,0],w[T[0]],S)})}else{var N=y.dimension(0),M=y.dimension(1);N.forEach(function(E,T){Ir(E),M.forEach(function(z,R){Ir(z),v.set([E,z],w[T[0]][R[0]],S)})})}}return v}a.prototype.get=function(v){if(!Ur(v))throw new TypeError("Array expected");if(v.length!==this._size.length)throw new Vr(v.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var y=v[0],w=v[1];Ir(y,this._size[0]),Ir(w,this._size[1]);var S=u(y,this._ptr[w],this._ptr[w+1],this._index);return S<this._ptr[w+1]&&this._index[S]===y?this._values[S]:0},a.prototype.set=function(v,y,w){if(!Ur(v))throw new TypeError("Array expected");if(v.length!==this._size.length)throw new Vr(v.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var S=v[0],b=v[1],g=this._size[0],x=this._size[1],d=e,_=0;qe(this._datatype)&&(d=r.find(e,[this._datatype,this._datatype])||e,_=r.convert(0,this._datatype)),(S>g-1||b>x-1)&&(c(this,Math.max(S+1,g),Math.max(b+1,x),w),g=this._size[0],x=this._size[1]),Ir(S,g),Ir(b,x);var A=u(S,this._ptr[b],this._ptr[b+1],this._index);return A<this._ptr[b+1]&&this._index[A]===S?d(y,_)?i(A,b,this._values,this._index,this._ptr):this._values[A]=y:d(y,_)||o(A,S,b,y,this._values,this._index,this._ptr),this};function u(v,y,w,S){if(w-y===0)return w;for(var b=y;b<w;b++)if(S[b]===v)return b;return y}function i(v,y,w,S,b){w.splice(v,1),S.splice(v,1);for(var g=y+1;g<b.length;g++)b[g]--}function o(v,y,w,S,b,g,x){b.splice(v,0,S),g.splice(v,0,y);for(var d=w+1;d<x.length;d++)x[d]++}a.prototype.resize=function(v,y,w){if(!bt(v))throw new TypeError("Array or Matrix expected");var S=v.valueOf().map(g=>Array.isArray(g)&&g.length===1?g[0]:g);if(S.length!==2)throw new Error("Only two dimensions matrix are supported");S.forEach(function(g){if(!Gr(g)||!Rr(g)||g<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Er(S)+")")});var b=w?this.clone():this;return c(b,S[0],S[1],y)};function c(v,y,w,S){var b=S||0,g=e,x=0;qe(v._datatype)&&(g=r.find(e,[v._datatype,v._datatype])||e,x=r.convert(0,v._datatype),b=r.convert(b,v._datatype));var d=!g(b,x),_=v._size[0],A=v._size[1],N,M,E;if(w>A){for(M=A;M<w;M++)if(v._ptr[M]=v._values.length,d)for(N=0;N<_;N++)v._values.push(b),v._index.push(N);v._ptr[w]=v._values.length}else w<A&&(v._ptr.splice(w+1,A-w),v._values.splice(v._ptr[w],v._values.length),v._index.splice(v._ptr[w],v._index.length));if(A=w,y>_){if(d){var T=0;for(M=0;M<A;M++){v._ptr[M]=v._ptr[M]+T,E=v._ptr[M+1]+T;var z=0;for(N=_;N<y;N++,z++)v._values.splice(E+z,0,b),v._index.splice(E+z,0,N),T++}v._ptr[A]=v._values.length}}else if(y<_){var R=0;for(M=0;M<A;M++){v._ptr[M]=v._ptr[M]-R;var P=v._ptr[M],D=v._ptr[M+1]-R;for(E=P;E<D;E++)N=v._index[E],N>y-1&&(v._values.splice(E,1),v._index.splice(E,1),R++)}v._ptr[M]=v._values.length}return v._size[0]=y,v._size[1]=w,v}a.prototype.reshape=function(v,y){if(!Ur(v))throw new TypeError("Array expected");if(v.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");v.forEach(function($){if(!Gr($)||!Rr($)||$<=-2||$===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Er(v)+")")});var w=this._size[0]*this._size[1];v=xs(v,w);var S=v[0]*v[1];if(w!==S)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var b=y?this.clone():this;if(this._size[0]===v[0]&&this._size[1]===v[1])return b;for(var g=[],x=0;x<b._ptr.length;x++)for(var d=0;d<b._ptr[x+1]-b._ptr[x];d++)g.push(x);for(var _=b._values.slice(),A=b._index.slice(),N=0;N<b._index.length;N++){var M=A[N],E=g[N],T=M*b._size[1]+E;g[N]=T%v[1],A[N]=Math.floor(T/v[1])}b._values.length=0,b._index.length=0,b._ptr.length=v[1]+1,b._size=v.slice();for(var z=0;z<b._ptr.length;z++)b._ptr[z]=0;for(var R=0;R<_.length;R++){var P=A[R],D=g[R],q=_[R],F=u(P,b._ptr[D],b._ptr[D+1],b._index);o(F,P,D,q,b._values,b._index,b._ptr)}return b},a.prototype.clone=function(){var v=new a({values:this._values?wr(this._values):void 0,index:wr(this._index),ptr:wr(this._ptr),size:wr(this._size),datatype:this._datatype});return v},a.prototype.size=function(){return this._size.slice(0)},a.prototype.map=function(v,y){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var w=this,S=this._size[0],b=this._size[1],g=Xt(v,w,"map"),x=function(_,A,N){return g.fn(_,[A,N],w)};return p(this,0,S-1,0,b-1,x,y)};function p(v,y,w,S,b,g,x){var d=[],_=[],A=[],N=e,M=0;qe(v._datatype)&&(N=r.find(e,[v._datatype,v._datatype])||e,M=r.convert(0,v._datatype));for(var E=function(V,C,tr){var rr=g(V,C,tr);N(rr,M)||(d.push(rr),_.push(C))},T=S;T<=b;T++){A.push(d.length);var z=v._ptr[T],R=v._ptr[T+1];if(x)for(var P=z;P<R;P++){var D=v._index[P];D>=y&&D<=w&&E(v._values[P],D-y,T-S)}else{for(var q={},F=z;F<R;F++){var $=v._index[F];q[$]=v._values[F]}for(var Y=y;Y<=w;Y++){var Q=Y in q?q[Y]:0;E(Q,Y-y,T-S)}}}return A.push(d.length),new a({values:d,index:_,ptr:A,size:[w-y+1,b-S+1]})}a.prototype.forEach=function(v,y){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var w=this,S=this._size[0],b=this._size[1],g=Xt(v,w,"forEach"),x=0;x<b;x++){var d=this._ptr[x],_=this._ptr[x+1];if(y)for(var A=d;A<_;A++){var N=this._index[A];g.fn(this._values[A],[N,x],w)}else{for(var M={},E=d;E<_;E++){var T=this._index[E];M[T]=this._values[E]}for(var z=0;z<S;z++){var R=z in M?M[z]:0;g.fn(R,[z,x],w)}}}},a.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var v=this._size[1],y=0;y<v;y++)for(var w=this._ptr[y],S=this._ptr[y+1],b=w;b<S;b++){var g=this._index[b];yield{value:this._values[b],index:[g,y]}}},a.prototype.toArray=function(){return h(this._values,this._index,this._ptr,this._size,!0)},a.prototype.valueOf=function(){return h(this._values,this._index,this._ptr,this._size,!1)};function h(v,y,w,S,b){var g=S[0],x=S[1],d=[],_,A;for(_=0;_<g;_++)for(d[_]=[],A=0;A<x;A++)d[_][A]=0;for(A=0;A<x;A++)for(var N=w[A],M=w[A+1],E=N;E<M;E++)_=y[E],d[_][A]=v?b?wr(v[E]):v[E]:1;return d}return a.prototype.format=function(v){for(var y=this._size[0],w=this._size[1],S=this.density(),b="Sparse Matrix ["+Er(y,v)+" x "+Er(w,v)+"] density: "+Er(S,v)+`
`,g=0;g<w;g++)for(var x=this._ptr[g],d=this._ptr[g+1],_=x;_<d;_++){var A=this._index[_];b+=`
    (`+Er(A,v)+", "+Er(g,v)+") ==> "+(this._values?Er(this._values[_],v):"X")}return b},a.prototype.toString=function(){return Er(this.toArray())},a.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},a.prototype.diagonal=function(v){if(v){if(Dr(v)&&(v=v.toNumber()),!Gr(v)||!Rr(v))throw new TypeError("The parameter k must be an integer number")}else v=0;var y=v>0?v:0,w=v<0?-v:0,S=this._size[0],b=this._size[1],g=Math.min(S-w,b-y),x=[],d=[],_=[];_[0]=0;for(var A=y;A<b&&x.length<g;A++)for(var N=this._ptr[A],M=this._ptr[A+1],E=N;E<M;E++){var T=this._index[E];if(T===A-y+w){x.push(this._values[E]),d[x.length-1]=T-w;break}}return _.push(x.length),new a({values:x,index:d,ptr:_,size:[g,1]})},a.fromJSON=function(v){return new a(v)},a.diagonal=function(v,y,w,S,b){if(!Ur(v))throw new TypeError("Array expected, size parameter");if(v.length!==2)throw new Error("Only two dimensions matrix are supported");if(v=v.map(function($){if(Dr($)&&($=$.toNumber()),!Gr($)||!Rr($)||$<1)throw new Error("Size values must be positive integers");return $}),w){if(Dr(w)&&(w=w.toNumber()),!Gr(w)||!Rr(w))throw new TypeError("The parameter k must be an integer number")}else w=0;var g=e,x=0;qe(b)&&(g=r.find(e,[b,b])||e,x=r.convert(0,b));var d=w>0?w:0,_=w<0?-w:0,A=v[0],N=v[1],M=Math.min(A-_,N-d),E;if(Ur(y)){if(y.length!==M)throw new Error("Invalid value array length");E=function(Y){return y[Y]}}else if(_r(y)){var T=y.size();if(T.length!==1||T[0]!==M)throw new Error("Invalid matrix length");E=function(Y){return y.get([Y])}}else E=function(){return y};for(var z=[],R=[],P=[],D=0;D<N;D++){P.push(z.length);var q=D-d;if(q>=0&&q<M){var F=E(q);g(F,x)||(R.push(q+_),z.push(F))}}return P.push(z.length),new a({values:z,index:R,ptr:P,size:[A,N]})},a.prototype.swapRows=function(v,y){if(!Gr(v)||!Rr(v)||!Gr(y)||!Rr(y))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Ir(v,this._size[0]),Ir(y,this._size[0]),a._swapRows(v,y,this._size[1],this._values,this._index,this._ptr),this},a._forEachRow=function(v,y,w,S,b){for(var g=S[v],x=S[v+1],d=g;d<x;d++)b(w[d],y[d])},a._swapRows=function(v,y,w,S,b,g){for(var x=0;x<w;x++){var d=g[x],_=g[x+1],A=u(v,d,_,b),N=u(y,d,_,b);if(A<_&&N<_&&b[A]===v&&b[N]===y){if(S){var M=S[A];S[A]=S[N],S[N]=M}continue}if(A<_&&b[A]===v&&(N>=_||b[N]!==y)){var E=S?S[A]:void 0;b.splice(N,0,y),S&&S.splice(N,0,E),b.splice(N<=A?A+1:A,1),S&&S.splice(N<=A?A+1:A,1);continue}if(N<_&&b[N]===y&&(A>=_||b[A]!==v)){var T=S?S[N]:void 0;b.splice(A,0,v),S&&S.splice(A,0,T),b.splice(A<=N?N+1:N,1),S&&S.splice(A<=N?N+1:N,1)}}},a},{isClass:!0}),um="bignumber",fm=["typed","BigNumber"],lm=L(um,fm,n=>{var{typed:r,BigNumber:e}=n;return r("bignumber",{"":function(){return new e(0)},number:function(a){return new e(a+"")},string:function(a){var s=a.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(s){var l=s[2],m=e(s[1]),f=new e(2).pow(Number(l));if(m.gt(f.sub(1)))throw new SyntaxError('String "'.concat(a,'" is out of range'));var u=new e(2).pow(Number(l)-1);return m.gte(u)?m.sub(f):m}return new e(a)},BigNumber:function(a){return a},bigint:function(a){return new e(a.toString())},Unit:r.referToSelf(t=>a=>{var s=a.clone();return s.value=t(a.value),s}),Fraction:function(a){return new e(String(a.n)).div(String(a.d)).times(String(a.s))},null:function(a){return new e(0)},"Array | Matrix":r.referToSelf(t=>a=>Pr(a,t))})}),vm="complex",cm=["typed","Complex"],mm=L(vm,cm,n=>{var{typed:r,Complex:e}=n;return r("complex",{"":function(){return e.ZERO},number:function(a){return new e(a,0)},"number, number":function(a,s){return new e(a,s)},"BigNumber, BigNumber":function(a,s){return new e(a.toNumber(),s.toNumber())},Fraction:function(a){return new e(a.valueOf(),0)},Complex:function(a){return a.clone()},string:function(a){return e(a)},null:function(a){return e(0)},Object:function(a){if("re"in a&&"im"in a)return new e(a.re,a.im);if("r"in a&&"phi"in a||"abs"in a&&"arg"in a)return new e(a);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":r.referToSelf(t=>a=>Pr(a,t))})}),pm="fraction",dm=["typed","Fraction"],hm=L(pm,dm,n=>{var{typed:r,Fraction:e}=n;return r("fraction",{number:function(a){if(!isFinite(a)||isNaN(a))throw new Error(a+" cannot be represented as a fraction");return new e(a)},string:function(a){return new e(a)},"number, number":function(a,s){return new e(a,s)},"bigint, bigint":function(a,s){return new e(a,s)},null:function(a){return new e(0)},BigNumber:function(a){return new e(a.toString())},bigint:function(a){return new e(a.toString())},Fraction:function(a){return a},Unit:r.referToSelf(t=>a=>{var s=a.clone();return s.value=t(a.value),s}),Object:function(a){return new e(a)},"Array | Matrix":r.referToSelf(t=>a=>Pr(a,t))})}),En="matrix",gm=["typed","Matrix","DenseMatrix","SparseMatrix"],ym=L(En,gm,n=>{var{typed:r,Matrix:e,DenseMatrix:t,SparseMatrix:a}=n;return r(En,{"":function(){return s([])},string:function(m){return s([],m)},"string, string":function(m,f){return s([],m,f)},Array:function(m){return s(m)},Matrix:function(m){return s(m,m.storage())},"Array | Matrix, string":s,"Array | Matrix, string, string":s});function s(l,m,f){if(m==="dense"||m==="default"||m===void 0)return new t(l,f);if(m==="sparse")return new a(l,f);throw new TypeError("Unknown matrix type "+JSON.stringify(m)+".")}}),Tn="matrixFromFunction",bm=["typed","matrix","isZero"],wm=L(Tn,bm,n=>{var{typed:r,matrix:e,isZero:t}=n;return r(Tn,{"Array | Matrix, function, string, string":function(l,m,f,u){return a(l,m,f,u)},"Array | Matrix, function, string":function(l,m,f){return a(l,m,f)},"Matrix, function":function(l,m){return a(l,m,"dense")},"Array, function":function(l,m){return a(l,m,"dense").toArray()},"Array | Matrix, string, function":function(l,m,f){return a(l,f,m)},"Array | Matrix, string, string, function":function(l,m,f,u){return a(l,u,m,f)}});function a(s,l,m,f){var u;return f!==void 0?u=e(m,f):u=e(m),u.resize(s),u.forEach(function(i,o){var c=l(o);t(c)||u.set(o,c)}),u}}),On="matrixFromRows",xm=["typed","matrix","flatten","size"],Nm=L(On,xm,n=>{var{typed:r,matrix:e,flatten:t,size:a}=n;return r(On,{"...Array":function(f){return s(f)},"...Matrix":function(f){return e(s(f.map(u=>u.toArray())))}});function s(m){if(m.length===0)throw new TypeError("At least one row is needed to construct a matrix.");var f=l(m[0]),u=[];for(var i of m){var o=l(i);if(o!==f)throw new TypeError("The vectors had different length: "+(f|0)+" ≠ "+(o|0));u.push(t(i))}return u}function l(m){var f=a(m);if(f.length===1)return f[0];if(f.length===2){if(f[0]===1)return f[1];if(f[1]===1)return f[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),Cn="matrixFromColumns",Sm=["typed","matrix","flatten","size"],_m=L(Cn,Sm,n=>{var{typed:r,matrix:e,flatten:t,size:a}=n;return r(Cn,{"...Array":function(f){return s(f)},"...Matrix":function(f){return e(s(f.map(u=>u.toArray())))}});function s(m){if(m.length===0)throw new TypeError("At least one column is needed to construct a matrix.");for(var f=l(m[0]),u=[],i=0;i<f;i++)u[i]=[];for(var o of m){var c=l(o);if(c!==f)throw new TypeError("The vectors had different length: "+(f|0)+" ≠ "+(c|0));for(var p=t(o),h=0;h<f;h++)u[h].push(p[h])}return u}function l(m){var f=a(m);if(f.length===1)return f[0];if(f.length===2){if(f[0]===1)return f[1];if(f[1]===1)return f[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),Bn="splitUnit",Mm=["typed"],Am=L(Bn,Mm,n=>{var{typed:r}=n;return r(Bn,{"Unit, Array":function(t,a){return t.splitUnit(a)}})}),zn="unaryMinus",Em=["typed"],Tm=L(zn,Em,n=>{var{typed:r}=n;return r(zn,{number:uf,"Complex | BigNumber | Fraction":e=>e.neg(),bigint:e=>-e,Unit:r.referToSelf(e=>t=>{var a=t.clone();return a.value=r.find(e,a.valueType())(t.value),a}),"Array | Matrix":r.referToSelf(e=>t=>Pr(t,e,!0))})}),In="unaryPlus",Om=["typed","config","numeric"],Cm=L(In,Om,n=>{var{typed:r,config:e,numeric:t}=n;return r(In,{number:ff,Complex:function(s){return s},BigNumber:function(s){return s},bigint:function(s){return s},Fraction:function(s){return s},Unit:function(s){return s.clone()},"Array | Matrix":r.referToSelf(a=>s=>Pr(s,a,!0)),boolean:function(s){return t(s?1:0,e.number)},string:function(s){return t(s,lf(s,e))}})}),Rn="abs",Bm=["typed"],zm=L(Rn,Bm,n=>{var{typed:r}=n;return r(Rn,{number:vf,"Complex | BigNumber | Fraction | Unit":e=>e.abs(),bigint:e=>e<0n?-e:e,"Array | Matrix":r.referToSelf(e=>t=>Pr(t,e,!0))})}),$n="addScalar",Im=["typed"],Rm=L($n,Im,n=>{var{typed:r}=n;return r($n,{"number, number":cf,"Complex, Complex":function(t,a){return t.add(a)},"BigNumber, BigNumber":function(t,a){return t.plus(a)},"bigint, bigint":function(t,a){return t+a},"Fraction, Fraction":function(t,a){return t.add(a)},"Unit, Unit":r.referToSelf(e=>(t,a)=>{if(t.value===null||t.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(a.value===null||a.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(a))throw new Error("Units do not match");var s=t.clone();return s.value=r.find(e,[s.valueType(),a.valueType()])(s.value,a.value),s.fixPrefix=!1,s})})}),Dn="subtractScalar",$m=["typed"],Dm=L(Dn,$m,n=>{var{typed:r}=n;return r(Dn,{"number, number":mf,"Complex, Complex":function(t,a){return t.sub(a)},"BigNumber, BigNumber":function(t,a){return t.minus(a)},"bigint, bigint":function(t,a){return t-a},"Fraction, Fraction":function(t,a){return t.sub(a)},"Unit, Unit":r.referToSelf(e=>(t,a)=>{if(t.value===null||t.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(a.value===null||a.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(a))throw new Error("Units do not match");var s=t.clone();return s.value=r.find(e,[s.valueType(),a.valueType()])(s.value,a.value),s.fixPrefix=!1,s})})}),Un="cbrt",Um=["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],Fm=L(Un,Um,n=>{var{config:r,typed:e,isNegative:t,unaryMinus:a,matrix:s,Complex:l,BigNumber:m,Fraction:f}=n;return e(Un,{number:Zt,Complex:u,"Complex, boolean":u,BigNumber:function(c){return c.cbrt()},Unit:i});function u(o,c){var p=o.arg()/3,h=o.abs(),v=new l(Zt(h),0).mul(new l(0,p).exp());if(c){var y=[v,new l(Zt(h),0).mul(new l(0,p+Math.PI*2/3).exp()),new l(Zt(h),0).mul(new l(0,p-Math.PI*2/3).exp())];return r.matrix==="Array"?y:s(y)}else return v}function i(o){if(o.value&&Bt(o.value)){var c=o.clone();return c.value=1,c=c.pow(1/3),c.value=u(o.value),c}else{var p=t(o.value);p&&(o.value=a(o.value));var h;Dr(o.value)?h=new m(1).div(3):Ns(o.value)?h=new f(1,3):h=1/3;var v=o.pow(h);return p&&(v.value=a(v.value)),v}}}),Fn="cube",Pm=["typed"],qm=L(Fn,Pm,n=>{var{typed:r}=n;return r(Fn,{number:pf,Complex:function(t){return t.mul(t).mul(t)},BigNumber:function(t){return t.times(t).times(t)},bigint:function(t){return t*t*t},Fraction:function(t){return t.pow(3)},Unit:function(t){return t.pow(3)}})}),Pn="exp",Lm=["typed"],Gm=L(Pn,Lm,n=>{var{typed:r}=n;return r(Pn,{number:df,Complex:function(t){return t.exp()},BigNumber:function(t){return t.exp()}})}),qn="expm1",Vm=["typed","Complex"],Hm=L(qn,Vm,n=>{var{typed:r,Complex:e}=n;return r(qn,{number:hf,Complex:function(a){var s=Math.exp(a.re);return new e(s*Math.cos(a.im)-1,s*Math.sin(a.im))},BigNumber:function(a){return a.exp().minus(1)}})}),Ym="matAlgo02xDS0",Zm=["typed","equalScalar"],Se=L(Ym,Zm,n=>{var{typed:r,equalScalar:e}=n;return function(a,s,l,m){var f=a._data,u=a._size,i=a._datatype||a.getDataType(),o=s._values,c=s._index,p=s._ptr,h=s._size,v=s._datatype||s._data===void 0?s._datatype:s.getDataType();if(u.length!==h.length)throw new Vr(u.length,h.length);if(u[0]!==h[0]||u[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+h+")");if(!o)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var y=u[0],w=u[1],S,b=e,g=0,x=l;typeof i=="string"&&i===v&&i!=="mixed"&&(S=i,b=r.find(e,[S,S]),g=r.convert(0,S),x=r.find(l,[S,S]));for(var d=[],_=[],A=[],N=0;N<w;N++){A[N]=_.length;for(var M=p[N],E=p[N+1],T=M;T<E;T++){var z=c[T],R=m?x(o[T],f[z][N]):x(f[z][N],o[T]);b(R,g)||(_.push(z),d.push(R))}}return A[w]=_.length,s.createSparseMatrix({values:d,index:_,ptr:A,size:[y,w],datatype:i===a._datatype&&v===s._datatype?S:void 0})}}),Ln="mod",Qm=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix","concat"],Cs=L(Ln,Qm,n=>{var{typed:r,config:e,round:t,matrix:a,equalScalar:s,zeros:l,DenseMatrix:m,concat:f}=n,u=Ss({typed:r,config:e,round:t,matrix:a,equalScalar:s,zeros:l,DenseMatrix:m}),i=Se({typed:r,equalScalar:s}),o=Ge({typed:r}),c=Ea({typed:r,equalScalar:s}),p=fe({typed:r,equalScalar:s}),h=$e({typed:r,DenseMatrix:m}),v=Qr({typed:r,matrix:a,concat:f});return r(Ln,{"number, number":y,"BigNumber, BigNumber":function(S,b){return b.isZero()?S:S.sub(b.mul(u(S.div(b))))},"bigint, bigint":function(S,b){if(b===0n)return S;if(S<0){var g=S%b;return g===0n?g:g+b}return S%b},"Fraction, Fraction":function(S,b){return b.equals(0)?S:S.sub(b.mul(u(S.div(b))))}},v({SS:c,DS:o,SD:i,Ss:p,sS:h}));function y(w,S){return S===0?w:w-S*u(w/S)}}),Xm="matAlgo01xDSid",Jm=["typed"],Ve=L(Xm,Jm,n=>{var{typed:r}=n;return function(t,a,s,l){var m=t._data,f=t._size,u=t._datatype||t.getDataType(),i=a._values,o=a._index,c=a._ptr,p=a._size,h=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(f.length!==p.length)throw new Vr(f.length,p.length);if(f[0]!==p[0]||f[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+p+")");if(!i)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var v=f[0],y=f[1],w=typeof u=="string"&&u!=="mixed"&&u===h?u:void 0,S=w?r.find(s,[w,w]):s,b,g,x=[];for(b=0;b<v;b++)x[b]=[];var d=[],_=[];for(g=0;g<y;g++){for(var A=g+1,N=c[g],M=c[g+1],E=N;E<M;E++)b=o[E],d[b]=l?S(i[E],m[b][g]):S(m[b][g],i[E]),_[b]=A;for(b=0;b<v;b++)_[b]===A?x[b][g]=d[b]:x[b][g]=m[b][g]}return t.createDenseMatrix({data:x,size:[v,y],datatype:u===t._datatype&&h===a._datatype?w:void 0})}}),Km="matAlgo04xSidSid",Wm=["typed","equalScalar"],Oa=L(Km,Wm,n=>{var{typed:r,equalScalar:e}=n;return function(a,s,l){var m=a._values,f=a._index,u=a._ptr,i=a._size,o=a._datatype||a._data===void 0?a._datatype:a.getDataType(),c=s._values,p=s._index,h=s._ptr,v=s._size,y=s._datatype||s._data===void 0?s._datatype:s.getDataType();if(i.length!==v.length)throw new Vr(i.length,v.length);if(i[0]!==v[0]||i[1]!==v[1])throw new RangeError("Dimension mismatch. Matrix A ("+i+") must match Matrix B ("+v+")");var w=i[0],S=i[1],b,g=e,x=0,d=l;typeof o=="string"&&o===y&&o!=="mixed"&&(b=o,g=r.find(e,[b,b]),x=r.convert(0,b),d=r.find(l,[b,b]));var _=m&&c?[]:void 0,A=[],N=[],M=m&&c?[]:void 0,E=m&&c?[]:void 0,T=[],z=[],R,P,D,q,F;for(P=0;P<S;P++){N[P]=A.length;var $=P+1;for(q=u[P],F=u[P+1],D=q;D<F;D++)R=f[D],A.push(R),T[R]=$,M&&(M[R]=m[D]);for(q=h[P],F=h[P+1],D=q;D<F;D++)if(R=p[D],T[R]===$){if(M){var Y=d(M[R],c[D]);g(Y,x)?T[R]=null:M[R]=Y}}else A.push(R),z[R]=$,E&&(E[R]=c[D]);if(M&&E)for(D=N[P];D<A.length;)R=A[D],T[R]===$?(_[D]=M[R],D++):z[R]===$?(_[D]=E[R],D++):A.splice(D,1)}return N[S]=A.length,a.createSparseMatrix({values:_,index:A,ptr:N,size:[w,S],datatype:o===a._datatype&&y===s._datatype?b:void 0})}}),km="matAlgo10xSids",jm=["typed","DenseMatrix"],rt=L(km,jm,n=>{var{typed:r,DenseMatrix:e}=n;return function(a,s,l,m){var f=a._values,u=a._index,i=a._ptr,o=a._size,c=a._datatype;if(!f)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p=o[0],h=o[1],v,y=l;typeof c=="string"&&(v=c,s=r.convert(s,v),y=r.find(l,[v,v]));for(var w=[],S=[],b=[],g=0;g<h;g++){for(var x=g+1,d=i[g],_=i[g+1],A=d;A<_;A++){var N=u[A];S[N]=f[A],b[N]=x}for(var M=0;M<p;M++)g===0&&(w[M]=[]),b[M]===x?w[M][g]=m?y(s,S[M]):y(S[M],s):w[M][g]=s}return new e({data:w,size:[p,h],datatype:v})}}),Gn="gcd",rp=["typed","config","round","matrix","equalScalar","zeros","BigNumber","DenseMatrix","concat"],ya="number | BigNumber | Fraction | Matrix | Array",ep="".concat(ya,", ").concat(ya,", ...").concat(ya);function Vn(n){return!n.some(r=>Array.isArray(r))}var tp=L(Gn,rp,n=>{var{typed:r,matrix:e,config:t,round:a,equalScalar:s,zeros:l,BigNumber:m,DenseMatrix:f,concat:u}=n,i=Cs({typed:r,config:t,round:a,matrix:e,equalScalar:s,zeros:l,DenseMatrix:f,concat:u}),o=Ve({typed:r}),c=Oa({typed:r,equalScalar:s}),p=rt({typed:r,DenseMatrix:f}),h=Qr({typed:r,matrix:e,concat:u});return r(Gn,{"number, number":v,"BigNumber, BigNumber":y,"Fraction, Fraction":(w,S)=>w.gcd(S)},h({SS:c,DS:o,Ss:p}),{[ep]:r.referToSelf(w=>(S,b,g)=>{for(var x=w(S,b),d=0;d<g.length;d++)x=w(x,g[d]);return x}),Array:r.referToSelf(w=>S=>{if(S.length===1&&Array.isArray(S[0])&&Vn(S[0]))return w(...S[0]);if(Vn(S))return w(...S);throw new je("gcd() supports only 1d matrices!")}),Matrix:r.referToSelf(w=>S=>w(S.toArray()))});function v(w,S){if(!Rr(w)||!Rr(S))throw new Error("Parameters in function gcd must be integer numbers");for(var b;S!==0;)b=i(w,S),w=S,S=b;return w<0?-w:w}function y(w,S){if(!w.isInt()||!S.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var b=new m(0);!S.isZero();){var g=i(w,S);w=S,S=g}return w.lt(b)?w.neg():w}}),ap="matAlgo06xS0S0",np=["typed","equalScalar"],ta=L(ap,np,n=>{var{typed:r,equalScalar:e}=n;return function(a,s,l){var m=a._values,f=a._size,u=a._datatype||a._data===void 0?a._datatype:a.getDataType(),i=s._values,o=s._size,c=s._datatype||s._data===void 0?s._datatype:s.getDataType();if(f.length!==o.length)throw new Vr(f.length,o.length);if(f[0]!==o[0]||f[1]!==o[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+o+")");var p=f[0],h=f[1],v,y=e,w=0,S=l;typeof u=="string"&&u===c&&u!=="mixed"&&(v=u,y=r.find(e,[v,v]),w=r.convert(0,v),S=r.find(l,[v,v]));for(var b=m&&i?[]:void 0,g=[],x=[],d=b?[]:void 0,_=[],A=[],N=0;N<h;N++){x[N]=g.length;var M=N+1;if(vn(a,N,_,d,A,M,g,S),vn(s,N,_,d,A,M,g,S),d)for(var E=x[N];E<g.length;){var T=g[E];if(A[T]===M){var z=d[T];y(z,w)?g.splice(E,1):(b.push(z),E++)}else g.splice(E,1)}else for(var R=x[N];R<g.length;){var P=g[R];A[P]!==M?g.splice(R,1):R++}}return x[h]=g.length,a.createSparseMatrix({values:b,index:g,ptr:x,size:[p,h],datatype:u===a._datatype&&c===s._datatype?v:void 0})}}),Hn="lcm",ip=["typed","matrix","equalScalar","concat"],op=L(Hn,ip,n=>{var{typed:r,matrix:e,equalScalar:t,concat:a}=n,s=Se({typed:r,equalScalar:t}),l=ta({typed:r,equalScalar:t}),m=fe({typed:r,equalScalar:t}),f=Qr({typed:r,matrix:e,concat:a}),u="number | BigNumber | Fraction | Matrix | Array",i={};return i["".concat(u,", ").concat(u,", ...").concat(u)]=r.referToSelf(c=>(p,h,v)=>{for(var y=c(p,h),w=0;w<v.length;w++)y=c(y,v[w]);return y}),r(Hn,{"number, number":gf,"BigNumber, BigNumber":o,"Fraction, Fraction":(c,p)=>c.lcm(p)},f({SS:l,DS:s,Ss:m}),i);function o(c,p){if(!c.isInt()||!p.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(c.isZero())return c;if(p.isZero())return p;for(var h=c.times(p);!p.isZero();){var v=p;p=c.mod(v),c=v}return h.div(c).abs()}});function Ca(n,r,e,t){return function(a){if(a>0||e.predictable){if(a<=0)return NaN;var s=a.toString(16),l=s.substring(0,15);return n*(s.length-l.length)+r(+("0x"+l))}return t(a.toNumber())}}var Yn="log10",sp=["typed","config","Complex"],up=xa(16),fp=L(Yn,sp,n=>{var{typed:r,config:e,Complex:t}=n;function a(l){return l.log().div(Math.LN10)}function s(l){return a(new t(l,0))}return r(Yn,{number:function(m){return m>=0||e.predictable?xa(m):s(m)},bigint:Ca(up,xa,e,s),Complex:a,BigNumber:function(m){return!m.isNegative()||e.predictable?m.log():s(m.toNumber())},"Array | Matrix":r.referToSelf(l=>m=>Pr(m,l))})}),Zn="log2",lp=["typed","config","Complex"],vp=L(Zn,lp,n=>{var{typed:r,config:e,Complex:t}=n;function a(l){return s(new t(l,0))}return r(Zn,{number:function(m){return m>=0||e.predictable?cn(m):a(m)},bigint:Ca(4,cn,e,a),Complex:s,BigNumber:function(m){return!m.isNegative()||e.predictable?m.log(2):a(m.toNumber())},"Array | Matrix":r.referToSelf(l=>m=>Pr(m,l))});function s(l){var m=Math.sqrt(l.re*l.re+l.im*l.im);return new t(Math.log2?Math.log2(m):Math.log(m)/Math.LN2,Math.atan2(l.im,l.re)/Math.LN2)}}),cp="multiplyScalar",mp=["typed"],pp=L(cp,mp,n=>{var{typed:r}=n;return r("multiplyScalar",{"number, number":yf,"Complex, Complex":function(t,a){return t.mul(a)},"BigNumber, BigNumber":function(t,a){return t.times(a)},"bigint, bigint":function(t,a){return t*a},"Fraction, Fraction":function(t,a){return t.mul(a)},"number | Fraction | BigNumber | Complex, Unit":(e,t)=>t.multiply(e),"Unit, number | Fraction | BigNumber | Complex | Unit":(e,t)=>e.multiply(t)})}),Qn="multiply",dp=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],hp=L(Qn,dp,n=>{var{typed:r,matrix:e,addScalar:t,multiplyScalar:a,equalScalar:s,dot:l}=n,m=fe({typed:r,equalScalar:s}),f=ke({typed:r});function u(x,d){switch(x.length){case 1:switch(d.length){case 1:if(x[0]!==d[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(x[0]!==d[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+x[0]+") must match Matrix rows ("+d[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+d.length+" dimensions)")}break;case 2:switch(d.length){case 1:if(x[1]!==d[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+x[1]+") must match Vector length ("+d[0]+")");break;case 2:if(x[1]!==d[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+x[1]+") must match Matrix B rows ("+d[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+d.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+x.length+" dimensions)")}}function i(x,d,_){if(_===0)throw new Error("Cannot multiply two empty vectors");return l(x,d)}function o(x,d){if(d.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return c(x,d)}function c(x,d){var _=x._data,A=x._size,N=x._datatype||x.getDataType(),M=d._data,E=d._size,T=d._datatype||d.getDataType(),z=A[0],R=E[1],P,D=t,q=a;N&&T&&N===T&&typeof N=="string"&&N!=="mixed"&&(P=N,D=r.find(t,[P,P]),q=r.find(a,[P,P]));for(var F=[],$=0;$<R;$++){for(var Y=q(_[0],M[0][$]),Q=1;Q<z;Q++)Y=D(Y,q(_[Q],M[Q][$]));F[$]=Y}return x.createDenseMatrix({data:F,size:[R],datatype:N===x._datatype&&T===d._datatype?P:void 0})}var p=r("_multiplyMatrixVector",{"DenseMatrix, any":v,"SparseMatrix, any":S}),h=r("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":y,"DenseMatrix, SparseMatrix":w,"SparseMatrix, DenseMatrix":b,"SparseMatrix, SparseMatrix":g});function v(x,d){var _=x._data,A=x._size,N=x._datatype||x.getDataType(),M=d._data,E=d._datatype||d.getDataType(),T=A[0],z=A[1],R,P=t,D=a;N&&E&&N===E&&typeof N=="string"&&N!=="mixed"&&(R=N,P=r.find(t,[R,R]),D=r.find(a,[R,R]));for(var q=[],F=0;F<T;F++){for(var $=_[F],Y=D($[0],M[0]),Q=1;Q<z;Q++)Y=P(Y,D($[Q],M[Q]));q[F]=Y}return x.createDenseMatrix({data:q,size:[T],datatype:N===x._datatype&&E===d._datatype?R:void 0})}function y(x,d){var _=x._data,A=x._size,N=x._datatype||x.getDataType(),M=d._data,E=d._size,T=d._datatype||d.getDataType(),z=A[0],R=A[1],P=E[1],D,q=t,F=a;N&&T&&N===T&&typeof N=="string"&&N!=="mixed"&&N!=="mixed"&&(D=N,q=r.find(t,[D,D]),F=r.find(a,[D,D]));for(var $=[],Y=0;Y<z;Y++){var Q=_[Y];$[Y]=[];for(var O=0;O<P;O++){for(var V=F(Q[0],M[0][O]),C=1;C<R;C++)V=q(V,F(Q[C],M[C][O]));$[Y][O]=V}}return x.createDenseMatrix({data:$,size:[z,P],datatype:N===x._datatype&&T===d._datatype?D:void 0})}function w(x,d){var _=x._data,A=x._size,N=x._datatype||x.getDataType(),M=d._values,E=d._index,T=d._ptr,z=d._size,R=d._datatype||d._data===void 0?d._datatype:d.getDataType();if(!M)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var P=A[0],D=z[1],q,F=t,$=a,Y=s,Q=0;N&&R&&N===R&&typeof N=="string"&&N!=="mixed"&&(q=N,F=r.find(t,[q,q]),$=r.find(a,[q,q]),Y=r.find(s,[q,q]),Q=r.convert(0,q));for(var O=[],V=[],C=[],tr=d.createSparseMatrix({values:O,index:V,ptr:C,size:[P,D],datatype:N===x._datatype&&R===d._datatype?q:void 0}),rr=0;rr<D;rr++){C[rr]=V.length;var Z=T[rr],G=T[rr+1];if(G>Z)for(var er=0,K=0;K<P;K++){for(var W=K+1,k=void 0,or=Z;or<G;or++){var lr=E[or];er!==W?(k=$(_[K][lr],M[or]),er=W):k=F(k,$(_[K][lr],M[or]))}er===W&&!Y(k,Q)&&(V.push(K),O.push(k))}}return C[D]=V.length,tr}function S(x,d){var _=x._values,A=x._index,N=x._ptr,M=x._datatype||x._data===void 0?x._datatype:x.getDataType();if(!_)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var E=d._data,T=d._datatype||d.getDataType(),z=x._size[0],R=d._size[0],P=[],D=[],q=[],F,$=t,Y=a,Q=s,O=0;M&&T&&M===T&&typeof M=="string"&&M!=="mixed"&&(F=M,$=r.find(t,[F,F]),Y=r.find(a,[F,F]),Q=r.find(s,[F,F]),O=r.convert(0,F));var V=[],C=[];q[0]=0;for(var tr=0;tr<R;tr++){var rr=E[tr];if(!Q(rr,O))for(var Z=N[tr],G=N[tr+1],er=Z;er<G;er++){var K=A[er];C[K]?V[K]=$(V[K],Y(rr,_[er])):(C[K]=!0,D.push(K),V[K]=Y(rr,_[er]))}}for(var W=D.length,k=0;k<W;k++){var or=D[k];P[k]=V[or]}return q[1]=D.length,x.createSparseMatrix({values:P,index:D,ptr:q,size:[z,1],datatype:M===x._datatype&&T===d._datatype?F:void 0})}function b(x,d){var _=x._values,A=x._index,N=x._ptr,M=x._datatype||x._data===void 0?x._datatype:x.getDataType();if(!_)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var E=d._data,T=d._datatype||d.getDataType(),z=x._size[0],R=d._size[0],P=d._size[1],D,q=t,F=a,$=s,Y=0;M&&T&&M===T&&typeof M=="string"&&M!=="mixed"&&(D=M,q=r.find(t,[D,D]),F=r.find(a,[D,D]),$=r.find(s,[D,D]),Y=r.convert(0,D));for(var Q=[],O=[],V=[],C=x.createSparseMatrix({values:Q,index:O,ptr:V,size:[z,P],datatype:M===x._datatype&&T===d._datatype?D:void 0}),tr=[],rr=[],Z=0;Z<P;Z++){V[Z]=O.length;for(var G=Z+1,er=0;er<R;er++){var K=E[er][Z];if(!$(K,Y))for(var W=N[er],k=N[er+1],or=W;or<k;or++){var lr=A[or];rr[lr]!==G?(rr[lr]=G,O.push(lr),tr[lr]=F(K,_[or])):tr[lr]=q(tr[lr],F(K,_[or]))}}for(var vr=V[Z],hr=O.length,br=vr;br<hr;br++){var cr=O[br];Q[br]=tr[cr]}}return V[P]=O.length,C}function g(x,d){var _=x._values,A=x._index,N=x._ptr,M=x._datatype||x._data===void 0?x._datatype:x.getDataType(),E=d._values,T=d._index,z=d._ptr,R=d._datatype||d._data===void 0?d._datatype:d.getDataType(),P=x._size[0],D=d._size[1],q=_&&E,F,$=t,Y=a;M&&R&&M===R&&typeof M=="string"&&M!=="mixed"&&(F=M,$=r.find(t,[F,F]),Y=r.find(a,[F,F]));for(var Q=q?[]:void 0,O=[],V=[],C=x.createSparseMatrix({values:Q,index:O,ptr:V,size:[P,D],datatype:M===x._datatype&&R===d._datatype?F:void 0}),tr=q?[]:void 0,rr=[],Z,G,er,K,W,k,or,lr,vr=0;vr<D;vr++){V[vr]=O.length;var hr=vr+1;for(W=z[vr],k=z[vr+1],K=W;K<k;K++)if(lr=T[K],q)for(G=N[lr],er=N[lr+1],Z=G;Z<er;Z++)or=A[Z],rr[or]!==hr?(rr[or]=hr,O.push(or),tr[or]=Y(E[K],_[Z])):tr[or]=$(tr[or],Y(E[K],_[Z]));else for(G=N[lr],er=N[lr+1],Z=G;Z<er;Z++)or=A[Z],rr[or]!==hr&&(rr[or]=hr,O.push(or));if(q)for(var br=V[vr],cr=O.length,Nr=br;Nr<cr;Nr++){var B=O[Nr];Q[Nr]=tr[B]}}return V[D]=O.length,C}return r(Qn,a,{"Array, Array":r.referTo("Matrix, Matrix",x=>(d,_)=>{u(Tr(d),Tr(_));var A=x(e(d),e(_));return _r(A)?A.valueOf():A}),"Matrix, Matrix":function(d,_){var A=d.size(),N=_.size();return u(A,N),A.length===1?N.length===1?i(d,_,A[0]):o(d,_):N.length===1?p(d,_):h(d,_)},"Matrix, Array":r.referTo("Matrix,Matrix",x=>(d,_)=>x(d,e(_))),"Array, Matrix":r.referToSelf(x=>(d,_)=>x(e(d,_.storage()),_)),"SparseMatrix, any":function(d,_){return m(d,_,a,!1)},"DenseMatrix, any":function(d,_){return f(d,_,a,!1)},"any, SparseMatrix":function(d,_){return m(_,d,a,!0)},"any, DenseMatrix":function(d,_){return f(_,d,a,!0)},"Array, any":function(d,_){return f(e(d),_,a,!1).valueOf()},"any, Array":function(d,_){return f(e(_),d,a,!0).valueOf()},"any, any":a,"any, any, ...any":r.referToSelf(x=>(d,_,A)=>{for(var N=x(d,_),M=0;M<A.length;M++)N=x(N,A[M]);return N})})}),Xn="nthRoot",gp=["typed","matrix","equalScalar","BigNumber","concat"],yp=L(Xn,gp,n=>{var{typed:r,matrix:e,equalScalar:t,BigNumber:a,concat:s}=n,l=Ve({typed:r}),m=Se({typed:r,equalScalar:t}),f=ta({typed:r,equalScalar:t}),u=fe({typed:r,equalScalar:t}),i=Qr({typed:r,matrix:e,concat:s});function o(){throw new Error("Complex number not supported in function nthRoot. Use nthRoots instead.")}return r(Xn,{number:mn,"number, number":mn,BigNumber:p=>c(p,new a(2)),"BigNumber, BigNumber":c,Complex:o,"Complex, number":o,Array:r.referTo("DenseMatrix,number",p=>h=>p(e(h),2).valueOf()),DenseMatrix:r.referTo("DenseMatrix,number",p=>h=>p(h,2)),SparseMatrix:r.referTo("SparseMatrix,number",p=>h=>p(h,2)),"SparseMatrix, SparseMatrix":r.referToSelf(p=>(h,v)=>{if(v.density()===1)return f(h,v,p);throw new Error("Root must be non-zero")}),"DenseMatrix, SparseMatrix":r.referToSelf(p=>(h,v)=>{if(v.density()===1)return l(h,v,p,!1);throw new Error("Root must be non-zero")}),"Array, SparseMatrix":r.referTo("DenseMatrix,SparseMatrix",p=>(h,v)=>p(e(h),v)),"number | BigNumber, SparseMatrix":r.referToSelf(p=>(h,v)=>{if(v.density()===1)return u(v,h,p,!0);throw new Error("Root must be non-zero")})},i({scalar:"number | BigNumber",SD:m,Ss:u,sS:!1}));function c(p,h){var v=a.precision,y=a.clone({precision:v+2}),w=new a(0),S=new y(1),b=h.isNegative();if(b&&(h=h.neg()),h.isZero())throw new Error("Root must be non-zero");if(p.isNegative()&&!h.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(p.isZero())return b?new y(1/0):0;if(!p.isFinite())return b?w:p;var g=p.abs().pow(S.div(h));return g=p.isNeg()?g.neg():g,new a((b?S.div(g):g).toPrecision(v))}}),Jn="sign",bp=["typed","BigNumber","Fraction","complex"],wp=L(Jn,bp,n=>{var{typed:r,BigNumber:e,complex:t,Fraction:a}=n;return r(Jn,{number:pn,Complex:function(l){return l.im===0?t(pn(l.re)):l.sign()},BigNumber:function(l){return new e(l.cmp(0))},bigint:function(l){return l>0n?1n:l<0n?-1n:0n},Fraction:function(l){return l.n===0n?new a(0):new a(l.s)},"Array | Matrix":r.referToSelf(s=>l=>Pr(l,s,!0)),Unit:r.referToSelf(s=>l=>{if(!l._isDerived()&&l.units[0].unit.offset!==0)throw new TypeError("sign is ambiguous for units with offset");return r.find(s,l.valueType())(l.value)})})}),xp="sqrt",Np=["config","typed","Complex"],Sp=L(xp,Np,n=>{var{config:r,typed:e,Complex:t}=n;return e("sqrt",{number:a,Complex:function(l){return l.sqrt()},BigNumber:function(l){return!l.isNegative()||r.predictable?l.sqrt():a(l.toNumber())},Unit:function(l){return l.pow(.5)}});function a(s){return isNaN(s)?NaN:s>=0||r.predictable?Math.sqrt(s):new t(s,0).sqrt()}}),Kn="square",_p=["typed"],Mp=L(Kn,_p,n=>{var{typed:r}=n;return r(Kn,{number:bf,Complex:function(t){return t.mul(t)},BigNumber:function(t){return t.times(t)},bigint:function(t){return t*t},Fraction:function(t){return t.mul(t)},Unit:function(t){return t.pow(2)}})}),Wn="subtract",Ap=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],Ep=L(Wn,Ap,n=>{var{typed:r,matrix:e,equalScalar:t,subtractScalar:a,unaryMinus:s,DenseMatrix:l,concat:m}=n,f=Ve({typed:r}),u=Ge({typed:r}),i=Ea({typed:r,equalScalar:t}),o=rt({typed:r,DenseMatrix:l}),c=$e({typed:r,DenseMatrix:l}),p=Qr({typed:r,matrix:e,concat:m});return r(Wn,{"any, any":a},p({elop:a,SS:i,DS:f,SD:u,Ss:c,sS:o}))}),kn="xgcd",Tp=["typed","config","matrix","BigNumber"],Op=L(kn,Tp,n=>{var{typed:r,config:e,matrix:t,BigNumber:a}=n;return r(kn,{"number, number":function(m,f){var u=wf(m,f);return e.matrix==="Array"?u:t(u)},"BigNumber, BigNumber":s});function s(l,m){var f,u,i,o=new a(0),c=new a(1),p=o,h=c,v=c,y=o;if(!l.isInt()||!m.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!m.isZero();)u=l.div(m).floor(),i=l.mod(m),f=p,p=h.minus(u.times(p)),h=f,f=v,v=y.minus(u.times(v)),y=f,l=m,m=i;var w;return l.lt(o)?w=[l.neg(),h.neg(),y.neg()]:w=[l,l.isZero()?0:h,y],e.matrix==="Array"?w:t(w)}}),jn="invmod",Cp=["typed","config","BigNumber","xgcd","equal","smaller","mod","add","isInteger"],Bp=L(jn,Cp,n=>{var{typed:r,config:e,BigNumber:t,xgcd:a,equal:s,smaller:l,mod:m,add:f,isInteger:u}=n;return r(jn,{"number, number":i,"BigNumber, BigNumber":i});function i(o,c){if(!u(o)||!u(c))throw new Error("Parameters in function invmod must be integer numbers");if(o=m(o,c),s(c,0))throw new Error("Divisor must be non zero");var p=a(o,c);p=p.valueOf();var[h,v]=p;return s(h,t(1))?(v=m(v,c),l(v,t(0))&&(v=f(v,c)),v):NaN}}),zp="matAlgo09xS0Sf",Ip=["typed","equalScalar"],Bs=L(zp,Ip,n=>{var{typed:r,equalScalar:e}=n;return function(a,s,l){var m=a._values,f=a._index,u=a._ptr,i=a._size,o=a._datatype||a._data===void 0?a._datatype:a.getDataType(),c=s._values,p=s._index,h=s._ptr,v=s._size,y=s._datatype||s._data===void 0?s._datatype:s.getDataType();if(i.length!==v.length)throw new Vr(i.length,v.length);if(i[0]!==v[0]||i[1]!==v[1])throw new RangeError("Dimension mismatch. Matrix A ("+i+") must match Matrix B ("+v+")");var w=i[0],S=i[1],b,g=e,x=0,d=l;typeof o=="string"&&o===y&&o!=="mixed"&&(b=o,g=r.find(e,[b,b]),x=r.convert(0,b),d=r.find(l,[b,b]));var _=m&&c?[]:void 0,A=[],N=[],M=_?[]:void 0,E=[],T,z,R,P,D;for(z=0;z<S;z++){N[z]=A.length;var q=z+1;if(M)for(P=h[z],D=h[z+1],R=P;R<D;R++)T=p[R],E[T]=q,M[T]=c[R];for(P=u[z],D=u[z+1],R=P;R<D;R++)if(T=f[R],M){var F=E[T]===q?M[T]:x,$=d(m[R],F);g($,x)||(A.push(T),_.push($))}else A.push(T)}return N[S]=A.length,a.createSparseMatrix({values:_,index:A,ptr:N,size:[w,S],datatype:o===a._datatype&&y===s._datatype?b:void 0})}}),ri="dotMultiply",Rp=["typed","matrix","equalScalar","multiplyScalar","concat"],$p=L(ri,Rp,n=>{var{typed:r,matrix:e,equalScalar:t,multiplyScalar:a,concat:s}=n,l=Se({typed:r,equalScalar:t}),m=Bs({typed:r,equalScalar:t}),f=fe({typed:r,equalScalar:t}),u=Qr({typed:r,matrix:e,concat:s});return r(ri,u({elop:a,SS:m,DS:l,Ss:f}))});function Dp(n,r){if(n.isFinite()&&!n.isInteger()||r.isFinite()&&!r.isInteger())throw new Error("Integers expected in function bitAnd");var e=n.constructor;if(n.isNaN()||r.isNaN())return new e(NaN);if(n.isZero()||r.eq(-1)||n.eq(r))return n;if(r.isZero()||n.eq(-1))return r;if(!n.isFinite()||!r.isFinite()){if(!n.isFinite()&&!r.isFinite())return n.isNegative()===r.isNegative()?n:new e(0);if(!n.isFinite())return r.isNegative()?n:n.isNegative()?new e(0):r;if(!r.isFinite())return n.isNegative()?r:r.isNegative()?new e(0):n}return Ba(n,r,function(t,a){return t&a})}function It(n){if(n.isFinite()&&!n.isInteger())throw new Error("Integer expected in function bitNot");var r=n.constructor,e=r.precision;r.config({precision:1e9});var t=n.plus(new r(1));return t.s=-t.s||null,r.config({precision:e}),t}function Up(n,r){if(n.isFinite()&&!n.isInteger()||r.isFinite()&&!r.isInteger())throw new Error("Integers expected in function bitOr");var e=n.constructor;if(n.isNaN()||r.isNaN())return new e(NaN);var t=new e(-1);return n.isZero()||r.eq(t)||n.eq(r)?r:r.isZero()||n.eq(t)?n:!n.isFinite()||!r.isFinite()?!n.isFinite()&&!n.isNegative()&&r.isNegative()||n.isNegative()&&!r.isNegative()&&!r.isFinite()?t:n.isNegative()&&r.isNegative()?n.isFinite()?n:r:n.isFinite()?r:n:Ba(n,r,function(a,s){return a|s})}function Ba(n,r,e){var t=n.constructor,a,s,l=+(n.s<0),m=+(r.s<0);if(l){a=Qt(It(n));for(var f=0;f<a.length;++f)a[f]^=1}else a=Qt(n);if(m){s=Qt(It(r));for(var u=0;u<s.length;++u)s[u]^=1}else s=Qt(r);var i,o,c;a.length<=s.length?(i=a,o=s,c=l):(i=s,o=a,c=m);var p=i.length,h=o.length,v=e(l,m)^1,y=new t(v^1),w=new t(1),S=new t(2),b=t.precision;for(t.config({precision:1e9});p>0;)e(i[--p],o[--h])===v&&(y=y.plus(w)),w=w.times(S);for(;h>0;)e(c,o[--h])===v&&(y=y.plus(w)),w=w.times(S);return t.config({precision:b}),v===0&&(y.s=-y.s),y}function Qt(n){for(var r=n.d,e=r[0]+"",t=1;t<r.length;++t){for(var a=r[t]+"",s=7-a.length;s--;)a="0"+a;e+=a}for(var l=e.length;e.charAt(l)==="0";)l--;var m=n.e,f=e.slice(0,l+1||1),u=f.length;if(m>0)if(++m>u)for(m-=u;m--;)f+="0";else m<u&&(f=f.slice(0,m)+"."+f.slice(m));for(var i=[0],o=0;o<f.length;){for(var c=i.length;c--;)i[c]*=10;i[0]+=parseInt(f.charAt(o++));for(var p=0;p<i.length;++p)i[p]>1&&((i[p+1]===null||i[p+1]===void 0)&&(i[p+1]=0),i[p+1]+=i[p]>>1,i[p]&=1)}return i.reverse()}function Fp(n,r){if(n.isFinite()&&!n.isInteger()||r.isFinite()&&!r.isInteger())throw new Error("Integers expected in function bitXor");var e=n.constructor;if(n.isNaN()||r.isNaN())return new e(NaN);if(n.isZero())return r;if(r.isZero())return n;if(n.eq(r))return new e(0);var t=new e(-1);return n.eq(t)?It(r):r.eq(t)?It(n):!n.isFinite()||!r.isFinite()?!n.isFinite()&&!r.isFinite()?t:new e(n.isNegative()===r.isNegative()?1/0:-1/0):Ba(n,r,function(a,s){return a^s})}function Pp(n,r){if(n.isFinite()&&!n.isInteger()||r.isFinite()&&!r.isInteger())throw new Error("Integers expected in function leftShift");var e=n.constructor;return n.isNaN()||r.isNaN()||r.isNegative()&&!r.isZero()?new e(NaN):n.isZero()||r.isZero()?n:!n.isFinite()&&!r.isFinite()?new e(NaN):r.lt(55)?n.times(Math.pow(2,r.toNumber())+""):n.times(new e(2).pow(r))}function qp(n,r){if(n.isFinite()&&!n.isInteger()||r.isFinite()&&!r.isInteger())throw new Error("Integers expected in function rightArithShift");var e=n.constructor;return n.isNaN()||r.isNaN()||r.isNegative()&&!r.isZero()?new e(NaN):n.isZero()||r.isZero()?n:r.isFinite()?r.lt(55)?n.div(Math.pow(2,r.toNumber())+"").floor():n.div(new e(2).pow(r)).floor():n.isNegative()?new e(-1):n.isFinite()?new e(0):new e(NaN)}var ei="bitAnd",Lp=["typed","matrix","equalScalar","concat"],zs=L(ei,Lp,n=>{var{typed:r,matrix:e,equalScalar:t,concat:a}=n,s=Se({typed:r,equalScalar:t}),l=ta({typed:r,equalScalar:t}),m=fe({typed:r,equalScalar:t}),f=Qr({typed:r,matrix:e,concat:a});return r(ei,{"number, number":xf,"BigNumber, BigNumber":Dp,"bigint, bigint":(u,i)=>u&i},f({SS:l,DS:s,Ss:m}))}),ti="bitNot",Gp=["typed"],Vp=L(ti,Gp,n=>{var{typed:r}=n;return r(ti,{number:Nf,BigNumber:It,bigint:e=>~e,"Array | Matrix":r.referToSelf(e=>t=>Pr(t,e))})}),ai="bitOr",Hp=["typed","matrix","equalScalar","DenseMatrix","concat"],Is=L(ai,Hp,n=>{var{typed:r,matrix:e,equalScalar:t,DenseMatrix:a,concat:s}=n,l=Ve({typed:r}),m=Oa({typed:r,equalScalar:t}),f=rt({typed:r,DenseMatrix:a}),u=Qr({typed:r,matrix:e,concat:s});return r(ai,{"number, number":Sf,"BigNumber, BigNumber":Up,"bigint, bigint":(i,o)=>i|o},u({SS:m,DS:l,Ss:f}))}),ni="bitXor",Yp=["typed","matrix","DenseMatrix","concat","SparseMatrix"],Zp=L(ni,Yp,n=>{var{typed:r,matrix:e,DenseMatrix:t,concat:a,SparseMatrix:s}=n,l=Ge({typed:r}),m=ea({typed:r,SparseMatrix:s}),f=$e({typed:r,DenseMatrix:t}),u=Qr({typed:r,matrix:e,concat:a});return r(ni,{"number, number":_f,"BigNumber, BigNumber":Fp,"bigint, bigint":(i,o)=>i^o},u({SS:m,DS:l,Ss:f}))}),ii="arg",Qp=["typed"],Xp=L(ii,Qp,n=>{var{typed:r}=n;return r(ii,{number:function(t){return Math.atan2(0,t)},BigNumber:function(t){return t.constructor.atan2(0,t)},Complex:function(t){return t.arg()},"Array | Matrix":r.referToSelf(e=>t=>Pr(t,e))})}),oi="conj",Jp=["typed"],Kp=L(oi,Jp,n=>{var{typed:r}=n;return r(oi,{"number | BigNumber | Fraction":e=>e,Complex:e=>e.conjugate(),Unit:r.referToSelf(e=>t=>new t.constructor(e(t.toNumeric()),t.formatUnits())),"Array | Matrix":r.referToSelf(e=>t=>Pr(t,e))})}),si="im",Wp=["typed"],kp=L(si,Wp,n=>{var{typed:r}=n;return r(si,{number:()=>0,"BigNumber | Fraction":e=>e.mul(0),Complex:e=>e.im,"Array | Matrix":r.referToSelf(e=>t=>Pr(t,e))})}),ui="re",jp=["typed"],rd=L(ui,jp,n=>{var{typed:r}=n;return r(ui,{"number | BigNumber | Fraction":e=>e,Complex:e=>e.re,"Array | Matrix":r.referToSelf(e=>t=>Pr(t,e))})}),fi="not",ed=["typed"],td=L(fi,ed,n=>{var{typed:r}=n;return r(fi,{"null | undefined":()=>!0,number:Mf,Complex:function(t){return t.re===0&&t.im===0},BigNumber:function(t){return t.isZero()||t.isNaN()},bigint:e=>!e,Unit:r.referToSelf(e=>t=>r.find(e,t.valueType())(t.value)),"Array | Matrix":r.referToSelf(e=>t=>Pr(t,e))})}),li="or",ad=["typed","matrix","equalScalar","DenseMatrix","concat"],Rs=L(li,ad,n=>{var{typed:r,matrix:e,equalScalar:t,DenseMatrix:a,concat:s}=n,l=Ge({typed:r}),m=Ea({typed:r,equalScalar:t}),f=$e({typed:r,DenseMatrix:a}),u=Qr({typed:r,matrix:e,concat:s});return r(li,{"number, number":dn,"Complex, Complex":function(o,c){return o.re!==0||o.im!==0||c.re!==0||c.im!==0},"BigNumber, BigNumber":function(o,c){return!o.isZero()&&!o.isNaN()||!c.isZero()&&!c.isNaN()},"bigint, bigint":dn,"Unit, Unit":r.referToSelf(i=>(o,c)=>i(o.value||0,c.value||0))},u({SS:m,DS:l,Ss:f}))}),vi="xor",nd=["typed","matrix","DenseMatrix","concat","SparseMatrix"],id=L(vi,nd,n=>{var{typed:r,matrix:e,DenseMatrix:t,concat:a,SparseMatrix:s}=n,l=Ge({typed:r}),m=ea({typed:r,SparseMatrix:s}),f=$e({typed:r,DenseMatrix:t}),u=Qr({typed:r,matrix:e,concat:a});return r(vi,{"number, number":hn,"Complex, Complex":function(o,c){return(o.re!==0||o.im!==0)!=(c.re!==0||c.im!==0)},"bigint, bigint":hn,"BigNumber, BigNumber":function(o,c){return(!o.isZero()&&!o.isNaN())!=(!c.isZero()&&!c.isNaN())},"Unit, Unit":r.referToSelf(i=>(o,c)=>i(o.value||0,c.value||0))},u({SS:m,DS:l,Ss:f}))}),ci="concat",od=["typed","matrix","isInteger"],$s=L(ci,od,n=>{var{typed:r,matrix:e,isInteger:t}=n;return r(ci,{"...Array | Matrix | number | BigNumber":function(s){var l,m=s.length,f=-1,u,i=!1,o=[];for(l=0;l<m;l++){var c=s[l];if(_r(c)&&(i=!0),Gr(c)||Dr(c)){if(l!==m-1)throw new Error("Dimension must be specified as last argument");if(u=f,f=c.valueOf(),!t(f))throw new TypeError("Integer number expected for dimension");if(f<0||l>0&&f>u)throw new Af(f,u+1)}else{var p=wr(c).valueOf(),h=Tr(p);if(o[l]=p,u=f,f=h.length-1,l>0&&f!==u)throw new Vr(u+1,f+1)}}if(o.length===0)throw new SyntaxError("At least one matrix expected");for(var v=o.shift();o.length;)v=Ef(v,o.shift(),f);return i?e(v):v},"...string":function(s){return s.join("")}})}),mi="column",sd=["typed","Index","matrix","range"],Ds=L(mi,sd,n=>{var{typed:r,Index:e,matrix:t,range:a}=n;return r(mi,{"Matrix, number":s,"Array, number":function(m,f){return s(t(wr(m)),f).valueOf()}});function s(l,m){if(l.size().length!==2)throw new Error("Only two dimensional matrix is supported");Ir(m,l.size()[1]);var f=a(0,l.size()[0]),u=new e(f,m),i=l.subset(u);return _r(i)?i:t([[i]])}}),pi="count",ud=["typed","size","prod"],fd=L(pi,ud,n=>{var{typed:r,size:e,prod:t}=n;return r(pi,{string:function(s){return s.length},"Matrix | Array":function(s){return t(e(s))}})}),di="cross",ld=["typed","matrix","subtract","multiply"],vd=L(di,ld,n=>{var{typed:r,matrix:e,subtract:t,multiply:a}=n;return r(di,{"Matrix, Matrix":function(m,f){return e(s(m.toArray(),f.toArray()))},"Matrix, Array":function(m,f){return e(s(m.toArray(),f))},"Array, Matrix":function(m,f){return e(s(m,f.toArray()))},"Array, Array":s});function s(l,m){var f=Math.max(Tr(l).length,Tr(m).length);l=Wt(l),m=Wt(m);var u=Tr(l),i=Tr(m);if(u.length!==1||i.length!==1||u[0]!==3||i[0]!==3)throw new RangeError("Vectors with length 3 expected (Size A = ["+u.join(", ")+"], B = ["+i.join(", ")+"])");var o=[t(a(l[1],m[2]),a(l[2],m[1])),t(a(l[2],m[0]),a(l[0],m[2])),t(a(l[0],m[1]),a(l[1],m[0]))];return f>1?[o]:o}}),hi="diag",cd=["typed","matrix","DenseMatrix","SparseMatrix"],md=L(hi,cd,n=>{var{typed:r,matrix:e,DenseMatrix:t,SparseMatrix:a}=n;return r(hi,{Array:function(u){return s(u,0,Tr(u),null)},"Array, number":function(u,i){return s(u,i,Tr(u),null)},"Array, BigNumber":function(u,i){return s(u,i.toNumber(),Tr(u),null)},"Array, string":function(u,i){return s(u,0,Tr(u),i)},"Array, number, string":function(u,i,o){return s(u,i,Tr(u),o)},"Array, BigNumber, string":function(u,i,o){return s(u,i.toNumber(),Tr(u),o)},Matrix:function(u){return s(u,0,u.size(),u.storage())},"Matrix, number":function(u,i){return s(u,i,u.size(),u.storage())},"Matrix, BigNumber":function(u,i){return s(u,i.toNumber(),u.size(),u.storage())},"Matrix, string":function(u,i){return s(u,0,u.size(),i)},"Matrix, number, string":function(u,i,o){return s(u,i,u.size(),o)},"Matrix, BigNumber, string":function(u,i,o){return s(u,i.toNumber(),u.size(),o)}});function s(f,u,i,o){if(!Rr(u))throw new TypeError("Second parameter in function diag must be an integer");var c=u>0?u:0,p=u<0?-u:0;switch(i.length){case 1:return l(f,u,o,i[0],p,c);case 2:return m(f,u,o,i,p,c)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function l(f,u,i,o,c,p){var h=[o+c,o+p];if(i&&i!=="sparse"&&i!=="dense")throw new TypeError("Unknown matrix type ".concat(i,'"'));var v=i==="sparse"?a.diagonal(h,f,u):t.diagonal(h,f,u);return i!==null?v:v.valueOf()}function m(f,u,i,o,c,p){if(_r(f)){var h=f.diagonal(u);return i!==null?i!==h.storage()?e(h,i):h:h.valueOf()}for(var v=Math.min(o[0]-c,o[1]-p),y=[],w=0;w<v;w++)y[w]=f[w+c][w+p];return i!==null?e(y):y}}),gi="flatten",pd=["typed"],dd=L(gi,pd,n=>{var{typed:r}=n;return r(gi,{Array:function(t){return $r(t)},Matrix:function(t){return t.create($r(t.valueOf(),!0),t.datatype())}})}),yi="getMatrixDataType",hd=["typed"],gd=L(yi,hd,n=>{var{typed:r}=n;return r(yi,{Array:function(t){return Ma(t,ge)},Matrix:function(t){return t.getDataType()}})}),bi="identity",yd=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],bd=L(bi,yd,n=>{var{typed:r,config:e,matrix:t,BigNumber:a,DenseMatrix:s,SparseMatrix:l}=n;return r(bi,{"":function(){return e.matrix==="Matrix"?t([]):[]},string:function(i){return t(i)},"number | BigNumber":function(i){return f(i,i,e.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(i,o){return f(i,i,o)},"number | BigNumber, number | BigNumber":function(i,o){return f(i,o,e.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(i,o,c){return f(i,o,c)},Array:function(i){return m(i)},"Array, string":function(i,o){return m(i,o)},Matrix:function(i){return m(i.valueOf(),i.storage())},"Matrix, string":function(i,o){return m(i.valueOf(),o)}});function m(u,i){switch(u.length){case 0:return i?t(i):[];case 1:return f(u[0],u[0],i);case 2:return f(u[0],u[1],i);default:throw new Error("Vector containing two values expected")}}function f(u,i,o){var c=Dr(u)||Dr(i)?a:null;if(Dr(u)&&(u=u.toNumber()),Dr(i)&&(i=i.toNumber()),!Rr(u)||u<1)throw new Error("Parameters in function identity must be positive integers");if(!Rr(i)||i<1)throw new Error("Parameters in function identity must be positive integers");var p=c?new a(1):1,h=c?new c(0):0,v=[u,i];if(o){if(o==="sparse")return l.diagonal(v,p,0,h);if(o==="dense")return s.diagonal(v,p,0,h);throw new TypeError('Unknown matrix type "'.concat(o,'"'))}for(var y=pt([],v,h),w=u<i?u:i,S=0;S<w;S++)y[S][S]=p;return y}}),wi="kron",wd=["typed","matrix","multiplyScalar"],xd=L(wi,wd,n=>{var{typed:r,matrix:e,multiplyScalar:t}=n;return r(wi,{"Matrix, Matrix":function(l,m){return e(a(l.toArray(),m.toArray()))},"Matrix, Array":function(l,m){return e(a(l.toArray(),m))},"Array, Matrix":function(l,m){return e(a(l,m.toArray()))},"Array, Array":a});function a(s,l){if(Tr(s).length===1&&(s=[s]),Tr(l).length===1&&(l=[l]),Tr(s).length>2||Tr(l).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(s.length)+", y = "+JSON.stringify(l.length)+")");var m=[],f=[];return s.map(function(u){return l.map(function(i){return f=[],m.push(f),u.map(function(o){return i.map(function(c){return f.push(t(o,c))})})})})&&m}}),xi="diff",Nd=["typed","matrix","subtract","number"],Us=L(xi,Nd,n=>{var{typed:r,matrix:e,subtract:t,number:a}=n;return r(xi,{"Array | Matrix":function(i){return _r(i)?e(l(i.toArray())):l(i)},"Array | Matrix, number":function(i,o){if(!Rr(o))throw new RangeError("Dimension must be a whole number");return _r(i)?e(s(i.toArray(),o)):s(i,o)},"Array, BigNumber":r.referTo("Array,number",u=>(i,o)=>u(i,a(o))),"Matrix, BigNumber":r.referTo("Matrix,number",u=>(i,o)=>u(i,a(o)))});function s(u,i){if(_r(u)&&(u=u.toArray()),!Array.isArray(u))throw RangeError("Array/Matrix does not have that many dimensions");if(i>0){var o=[];return u.forEach(c=>{o.push(s(c,i-1))}),o}else{if(i===0)return l(u);throw RangeError("Cannot have negative dimension")}}function l(u){for(var i=[],o=u.length,c=1;c<o;c++)i.push(m(u[c-1],u[c]));return i}function m(u,i){_r(u)&&(u=u.toArray()),_r(i)&&(i=i.toArray());var o=Array.isArray(u),c=Array.isArray(i);if(o&&c)return f(u,i);if(!o&&!c)return t(i,u);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}function f(u,i){if(u.length!==i.length)throw RangeError("Not all sub-arrays have the same length");for(var o=[],c=u.length,p=0;p<c;p++)o.push(m(u[p],i[p]));return o}}),Sd="ones",_d=["typed","config","matrix","BigNumber"],Md=L(Sd,_d,n=>{var{typed:r,config:e,matrix:t,BigNumber:a}=n;return r("ones",{"":function(){return e.matrix==="Array"?s([]):s([],"default")},"...number | BigNumber | string":function(u){var i=u[u.length-1];if(typeof i=="string"){var o=u.pop();return s(u,o)}else return e.matrix==="Array"?s(u):s(u,"default")},Array:s,Matrix:function(u){var i=u.storage();return s(u.valueOf(),i)},"Array | Matrix, string":function(u,i){return s(u.valueOf(),i)}});function s(f,u){var i=l(f),o=i?new a(1):1;if(m(f),u){var c=t(u);return f.length>0?c.resize(f,o):c}else{var p=[];return f.length>0?pt(p,f,o):p}}function l(f){var u=!1;return f.forEach(function(i,o,c){Dr(i)&&(u=!0,c[o]=i.toNumber())}),u}function m(f){f.forEach(function(u){if(typeof u!="number"||!Rr(u)||u<0)throw new Error("Parameters in function ones must be positive integers")})}}),Ni="reshape",Ad=["typed","isInteger","matrix"],Ed=L(Ni,Ad,n=>{var{typed:r,isInteger:e}=n;return r(Ni,{"Matrix, Array":function(a,s){return a.reshape(s,!0)},"Array, Array":function(a,s){return s.forEach(function(l){if(!e(l))throw new TypeError("Invalid size for dimension: "+l)}),ws(a,s)}})}),Td="resize",Od=["config","matrix"],Cd=L(Td,Od,n=>{var{config:r,matrix:e}=n;return function(s,l,m){if(arguments.length!==2&&arguments.length!==3)throw new je("resize",arguments.length,2,3);if(_r(l)&&(l=l.valueOf()),Dr(l[0])&&(l=l.map(function(i){return Dr(i)?i.toNumber():i})),_r(s))return s.resize(l,m,!0);if(typeof s=="string")return t(s,l,m);var f=Array.isArray(s)?!1:r.matrix!=="Array";if(l.length===0){for(;Array.isArray(s);)s=s[0];return wr(s)}else{Array.isArray(s)||(s=[s]),s=wr(s);var u=pt(s,l,m);return f?e(u):u}};function t(a,s,l){if(l!==void 0){if(typeof l!="string"||l.length!==1)throw new TypeError("Single character expected as defaultValue")}else l=" ";if(s.length!==1)throw new Vr(s.length,1);var m=s[0];if(typeof m!="number"||!Rr(m))throw new TypeError("Invalid size, must contain positive integers (size: "+Er(s)+")");if(a.length>m)return a.substring(0,m);if(a.length<m){for(var f=a,u=0,i=m-a.length;u<i;u++)f+=l;return f}else return a}}),Si="rotate",Bd=["typed","multiply","rotationMatrix"],zd=L(Si,Bd,n=>{var{typed:r,multiply:e,rotationMatrix:t}=n;return r(Si,{"Array , number | BigNumber | Complex | Unit":function(l,m){a(l,2);var f=e(t(m),l);return f.toArray()},"Matrix , number | BigNumber | Complex | Unit":function(l,m){return a(l,2),e(t(m),l)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function(l,m,f){a(l,3);var u=e(t(m,f),l);return u},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function(l,m,f){return a(l,3),e(t(m,f),l)}});function a(s,l){var m=Array.isArray(s)?Tr(s):s.size();if(m.length>2)throw new RangeError("Vector must be of dimensions 1x".concat(l));if(m.length===2&&m[1]!==1)throw new RangeError("Vector must be of dimensions 1x".concat(l));if(m[0]!==l)throw new RangeError("Vector must be of dimensions 1x".concat(l))}}),_i="rotationMatrix",Id=["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],Rd=L(_i,Id,n=>{var{typed:r,config:e,multiplyScalar:t,addScalar:a,unaryMinus:s,norm:l,BigNumber:m,matrix:f,DenseMatrix:u,SparseMatrix:i,cos:o,sin:c}=n;return r(_i,{"":function(){return e.matrix==="Matrix"?f([]):[]},string:function(b){return f(b)},"number | BigNumber | Complex | Unit":function(b){return p(b,e.matrix==="Matrix"?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(b,g){return p(b,g)},"number | BigNumber | Complex | Unit, Array":function(b,g){var x=f(g);return h(x),w(b,x,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(b,g){h(g);var x=g.storage()||(e.matrix==="Matrix"?"dense":void 0);return w(b,g,x)},"number | BigNumber | Complex | Unit, Array, string":function(b,g,x){var d=f(g);return h(d),w(b,d,x)},"number | BigNumber | Complex | Unit, Matrix, string":function(b,g,x){return h(g),w(b,g,x)}});function p(S,b){var g=Dr(S),x=g?new m(-1):-1,d=o(S),_=c(S),A=[[d,t(x,_)],[_,d]];return y(A,b)}function h(S){var b=S.size();if(b.length<1||b[0]!==3)throw new RangeError("Vector must be of dimensions 1x3")}function v(S){return S.reduce((b,g)=>t(b,g))}function y(S,b){if(b){if(b==="sparse")return new i(S);if(b==="dense")return new u(S);throw new TypeError('Unknown matrix type "'.concat(b,'"'))}return S}function w(S,b,g){var x=l(b);if(x===0)throw new RangeError("Rotation around zero vector");var d=Dr(S)?m:null,_=d?new d(1):1,A=d?new d(-1):-1,N=d?new d(b.get([0])/x):b.get([0])/x,M=d?new d(b.get([1])/x):b.get([1])/x,E=d?new d(b.get([2])/x):b.get([2])/x,T=o(S),z=a(_,s(T)),R=c(S),P=a(T,v([N,N,z])),D=a(v([N,M,z]),v([A,E,R])),q=a(v([N,E,z]),v([M,R])),F=a(v([N,M,z]),v([E,R])),$=a(T,v([M,M,z])),Y=a(v([M,E,z]),v([A,N,R])),Q=a(v([N,E,z]),v([A,M,R])),O=a(v([M,E,z]),v([N,R])),V=a(T,v([E,E,z])),C=[[P,D,q],[F,$,Y],[Q,O,V]];return y(C,g)}}),Mi="row",$d=["typed","Index","matrix","range"],Fs=L(Mi,$d,n=>{var{typed:r,Index:e,matrix:t,range:a}=n;return r(Mi,{"Matrix, number":s,"Array, number":function(m,f){return s(t(wr(m)),f).valueOf()}});function s(l,m){if(l.size().length!==2)throw new Error("Only two dimensional matrix is supported");Ir(m,l.size()[0]);var f=a(0,l.size()[1]),u=new e(m,f),i=l.subset(u);return _r(i)?i:t([[i]])}}),Ai="squeeze",Dd=["typed"],Ud=L(Ai,Dd,n=>{var{typed:r}=n;return r(Ai,{Array:function(t){return Wt(wr(t))},Matrix:function(t){var a=Wt(t.toArray());return Array.isArray(a)?t.create(a,t.datatype()):a},any:function(t){return wr(t)}})}),Ei="subset",Fd=["typed","matrix","zeros","add"],Ps=L(Ei,Fd,n=>{var{typed:r,matrix:e,zeros:t,add:a}=n;return r(Ei,{"Matrix, Index":function(m,f){return dt(f)?e():(kt(m,f),m.subset(f))},"Array, Index":r.referTo("Matrix, Index",function(l){return function(m,f){var u=l(e(m),f);return f.isScalar()?u:u.valueOf()}}),"Object, Index":qd,"string, Index":Pd,"Matrix, Index, any, any":function(m,f,u,i){return dt(f)?m:(kt(m,f),m.clone().subset(f,s(u,f),i))},"Array, Index, any, any":r.referTo("Matrix, Index, any, any",function(l){return function(m,f,u,i){var o=l(e(m),f,u,i);return o.isMatrix?o.valueOf():o}}),"Array, Index, any":r.referTo("Matrix, Index, any, any",function(l){return function(m,f,u){return l(e(m),f,u,void 0).valueOf()}}),"Matrix, Index, any":r.referTo("Matrix, Index, any, any",function(l){return function(m,f,u){return l(m,f,u,void 0)}}),"string, Index, string":Ti,"string, Index, string, string":Ti,"Object, Index, any":Ld});function s(l,m){if(typeof l=="string")throw new Error("can't boradcast a string");if(m._isScalar)return l;var f=m.size();if(f.every(u=>u>0))try{return a(l,t(f))}catch{return l}else return l}});function Pd(n,r){if(!Aa(r))throw new TypeError("Index expected");if(dt(r))return"";if(kt(Array.from(n),r),r.size().length!==1)throw new Vr(r.size().length,1);var e=n.length;Ir(r.min()[0],e),Ir(r.max()[0],e);var t=r.dimension(0),a="";return t.forEach(function(s){a+=n.charAt(s)}),a}function Ti(n,r,e,t){if(!r||r.isIndex!==!0)throw new TypeError("Index expected");if(dt(r))return n;if(kt(Array.from(n),r),r.size().length!==1)throw new Vr(r.size().length,1);if(t!==void 0){if(typeof t!="string"||t.length!==1)throw new TypeError("Single character expected as defaultValue")}else t=" ";var a=r.dimension(0),s=a.size()[0];if(s!==e.length)throw new Vr(a.size()[0],e.length);var l=n.length;Ir(r.min()[0]),Ir(r.max()[0]);for(var m=[],f=0;f<l;f++)m[f]=n.charAt(f);if(a.forEach(function(o,c){m[o]=e.charAt(c[0])}),m.length>l)for(var u=l-1,i=m.length;u<i;u++)m[u]||(m[u]=t);return m.join("")}function qd(n,r){if(!dt(r)){if(r.size().length!==1)throw new Vr(r.size(),1);var e=r.dimension(0);if(typeof e!="string")throw new TypeError("String expected as index to retrieve an object property");return Of(n,e)}}function Ld(n,r,e){if(dt(r))return n;if(r.size().length!==1)throw new Vr(r.size(),1);var t=r.dimension(0);if(typeof t!="string")throw new TypeError("String expected as index to retrieve an object property");var a=wr(n);return Tf(a,t,e),a}var Oi="transpose",Gd=["typed","matrix"],Vd=L(Oi,Gd,n=>{var{typed:r,matrix:e}=n;return r(Oi,{Array:l=>t(e(l)).valueOf(),Matrix:t,any:wr});function t(l){var m=l.size(),f;switch(m.length){case 1:f=l.clone();break;case 2:{var u=m[0],i=m[1];if(i===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+Er(m)+")");switch(l.storage()){case"dense":f=a(l,u,i);break;case"sparse":f=s(l,u,i);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+Er(m)+")")}return f}function a(l,m,f){for(var u=l._data,i=[],o,c=0;c<f;c++){o=i[c]=[];for(var p=0;p<m;p++)o[p]=wr(u[p][c])}return l.createDenseMatrix({data:i,size:[f,m],datatype:l._datatype})}function s(l,m,f){for(var u=l._values,i=l._index,o=l._ptr,c=u?[]:void 0,p=[],h=[],v=[],y=0;y<m;y++)v[y]=0;var w,S,b;for(w=0,S=i.length;w<S;w++)v[i[w]]++;for(var g=0,x=0;x<m;x++)h.push(g),g+=v[x],v[x]=h[x];for(h.push(g),b=0;b<f;b++)for(var d=o[b],_=o[b+1],A=d;A<_;A++){var N=v[i[A]]++;p[N]=b,u&&(c[N]=wr(u[A]))}return l.createSparseMatrix({values:c,index:p,ptr:h,size:[f,m],datatype:l._datatype})}}),Ci="ctranspose",Hd=["typed","transpose","conj"],Yd=L(Ci,Hd,n=>{var{typed:r,transpose:e,conj:t}=n;return r(Ci,{any:function(s){return t(e(s))}})}),Bi="zeros",Zd=["typed","config","matrix","BigNumber"],Qd=L(Bi,Zd,n=>{var{typed:r,config:e,matrix:t,BigNumber:a}=n;return r(Bi,{"":function(){return e.matrix==="Array"?s([]):s([],"default")},"...number | BigNumber | string":function(u){var i=u[u.length-1];if(typeof i=="string"){var o=u.pop();return s(u,o)}else return e.matrix==="Array"?s(u):s(u,"default")},Array:s,Matrix:function(u){var i=u.storage();return s(u.valueOf(),i)},"Array | Matrix, string":function(u,i){return s(u.valueOf(),i)}});function s(f,u){var i=l(f),o=i?new a(0):0;if(m(f),u){var c=t(u);return f.length>0?c.resize(f,o):c}else{var p=[];return f.length>0?pt(p,f,o):p}}function l(f){var u=!1;return f.forEach(function(i,o,c){Dr(i)&&(u=!0,c[o]=i.toNumber())}),u}function m(f){f.forEach(function(u){if(typeof u!="number"||!Rr(u)||u<0)throw new Error("Parameters in function zeros must be positive integers")})}}),zi="fft",Xd=["typed","matrix","addScalar","multiplyScalar","divideScalar","exp","tau","i","dotDivide","conj","pow","ceil","log2"],Jd=L(zi,Xd,n=>{var{typed:r,matrix:e,addScalar:t,multiplyScalar:a,divideScalar:s,exp:l,tau:m,i:f,dotDivide:u,conj:i,pow:o,ceil:c,log2:p}=n;return r(zi,{Array:h,Matrix:function(b){return b.create(h(b.valueOf()),b.datatype())}});function h(S){var b=Tr(S);return b.length===1?w(S,b[0]):v(S.map(g=>h(g,b.slice(1))),0)}function v(S,b){var g=Tr(S);if(b!==0)return new Array(g[0]).fill(0).map((d,_)=>v(S[_],b-1));if(g.length===1)return w(S);function x(d){var _=Tr(d);return new Array(_[1]).fill(0).map((A,N)=>new Array(_[0]).fill(0).map((M,E)=>d[E][N]))}return x(v(x(S),1))}function y(S){for(var b=S.length,g=l(s(a(-1,a(f,m)),b)),x=[],d=1-b;d<b;d++)x.push(o(g,s(o(d,2),2)));for(var _=o(2,c(p(b+b-1))),A=[...new Array(b).fill(0).map((D,q)=>a(S[q],x[b-1+q])),...new Array(_-b).fill(0)],N=[...new Array(b+b-1).fill(0).map((D,q)=>s(1,x[q])),...new Array(_-(b+b-1)).fill(0)],M=w(A),E=w(N),T=new Array(_).fill(0).map((D,q)=>a(M[q],E[q])),z=u(i(h(i(T))),_),R=[],P=b-1;P<b+b-1;P++)R.push(a(z[P],x[P]));return R}function w(S){var b=S.length;if(b===1)return[S[0]];if(b%2===0){for(var g=[...w(S.filter((A,N)=>N%2===0)),...w(S.filter((A,N)=>N%2===1))],x=0;x<b/2;x++){var d=g[x],_=a(g[x+b/2],l(a(a(m,f),s(-x,b))));g[x]=t(d,_),g[x+b/2]=t(d,a(-1,_))}return g}else return y(S)}}),Ii="ifft",Kd=["typed","fft","dotDivide","conj"],Wd=L(Ii,Kd,n=>{var{typed:r,fft:e,dotDivide:t,conj:a}=n;return r(Ii,{"Array | Matrix":function(l){var m=_r(l)?l.size():Tr(l);return t(a(e(a(l))),m.reduce((f,u)=>f*u,1))}})});function Ri(n,r){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);r&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),e.push.apply(e,t)}return e}function kd(n){for(var r=1;r<arguments.length;r++){var e=arguments[r]!=null?arguments[r]:{};r%2?Ri(Object(e),!0).forEach(function(t){_s(n,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Ri(Object(e)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))})}return n}var jd="solveODE",rh=["typed","add","subtract","multiply","divide","max","map","abs","isPositive","isNegative","larger","smaller","matrix","bignumber","unaryMinus"],eh=L(jd,rh,n=>{var{typed:r,add:e,subtract:t,multiply:a,divide:s,max:l,map:m,abs:f,isPositive:u,isNegative:i,larger:o,smaller:c,matrix:p,bignumber:h,unaryMinus:v}=n;function y(A){return function(N,M,E,T){var z=!(M.length===2&&(M.every(d)||M.every(Ne)));if(z)throw new Error('"tspan" must be an Array of two numeric values or two units [tStart, tEnd]');var R=M[0],P=M[1],D=o(P,R),q=T.firstStep;if(q!==void 0&&!u(q))throw new Error('"firstStep" must be positive');var F=T.maxStep;if(F!==void 0&&!u(F))throw new Error('"maxStep" must be positive');var $=T.minStep;if($&&i($))throw new Error('"minStep" must be positive or zero');var Y=[R,P,q,$,F].filter(j=>j!==void 0);if(!(Y.every(d)||Y.every(Ne)))throw new Error('Inconsistent type of "t" dependant variables');for(var Q=1,O=T.tol?T.tol:1e-4,V=T.minDelta?T.minDelta:.2,C=T.maxDelta?T.maxDelta:5,tr=T.maxIter?T.maxIter:1e4,rr=[R,P,...E,F,$].some(Dr),[Z,G,er,K]=rr?[h(A.a),h(A.c),h(A.b),h(A.bp)]:[A.a,A.c,A.b,A.bp],W=q?D?q:v(q):s(t(P,R),Q),k=[R],or=[E],lr=t(er,K),vr=0,hr=0,br=g(D),cr=x(D);br(k[vr],P);){var Nr=[];W=cr(k[vr],P,W),Nr.push(N(k[vr],or[vr]));for(var B=1;B<G.length;++B)Nr.push(N(e(k[vr],a(G[B],W)),e(or[vr],a(W,Z[B],Nr))));var U=l(f(m(a(lr,Nr),j=>Ne(j)?j.value:j)));U<O&&O/U>1/4&&(k.push(e(k[vr],W)),or.push(e(or[vr],a(W,er,Nr))),vr++);var H=.84*(O/U)**(1/5);if(c(H,V)?H=V:o(H,C)&&(H=C),H=rr?h(H):H,W=a(W,H),F&&o(f(W),F)?W=D?F:v(F):$&&c(f(W),$)&&(W=D?$:v($)),hr++,hr>tr)throw new Error("Maximum number of iterations reached, try changing options")}return{t:k,y:or}}}function w(A,N,M,E){var T=[[],[.5],[0,.75],[.2222222222222222,.3333333333333333,.4444444444444444]],z=[null,1/2,3/4,1],R=[2/9,1/3,4/9,0],P=[7/24,1/4,1/3,1/8],D={a:T,c:z,b:R,bp:P};return y(D)(A,N,M,E)}function S(A,N,M,E){var T=[[],[.2],[.075,.225],[.9777777777777777,-3.7333333333333334,3.5555555555555554],[2.9525986892242035,-11.595793324188385,9.822892851699436,-.2908093278463649],[2.8462752525252526,-10.757575757575758,8.906422717743473,.2784090909090909,-.2735313036020583],[.09114583333333333,0,.44923629829290207,.6510416666666666,-.322376179245283,.13095238095238096]],z=[null,1/5,3/10,4/5,8/9,1,1],R=[35/384,0,500/1113,125/192,-2187/6784,11/84,0],P=[5179/57600,0,7571/16695,393/640,-92097/339200,187/2100,1/40],D={a:T,c:z,b:R,bp:P};return y(D)(A,N,M,E)}function b(A,N,M,E){var T=E.method?E.method:"RK45",z={RK23:w,RK45:S};if(T.toUpperCase()in z){var R=kd({},E);return delete R.method,z[T.toUpperCase()](A,N,M,R)}else{var P=Object.keys(z).map(q=>'"'.concat(q,'"')),D="".concat(P.slice(0,-1).join(", ")," and ").concat(P.slice(-1));throw new Error('Unavailable method "'.concat(T,'". Available methods are ').concat(D))}}function g(A){return A?c:o}function x(A){var N=A?o:c;return function(M,E,T){var z=e(M,T);return N(z,E)?t(E,M):T}}function d(A){return Dr(A)||Gr(A)}function _(A,N,M,E){var T=b(A,N.toArray(),M.toArray(),E);return{t:p(T.t),y:p(T.y)}}return r("solveODE",{"function, Array, Array, Object":b,"function, Matrix, Matrix, Object":_,"function, Array, Array":(A,N,M)=>b(A,N,M,{}),"function, Matrix, Matrix":(A,N,M)=>_(A,N,M,{}),"function, Array, number | BigNumber | Unit":(A,N,M)=>{var E=b(A,N,[M],{});return{t:E.t,y:E.y.map(T=>T[0])}},"function, Matrix, number | BigNumber | Unit":(A,N,M)=>{var E=b(A,N.toArray(),[M],{});return{t:p(E.t),y:p(E.y.map(T=>T[0]))}},"function, Array, number | BigNumber | Unit, Object":(A,N,M,E)=>{var T=b(A,N,[M],E);return{t:T.t,y:T.y.map(z=>z[0])}},"function, Matrix, number | BigNumber | Unit, Object":(A,N,M,E)=>{var T=b(A,N.toArray(),[M],E);return{t:p(T.t),y:p(T.y.map(z=>z[0]))}}})}),$i="bin",th=["typed","format"],ah=L($i,th,n=>{var{typed:r,format:e}=n;return r($i,{"number | BigNumber":function(a){return e(a,{notation:"bin"})},"number | BigNumber, number | BigNumber":function(a,s){return e(a,{notation:"bin",wordSize:s})}})}),Di="oct",nh=["typed","format"],ih=L(Di,nh,n=>{var{typed:r,format:e}=n;return r(Di,{"number | BigNumber":function(a){return e(a,{notation:"oct"})},"number | BigNumber, number | BigNumber":function(a,s){return e(a,{notation:"oct",wordSize:s})}})}),Ui="hex",oh=["typed","format"],sh=L(Ui,oh,n=>{var{typed:r,format:e}=n;return r(Ui,{"number | BigNumber":function(a){return e(a,{notation:"hex"})},"number | BigNumber, number | BigNumber":function(a,s){return e(a,{notation:"hex",wordSize:s})}})}),Fi="to",uh=["typed","matrix","concat"],fh=L(Fi,uh,n=>{var{typed:r,matrix:e,concat:t}=n,a=Qr({typed:r,matrix:e,concat:t});return r(Fi,{"Unit, Unit | string":(s,l)=>s.to(l)},a({Ds:!0}))}),Pi="toBest",lh=["typed"],vh=L(Pi,lh,n=>{var{typed:r}=n;return r(Pi,{Unit:e=>e.toBest(),"Unit, string":(e,t)=>e.toBest(t.split(",")),"Unit, string, Object":(e,t,a)=>e.toBest(t.split(","),a),"Unit, Array":(e,t)=>e.toBest(t),"Unit, Array, Object":(e,t,a)=>e.toBest(t,a)})}),qi="divideScalar",ch=["typed","numeric"],mh=L(qi,ch,n=>{var{typed:r,numeric:e}=n;return r(qi,{"number, number":function(a,s){return a/s},"Complex, Complex":function(a,s){return a.div(s)},"BigNumber, BigNumber":function(a,s){return a.div(s)},"bigint, bigint":function(a,s){return a/s},"Fraction, Fraction":function(a,s){return a.div(s)},"Unit, number | Complex | Fraction | BigNumber | Unit":(t,a)=>t.divide(a),"number | Fraction | Complex | BigNumber, Unit":(t,a)=>a.divideInto(t)})}),Li="pow",ph=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],dh=L(Li,ph,n=>{var{typed:r,config:e,identity:t,multiply:a,matrix:s,inv:l,number:m,fraction:f,Complex:u}=n;return r(Li,{"number, number":i,"Complex, Complex":function(h,v){return h.pow(v)},"BigNumber, BigNumber":function(h,v){return v.isInteger()||h>=0||e.predictable?h.pow(v):new u(h.toNumber(),0).pow(v.toNumber(),0)},"bigint, bigint":(p,h)=>p**h,"Fraction, Fraction":function(h,v){var y=h.pow(v);if(y!=null)return y;if(e.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return i(h.valueOf(),v.valueOf())},"Array, number":o,"Array, BigNumber":function(h,v){return o(h,v.toNumber())},"Matrix, number":c,"Matrix, BigNumber":function(h,v){return c(h,v.toNumber())},"Unit, number | BigNumber":function(h,v){return h.pow(v)}});function i(p,h){if(e.predictable&&!Rr(h)&&p<0)try{var v=f(h),y=m(v);if((h===y||Math.abs((h-y)/h)<1e-14)&&v.d%2n===1n)return(v.n%2n===0n?1:-1)*Math.pow(-p,h)}catch{}return e.predictable&&(p<-1&&h===1/0||p>-1&&p<0&&h===-1/0)?NaN:Rr(h)||p>=0||e.predictable?Cf(p,h):p*p<1&&h===1/0||p*p>1&&h===-1/0?0:new u(p,0).pow(h,0)}function o(p,h){if(!Rr(h))throw new TypeError("For A^b, b must be an integer (value is "+h+")");var v=Tr(p);if(v.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+v.length+" dimensions)");if(v[0]!==v[1])throw new Error("For A^b, A must be square (size is "+v[0]+"x"+v[1]+")");if(h<0)try{return o(l(p),-h)}catch(S){throw S.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+h+")"):S}for(var y=t(v[0]).valueOf(),w=p;h>=1;)(h&1)===1&&(y=a(w,y)),h>>=1,w=a(w,w);return y}function c(p,h){return s(o(p.valueOf(),h))}}),ct="Number of decimals in function round must be an integer",Gi="round",hh=["typed","config","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],gh=L(Gi,hh,n=>{var{typed:r,config:e,matrix:t,equalScalar:a,zeros:s,BigNumber:l,DenseMatrix:m}=n,f=fe({typed:r,equalScalar:a}),u=$e({typed:r,DenseMatrix:m}),i=ke({typed:r});function o(c){return Math.abs(Bf(c).exponent)}return r(Gi,{number:function(p){var h=Ct(p,o(e.relTol)),v=Kt(p,h,e.relTol,e.absTol)?h:p;return Ct(v)},"number, number":function(p,h){var v=o(e.relTol);if(h>=v)return Ct(p,h);var y=Ct(p,v),w=Kt(p,y,e.relTol,e.absTol)?y:p;return Ct(w,h)},"number, BigNumber":function(p,h){if(!h.isInteger())throw new TypeError(ct);return new l(p).toDecimalPlaces(h.toNumber())},Complex:function(p){return p.round()},"Complex, number":function(p,h){if(h%1)throw new TypeError(ct);return p.round(h)},"Complex, BigNumber":function(p,h){if(!h.isInteger())throw new TypeError(ct);var v=h.toNumber();return p.round(v)},BigNumber:function(p){var h=new l(p).toDecimalPlaces(o(e.relTol)),v=Jt(p,h,e.relTol,e.absTol)?h:p;return v.toDecimalPlaces(0)},"BigNumber, BigNumber":function(p,h){if(!h.isInteger())throw new TypeError(ct);var v=o(e.relTol);if(h>=v)return p.toDecimalPlaces(h.toNumber());var y=p.toDecimalPlaces(v),w=Jt(p,y,e.relTol,e.absTol)?y:p;return w.toDecimalPlaces(h.toNumber())},bigint:c=>c,"bigint, number":(c,p)=>c,"bigint, BigNumber":(c,p)=>c,Fraction:function(p){return p.round()},"Fraction, number":function(p,h){if(h%1)throw new TypeError(ct);return p.round(h)},"Fraction, BigNumber":function(p,h){if(!h.isInteger())throw new TypeError(ct);return p.round(h.toNumber())},"Unit, number, Unit":r.referToSelf(c=>function(p,h,v){var y=p.toNumeric(v);return v.multiply(c(y,h))}),"Unit, BigNumber, Unit":r.referToSelf(c=>(p,h,v)=>c(p,h.toNumber(),v)),"Array | Matrix, number | BigNumber, Unit":r.referToSelf(c=>(p,h,v)=>Pr(p,y=>c(y,h,v),!0)),"Array | Matrix | Unit, Unit":r.referToSelf(c=>(p,h)=>c(p,0,h)),"Array | Matrix":r.referToSelf(c=>p=>Pr(p,c,!0)),"SparseMatrix, number | BigNumber":r.referToSelf(c=>(p,h)=>f(p,h,c,!1)),"DenseMatrix, number | BigNumber":r.referToSelf(c=>(p,h)=>i(p,h,c,!1)),"Array, number | BigNumber":r.referToSelf(c=>(p,h)=>i(t(p),h,c,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":r.referToSelf(c=>(p,h)=>a(p,0)?s(h.size(),h.storage()):u(h,p,c,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":r.referToSelf(c=>(p,h)=>a(p,0)?s(h.size(),h.storage()):i(h,p,c,!0)),"number | Complex | BigNumber | Fraction, Array":r.referToSelf(c=>(p,h)=>i(t(h),p,c,!0).valueOf())})}),Vi="log",yh=["config","typed","typeOf","divideScalar","Complex"],bh=Math.log(16),wh=L(Vi,yh,n=>{var{typed:r,typeOf:e,config:t,divideScalar:a,Complex:s}=n;function l(f){return f.log()}function m(f){return l(new s(f,0))}return r(Vi,{number:function(u){return u>=0||t.predictable?gn(u):m(u)},bigint:Ca(bh,gn,t,m),Complex:l,BigNumber:function(u){return!u.isNegative()||t.predictable?u.ln():m(u.toNumber())},"any, any":r.referToSelf(f=>(u,i)=>{if(e(u)==="Fraction"&&e(i)==="Fraction"){var o=u.log(i);if(o!==null)return o}return a(f(u),f(i))})})}),Hi="log1p",xh=["typed","config","divideScalar","log","Complex"],Nh=L(Hi,xh,n=>{var{typed:r,config:e,divideScalar:t,log:a,Complex:s}=n;return r(Hi,{number:function(f){return f>=-1||e.predictable?zf(f):l(new s(f,0))},Complex:l,BigNumber:function(f){var u=f.plus(1);return!u.isNegative()||e.predictable?u.ln():l(new s(f.toNumber(),0))},"Array | Matrix":r.referToSelf(m=>f=>Pr(f,m)),"any, any":r.referToSelf(m=>(f,u)=>t(m(f),a(u)))});function l(m){var f=m.re+1;return new s(Math.log(Math.sqrt(f*f+m.im*m.im)),Math.atan2(m.im,f))}}),Yi="nthRoots",Sh=["config","typed","divideScalar","Complex"],_h=L(Yi,Sh,n=>{var{typed:r,config:e,divideScalar:t,Complex:a}=n,s=[function(f){return new a(f,0)},function(f){return new a(0,f)},function(f){return new a(-f,0)},function(f){return new a(0,-f)}];function l(m,f){if(f<0)throw new Error("Root must be greater than zero");if(f===0)throw new Error("Root must be non-zero");if(f%1!==0)throw new Error("Root must be an integer");if(m===0||m.abs()===0)return[new a(0,0)];var u=typeof m=="number",i;(u||m.re===0||m.im===0)&&(u?i=2*+(m<0):m.im===0?i=2*+(m.re<0):i=2*+(m.im<0)+1);for(var o=m.arg(),c=m.abs(),p=[],h=Math.pow(c,1/f),v=0;v<f;v++){var y=(i+4*v)/f;if(y===Math.round(y)){p.push(s[y%4](h));continue}p.push(new a({r:h,phi:(o+2*Math.PI*v)/f}))}return p}return r(Yi,{Complex:function(f){return l(f,2)},"Complex, number":l})}),Zi="dotPow",Mh=["typed","equalScalar","matrix","pow","DenseMatrix","concat","SparseMatrix"],Ah=L(Zi,Mh,n=>{var{typed:r,equalScalar:e,matrix:t,pow:a,DenseMatrix:s,concat:l,SparseMatrix:m}=n,f=Ge({typed:r}),u=ea({typed:r,SparseMatrix:m}),i=fe({typed:r,equalScalar:e}),o=$e({typed:r,DenseMatrix:s}),c=Qr({typed:r,matrix:t,concat:l}),p={};for(var h in a.signatures)Object.prototype.hasOwnProperty.call(a.signatures,h)&&!h.includes("Matrix")&&!h.includes("Array")&&(p[h]=a.signatures[h]);var v=r(p);return r(Zi,c({elop:v,SS:u,DS:f,Ss:i,sS:o}))}),Qi="dotDivide",Eh=["typed","matrix","equalScalar","divideScalar","DenseMatrix","concat","SparseMatrix"],Th=L(Qi,Eh,n=>{var{typed:r,matrix:e,equalScalar:t,divideScalar:a,DenseMatrix:s,concat:l,SparseMatrix:m}=n,f=Se({typed:r,equalScalar:t}),u=Ge({typed:r}),i=ea({typed:r,SparseMatrix:m}),o=fe({typed:r,equalScalar:t}),c=$e({typed:r,DenseMatrix:s}),p=Qr({typed:r,matrix:e,concat:l});return r(Qi,p({elop:a,SS:i,DS:u,SD:f,Ss:o,sS:c}))});function Dt(n){var{DenseMatrix:r}=n;return function(t,a,s){var l=t.size();if(l.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+Er(l)+")");var m=l[0],f=l[1];if(m!==f)throw new RangeError("Matrix must be square (size: "+Er(l)+")");var u=[];if(_r(a)){var i=a.size(),o=a._data;if(i.length===1){if(i[0]!==m)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var c=0;c<m;c++)u[c]=[o[c]];return new r({data:u,size:[m,1],datatype:a._datatype})}if(i.length===2){if(i[0]!==m||i[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(If(a)){if(s){u=[];for(var p=0;p<m;p++)u[p]=[o[p][0]];return new r({data:u,size:[m,1],datatype:a._datatype})}return a}if(Ms(a)){for(var h=0;h<m;h++)u[h]=[0];for(var v=a._values,y=a._index,w=a._ptr,S=w[1],b=w[0];b<S;b++){var g=y[b];u[g][0]=v[b]}return new r({data:u,size:[m,1],datatype:a._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(Ur(a)){var x=Tr(a);if(x.length===1){if(x[0]!==m)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var d=0;d<m;d++)u[d]=[a[d]];return new r({data:u,size:[m,1]})}if(x.length===2){if(x[0]!==m||x[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var _=0;_<m;_++)u[_]=[a[_][0]];return new r({data:u,size:[m,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var Xi="lsolve",Oh=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],Ch=L(Xi,Oh,n=>{var{typed:r,matrix:e,divideScalar:t,multiplyScalar:a,subtractScalar:s,equalScalar:l,DenseMatrix:m}=n,f=Dt({DenseMatrix:m});return r(Xi,{"SparseMatrix, Array | Matrix":function(c,p){return i(c,p)},"DenseMatrix, Array | Matrix":function(c,p){return u(c,p)},"Array, Array | Matrix":function(c,p){var h=e(c),v=u(h,p);return v.valueOf()}});function u(o,c){c=f(o,c,!0);for(var p=c._data,h=o._size[0],v=o._size[1],y=[],w=o._data,S=0;S<v;S++){var b=p[S][0]||0,g=void 0;if(l(b,0))g=0;else{var x=w[S][S];if(l(x,0))throw new Error("Linear system cannot be solved since matrix is singular");g=t(b,x);for(var d=S+1;d<h;d++)p[d]=[s(p[d][0]||0,a(g,w[d][S]))]}y[S]=[g]}return new m({data:y,size:[h,1]})}function i(o,c){c=f(o,c,!0);for(var p=c._data,h=o._size[0],v=o._size[1],y=o._values,w=o._index,S=o._ptr,b=[],g=0;g<v;g++){var x=p[g][0]||0;if(l(x,0))b[g]=[0];else{for(var d=0,_=[],A=[],N=S[g],M=S[g+1],E=N;E<M;E++){var T=w[E];T===g?d=y[E]:T>g&&(_.push(y[E]),A.push(T))}if(l(d,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var z=t(x,d),R=0,P=A.length;R<P;R++){var D=A[R];p[D]=[s(p[D][0]||0,a(z,_[R]))]}b[g]=[z]}}return new m({data:b,size:[h,1]})}}),Ji="usolve",Bh=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],zh=L(Ji,Bh,n=>{var{typed:r,matrix:e,divideScalar:t,multiplyScalar:a,subtractScalar:s,equalScalar:l,DenseMatrix:m}=n,f=Dt({DenseMatrix:m});return r(Ji,{"SparseMatrix, Array | Matrix":function(c,p){return i(c,p)},"DenseMatrix, Array | Matrix":function(c,p){return u(c,p)},"Array, Array | Matrix":function(c,p){var h=e(c),v=u(h,p);return v.valueOf()}});function u(o,c){c=f(o,c,!0);for(var p=c._data,h=o._size[0],v=o._size[1],y=[],w=o._data,S=v-1;S>=0;S--){var b=p[S][0]||0,g=void 0;if(l(b,0))g=0;else{var x=w[S][S];if(l(x,0))throw new Error("Linear system cannot be solved since matrix is singular");g=t(b,x);for(var d=S-1;d>=0;d--)p[d]=[s(p[d][0]||0,a(g,w[d][S]))]}y[S]=[g]}return new m({data:y,size:[h,1]})}function i(o,c){c=f(o,c,!0);for(var p=c._data,h=o._size[0],v=o._size[1],y=o._values,w=o._index,S=o._ptr,b=[],g=v-1;g>=0;g--){var x=p[g][0]||0;if(l(x,0))b[g]=[0];else{for(var d=0,_=[],A=[],N=S[g],M=S[g+1],E=M-1;E>=N;E--){var T=w[E];T===g?d=y[E]:T<g&&(_.push(y[E]),A.push(T))}if(l(d,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var z=t(x,d),R=0,P=A.length;R<P;R++){var D=A[R];p[D]=[s(p[D][0],a(z,_[R]))]}b[g]=[z]}}return new m({data:b,size:[h,1]})}}),Ki="lsolveAll",Ih=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],Rh=L(Ki,Ih,n=>{var{typed:r,matrix:e,divideScalar:t,multiplyScalar:a,subtractScalar:s,equalScalar:l,DenseMatrix:m}=n,f=Dt({DenseMatrix:m});return r(Ki,{"SparseMatrix, Array | Matrix":function(c,p){return i(c,p)},"DenseMatrix, Array | Matrix":function(c,p){return u(c,p)},"Array, Array | Matrix":function(c,p){var h=e(c),v=u(h,p);return v.map(y=>y.valueOf())}});function u(o,c){for(var p=[f(o,c,!0)._data.map(A=>A[0])],h=o._data,v=o._size[0],y=o._size[1],w=0;w<y;w++)for(var S=p.length,b=0;b<S;b++){var g=p[b];if(l(h[w][w],0))if(l(g[w],0)){if(b===0){var d=[...g];d[w]=1;for(var _=w+1;_<y;_++)d[_]=s(d[_],h[_][w]);p.push(d)}}else{if(b===0)return[];p.splice(b,1),b-=1,S-=1}else{g[w]=t(g[w],h[w][w]);for(var x=w+1;x<y;x++)g[x]=s(g[x],a(g[w],h[x][w]))}}return p.map(A=>new m({data:A.map(N=>[N]),size:[v,1]}))}function i(o,c){for(var p=[f(o,c,!0)._data.map(Q=>Q[0])],h=o._size[0],v=o._size[1],y=o._values,w=o._index,S=o._ptr,b=0;b<v;b++)for(var g=p.length,x=0;x<g;x++){for(var d=p[x],_=[],A=[],N=S[b],M=S[b+1],E=0,T=N;T<M;T++){var z=w[T];z===b?E=y[T]:z>b&&(_.push(y[T]),A.push(z))}if(l(E,0))if(l(d[b],0)){if(x===0){var q=[...d];q[b]=1;for(var F=0,$=A.length;F<$;F++){var Y=A[F];q[Y]=s(q[Y],_[F])}p.push(q)}}else{if(x===0)return[];p.splice(x,1),x-=1,g-=1}else{d[b]=t(d[b],E);for(var R=0,P=A.length;R<P;R++){var D=A[R];d[D]=s(d[D],a(d[b],_[R]))}}}return p.map(Q=>new m({data:Q.map(O=>[O]),size:[h,1]}))}}),Wi="usolveAll",$h=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],Dh=L(Wi,$h,n=>{var{typed:r,matrix:e,divideScalar:t,multiplyScalar:a,subtractScalar:s,equalScalar:l,DenseMatrix:m}=n,f=Dt({DenseMatrix:m});return r(Wi,{"SparseMatrix, Array | Matrix":function(c,p){return i(c,p)},"DenseMatrix, Array | Matrix":function(c,p){return u(c,p)},"Array, Array | Matrix":function(c,p){var h=e(c),v=u(h,p);return v.map(y=>y.valueOf())}});function u(o,c){for(var p=[f(o,c,!0)._data.map(A=>A[0])],h=o._data,v=o._size[0],y=o._size[1],w=y-1;w>=0;w--)for(var S=p.length,b=0;b<S;b++){var g=p[b];if(l(h[w][w],0))if(l(g[w],0)){if(b===0){var d=[...g];d[w]=1;for(var _=w-1;_>=0;_--)d[_]=s(d[_],h[_][w]);p.push(d)}}else{if(b===0)return[];p.splice(b,1),b-=1,S-=1}else{g[w]=t(g[w],h[w][w]);for(var x=w-1;x>=0;x--)g[x]=s(g[x],a(g[w],h[x][w]))}}return p.map(A=>new m({data:A.map(N=>[N]),size:[v,1]}))}function i(o,c){for(var p=[f(o,c,!0)._data.map(Q=>Q[0])],h=o._size[0],v=o._size[1],y=o._values,w=o._index,S=o._ptr,b=v-1;b>=0;b--)for(var g=p.length,x=0;x<g;x++){for(var d=p[x],_=[],A=[],N=S[b],M=S[b+1],E=0,T=M-1;T>=N;T--){var z=w[T];z===b?E=y[T]:z<b&&(_.push(y[T]),A.push(z))}if(l(E,0))if(l(d[b],0)){if(x===0){var q=[...d];q[b]=1;for(var F=0,$=A.length;F<$;F++){var Y=A[F];q[Y]=s(q[Y],_[F])}p.push(q)}}else{if(x===0)return[];p.splice(x,1),x-=1,g-=1}else{d[b]=t(d[b],E);for(var R=0,P=A.length;R<P;R++){var D=A[R];d[D]=s(d[D],a(d[b],_[R]))}}}return p.map(Q=>new m({data:Q.map(O=>[O]),size:[h,1]}))}}),Uh="matAlgo08xS0Sid",Fh=["typed","equalScalar"],za=L(Uh,Fh,n=>{var{typed:r,equalScalar:e}=n;return function(a,s,l){var m=a._values,f=a._index,u=a._ptr,i=a._size,o=a._datatype||a._data===void 0?a._datatype:a.getDataType(),c=s._values,p=s._index,h=s._ptr,v=s._size,y=s._datatype||s._data===void 0?s._datatype:s.getDataType();if(i.length!==v.length)throw new Vr(i.length,v.length);if(i[0]!==v[0]||i[1]!==v[1])throw new RangeError("Dimension mismatch. Matrix A ("+i+") must match Matrix B ("+v+")");if(!m||!c)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var w=i[0],S=i[1],b,g=e,x=0,d=l;typeof o=="string"&&o===y&&o!=="mixed"&&(b=o,g=r.find(e,[b,b]),x=r.convert(0,b),d=r.find(l,[b,b]));for(var _=[],A=[],N=[],M=[],E=[],T,z,R,P,D=0;D<S;D++){N[D]=A.length;var q=D+1;for(z=u[D],R=u[D+1],T=z;T<R;T++)P=f[T],E[P]=q,M[P]=m[T],A.push(P);for(z=h[D],R=h[D+1],T=z;T<R;T++)P=p[T],E[P]===q&&(M[P]=d(M[P],c[T]));for(T=N[D];T<A.length;){P=A[T];var F=M[P];g(F,x)?A.splice(T,1):(_.push(F),T++)}}return N[S]=A.length,a.createSparseMatrix({values:_,index:A,ptr:N,size:[w,S],datatype:o===a._datatype&&y===s._datatype?b:void 0})}}),Ia=L("useMatrixForArrayScalar",["typed","matrix"],n=>{var{typed:r,matrix:e}=n;return{"Array, number":r.referTo("DenseMatrix, number",t=>(a,s)=>t(e(a),s).valueOf()),"Array, BigNumber":r.referTo("DenseMatrix, BigNumber",t=>(a,s)=>t(e(a),s).valueOf()),"number, Array":r.referTo("number, DenseMatrix",t=>(a,s)=>t(a,e(s)).valueOf()),"BigNumber, Array":r.referTo("BigNumber, DenseMatrix",t=>(a,s)=>t(a,e(s)).valueOf())}}),ki="leftShift",Ph=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],qh=L(ki,Ph,n=>{var{typed:r,matrix:e,equalScalar:t,zeros:a,DenseMatrix:s,concat:l}=n,m=Ve({typed:r}),f=Se({typed:r,equalScalar:t}),u=za({typed:r,equalScalar:t}),i=rt({typed:r,DenseMatrix:s}),o=fe({typed:r,equalScalar:t}),c=ke({typed:r}),p=Qr({typed:r,matrix:e,concat:l}),h=Ia({typed:r,matrix:e});return r(ki,{"number, number":Rf,"BigNumber, BigNumber":Pp,"bigint, bigint":(v,y)=>v<<y,"SparseMatrix, number | BigNumber":r.referToSelf(v=>(y,w)=>t(w,0)?y.clone():o(y,w,v,!1)),"DenseMatrix, number | BigNumber":r.referToSelf(v=>(y,w)=>t(w,0)?y.clone():c(y,w,v,!1)),"number | BigNumber, SparseMatrix":r.referToSelf(v=>(y,w)=>t(y,0)?a(w.size(),w.storage()):i(w,y,v,!0)),"number | BigNumber, DenseMatrix":r.referToSelf(v=>(y,w)=>t(y,0)?a(w.size(),w.storage()):c(w,y,v,!0))},h,p({SS:u,DS:m,SD:f}))}),ji="rightArithShift",Lh=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],Gh=L(ji,Lh,n=>{var{typed:r,matrix:e,equalScalar:t,zeros:a,DenseMatrix:s,concat:l}=n,m=Ve({typed:r}),f=Se({typed:r,equalScalar:t}),u=za({typed:r,equalScalar:t}),i=rt({typed:r,DenseMatrix:s}),o=fe({typed:r,equalScalar:t}),c=ke({typed:r}),p=Qr({typed:r,matrix:e,concat:l}),h=Ia({typed:r,matrix:e});return r(ji,{"number, number":$f,"BigNumber, BigNumber":qp,"bigint, bigint":(v,y)=>v>>y,"SparseMatrix, number | BigNumber":r.referToSelf(v=>(y,w)=>t(w,0)?y.clone():o(y,w,v,!1)),"DenseMatrix, number | BigNumber":r.referToSelf(v=>(y,w)=>t(w,0)?y.clone():c(y,w,v,!1)),"number | BigNumber, SparseMatrix":r.referToSelf(v=>(y,w)=>t(y,0)?a(w.size(),w.storage()):i(w,y,v,!0)),"number | BigNumber, DenseMatrix":r.referToSelf(v=>(y,w)=>t(y,0)?a(w.size(),w.storage()):c(w,y,v,!0))},h,p({SS:u,DS:m,SD:f}))}),ro="rightLogShift",Vh=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],Hh=L(ro,Vh,n=>{var{typed:r,matrix:e,equalScalar:t,zeros:a,DenseMatrix:s,concat:l}=n,m=Ve({typed:r}),f=Se({typed:r,equalScalar:t}),u=za({typed:r,equalScalar:t}),i=rt({typed:r,DenseMatrix:s}),o=fe({typed:r,equalScalar:t}),c=ke({typed:r}),p=Qr({typed:r,matrix:e,concat:l}),h=Ia({typed:r,matrix:e});return r(ro,{"number, number":Df,"SparseMatrix, number | BigNumber":r.referToSelf(v=>(y,w)=>t(w,0)?y.clone():o(y,w,v,!1)),"DenseMatrix, number | BigNumber":r.referToSelf(v=>(y,w)=>t(w,0)?y.clone():c(y,w,v,!1)),"number | BigNumber, SparseMatrix":r.referToSelf(v=>(y,w)=>t(y,0)?a(w.size(),w.storage()):i(w,y,v,!0)),"number | BigNumber, DenseMatrix":r.referToSelf(v=>(y,w)=>t(y,0)?a(w.size(),w.storage()):c(w,y,v,!0))},h,p({SS:u,DS:m,SD:f}))}),eo="and",Yh=["typed","matrix","equalScalar","zeros","not","concat"],qs=L(eo,Yh,n=>{var{typed:r,matrix:e,equalScalar:t,zeros:a,not:s,concat:l}=n,m=Se({typed:r,equalScalar:t}),f=ta({typed:r,equalScalar:t}),u=fe({typed:r,equalScalar:t}),i=ke({typed:r}),o=Qr({typed:r,matrix:e,concat:l});return r(eo,{"number, number":yn,"Complex, Complex":function(p,h){return(p.re!==0||p.im!==0)&&(h.re!==0||h.im!==0)},"BigNumber, BigNumber":function(p,h){return!p.isZero()&&!h.isZero()&&!p.isNaN()&&!h.isNaN()},"bigint, bigint":yn,"Unit, Unit":r.referToSelf(c=>(p,h)=>c(p.value||0,h.value||0)),"SparseMatrix, any":r.referToSelf(c=>(p,h)=>s(h)?a(p.size(),p.storage()):u(p,h,c,!1)),"DenseMatrix, any":r.referToSelf(c=>(p,h)=>s(h)?a(p.size(),p.storage()):i(p,h,c,!1)),"any, SparseMatrix":r.referToSelf(c=>(p,h)=>s(p)?a(p.size(),p.storage()):u(h,p,c,!0)),"any, DenseMatrix":r.referToSelf(c=>(p,h)=>s(p)?a(p.size(),p.storage()):i(h,p,c,!0)),"Array, any":r.referToSelf(c=>(p,h)=>c(e(p),h).valueOf()),"any, Array":r.referToSelf(c=>(p,h)=>c(p,e(h)).valueOf())},o({SS:f,DS:m}))}),to="sort",Zh=["typed","matrix","compare","compareNatural"],Qh=L(to,Zh,n=>{var{typed:r,matrix:e,compare:t,compareNatural:a}=n,s=t,l=(i,o)=>-t(i,o);return r(to,{Array:function(o){return f(o),o.sort(s)},Matrix:function(o){return u(o),e(o.toArray().sort(s),o.storage())},"Array, function":function(o,c){return f(o),o.sort(c)},"Matrix, function":function(o,c){return u(o),e(o.toArray().sort(c),o.storage())},"Array, string":function(o,c){return f(o),o.sort(m(c))},"Matrix, string":function(o,c){return u(o),e(o.toArray().sort(m(c)),o.storage())}});function m(i){if(i==="asc")return s;if(i==="desc")return l;if(i==="natural")return a;throw new Error('String "asc", "desc", or "natural" expected')}function f(i){if(Tr(i).length!==1)throw new Error("One dimensional array expected")}function u(i){if(i.size().length!==1)throw new Error("One dimensional matrix expected")}}),Xh="ImmutableDenseMatrix",Jh=["smaller","DenseMatrix"],Kh=L(Xh,Jh,n=>{var{smaller:r,DenseMatrix:e}=n;function t(a,s){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(s&&!qe(s))throw new Error("Invalid datatype: "+s);if(_r(a)||Ur(a)){var l=new e(a,s);this._data=l._data,this._size=l._size,this._datatype=l._datatype,this._min=null,this._max=null}else if(a&&Ur(a.data)&&Ur(a.size))this._data=a.data,this._size=a.size,this._datatype=a.datatype,this._min=typeof a.min<"u"?a.min:null,this._max=typeof a.max<"u"?a.max:null;else{if(a)throw new TypeError("Unsupported type of data ("+ge(a)+")");this._data=[],this._size=[0],this._datatype=s,this._min=null,this._max=null}}return t.prototype=new e,t.prototype.type="ImmutableDenseMatrix",t.prototype.isImmutableDenseMatrix=!0,t.prototype.subset=function(a){switch(arguments.length){case 1:{var s=e.prototype.subset.call(this,a);return _r(s)?new t({data:s._data,size:s._size,datatype:s._datatype}):s}case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},t.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},t.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},t.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},t.prototype.clone=function(){return new t({data:wr(this._data),size:wr(this._size),datatype:this._datatype})},t.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},t.fromJSON=function(a){return new t(a)},t.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},t.prototype.min=function(){if(this._min===null){var a=null;this.forEach(function(s){(a===null||r(s,a))&&(a=s)}),this._min=a!==null?a:void 0}return this._min},t.prototype.max=function(){if(this._max===null){var a=null;this.forEach(function(s){(a===null||r(a,s))&&(a=s)}),this._max=a!==null?a:void 0}return this._max},t},{isClass:!0}),Wh="Index",kh=["ImmutableDenseMatrix","getMatrixDataType"],jh=L(Wh,kh,n=>{var{ImmutableDenseMatrix:r,getMatrixDataType:e}=n;function t(s){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var l=0,m=arguments.length;l<m;l++){var f=arguments[l],u=Ur(f),i=_r(f),o=typeof f,c=null;if(As(f))this._dimensions.push(f),this._isScalar=!1;else if(u||i){var p=void 0;e(f)==="boolean"?(u&&(p=a(ao(f).valueOf())),i&&(p=a(ao(f._data).valueOf())),c=f.valueOf().length):p=a(f.valueOf()),this._dimensions.push(p);var h=p.size();(h.length!==1||h[0]!==1||c!==null)&&(this._isScalar=!1)}else if(o==="number")this._dimensions.push(a([f]));else if(o==="bigint")this._dimensions.push(a([Number(f)]));else if(o==="string")this._dimensions.push(f);else throw new TypeError("Dimension must be an Array, Matrix, number, bigint, string, or Range");this._sourceSize.push(c)}}t.prototype.type="Index",t.prototype.isIndex=!0;function a(s){for(var l=0,m=s.length;l<m;l++)if(typeof s[l]!="number"||!Rr(s[l]))throw new TypeError("Index parameters must be positive integer numbers");return new r(s)}return t.prototype.clone=function(){var s=new t;return s._dimensions=wr(this._dimensions),s._isScalar=this._isScalar,s._sourceSize=this._sourceSize,s},t.create=function(s){var l=new t;return t.apply(l,s),l},t.prototype.size=function(){for(var s=[],l=0,m=this._dimensions.length;l<m;l++){var f=this._dimensions[l];s[l]=typeof f=="string"?1:f.size()[0]}return s},t.prototype.max=function(){for(var s=[],l=0,m=this._dimensions.length;l<m;l++){var f=this._dimensions[l];s[l]=typeof f=="string"?f:f.max()}return s},t.prototype.min=function(){for(var s=[],l=0,m=this._dimensions.length;l<m;l++){var f=this._dimensions[l];s[l]=typeof f=="string"?f:f.min()}return s},t.prototype.forEach=function(s){for(var l=0,m=this._dimensions.length;l<m;l++)s(this._dimensions[l],l,this)},t.prototype.dimension=function(s){return typeof s!="number"?null:this._dimensions[s]||null},t.prototype.isObjectProperty=function(){return this._dimensions.length===1&&typeof this._dimensions[0]=="string"},t.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},t.prototype.isScalar=function(){return this._isScalar},t.prototype.toArray=function(){for(var s=[],l=0,m=this._dimensions.length;l<m;l++){var f=this._dimensions[l];s.push(typeof f=="string"?f:f.toArray())}return s},t.prototype.valueOf=t.prototype.toArray,t.prototype.toString=function(){for(var s=[],l=0,m=this._dimensions.length;l<m;l++){var f=this._dimensions[l];typeof f=="string"?s.push(JSON.stringify(f)):s.push(f.toString())}return"["+s.join(", ")+"]"},t.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},t.fromJSON=function(s){return t.create(s.dimensions)},t},{isClass:!0});function ao(n){var r=[];return n.forEach((e,t)=>{e&&r.push(t)}),r}var rg="FibonacciHeap",eg=["smaller","larger"],tg=L(rg,eg,n=>{var{smaller:r,larger:e}=n,t=1/Math.log((1+Math.sqrt(5))/2);function a(){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}a.prototype.type="FibonacciHeap",a.prototype.isFibonacciHeap=!0,a.prototype.insert=function(i,o){var c={key:i,value:o,degree:0};if(this._minimum){var p=this._minimum;c.left=p,c.right=p.right,p.right=c,c.right.left=c,r(i,p.key)&&(this._minimum=c)}else c.left=c,c.right=c,this._minimum=c;return this._size++,c},a.prototype.size=function(){return this._size},a.prototype.clear=function(){this._minimum=null,this._size=0},a.prototype.isEmpty=function(){return this._size===0},a.prototype.extractMinimum=function(){var i=this._minimum;if(i===null)return i;for(var o=this._minimum,c=i.degree,p=i.child;c>0;){var h=p.right;p.left.right=p.right,p.right.left=p.left,p.left=o,p.right=o.right,o.right=p,p.right.left=p,p.parent=null,p=h,c--}return i.left.right=i.right,i.right.left=i.left,i===i.right?o=null:(o=i.right,o=u(o,this._size)),this._size--,this._minimum=o,i},a.prototype.remove=function(i){this._minimum=s(this._minimum,i,-1),this.extractMinimum()};function s(i,o,c){o.key=c;var p=o.parent;return p&&r(o.key,p.key)&&(l(i,o,p),m(i,p)),r(o.key,i.key)&&(i=o),i}function l(i,o,c){o.left.right=o.right,o.right.left=o.left,c.degree--,c.child===o&&(c.child=o.right),c.degree===0&&(c.child=null),o.left=i,o.right=i.right,i.right=o,o.right.left=o,o.parent=null,o.mark=!1}function m(i,o){var c=o.parent;c&&(o.mark?(l(i,o,c),m(c)):o.mark=!0)}var f=function(o,c){o.left.right=o.right,o.right.left=o.left,o.parent=c,c.child?(o.left=c.child,o.right=c.child.right,c.child.right=o,o.right.left=o):(c.child=o,o.right=o,o.left=o),c.degree++,o.mark=!1};function u(i,o){var c=Math.floor(Math.log(o)*t)+1,p=new Array(c),h=0,v=i;if(v)for(h++,v=v.right;v!==i;)h++,v=v.right;for(var y;h>0;){for(var w=v.degree,S=v.right;y=p[w],!!y;){if(e(v.key,y.key)){var b=y;y=v,v=b}f(y,v),p[w]=null,w++}p[w]=v,v=S,h--}i=null;for(var g=0;g<c;g++)y=p[g],y&&(i?(y.left.right=y.right,y.right.left=y.left,y.left=i,y.right=i.right,i.right=y,y.right.left=y,r(y.key,i.key)&&(i=y)):i=y);return i}return a},{isClass:!0}),ag="Spa",ng=["addScalar","equalScalar","FibonacciHeap"],ig=L(ag,ng,n=>{var{addScalar:r,equalScalar:e,FibonacciHeap:t}=n;function a(){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new t}return a.prototype.type="Spa",a.prototype.isSpa=!0,a.prototype.set=function(s,l){if(this._values[s])this._values[s].value=l;else{var m=this._heap.insert(s,l);this._values[s]=m}},a.prototype.get=function(s){var l=this._values[s];return l?l.value:0},a.prototype.accumulate=function(s,l){var m=this._values[s];m?m.value=r(m.value,l):(m=this._heap.insert(s,l),this._values[s]=m)},a.prototype.forEach=function(s,l,m){var f=this._heap,u=this._values,i=[],o=f.extractMinimum();for(o&&i.push(o);o&&o.key<=l;)o.key>=s&&(e(o.value,0)||m(o.key,o.value,this)),o=f.extractMinimum(),o&&i.push(o);for(var c=0;c<i.length;c++){var p=i[c];o=f.insert(p.key,p.value),u[o.key]=o}},a.prototype.swap=function(s,l){var m=this._values[s],f=this._values[l];if(!m&&f)m=this._heap.insert(s,f.value),this._heap.remove(f),this._values[s]=m,this._values[l]=void 0;else if(m&&!f)f=this._heap.insert(l,m.value),this._heap.remove(m),this._values[l]=f,this._values[s]=void 0;else if(m&&f){var u=m.value;m.value=f.value,f.value=u}},a},{isClass:!0});function no(n,r){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);r&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),e.push.apply(e,t)}return e}function ba(n){for(var r=1;r<arguments.length;r++){var e=arguments[r]!=null?arguments[r]:{};r%2?no(Object(e),!0).forEach(function(t){_s(n,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):no(Object(e)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))})}return n}var og="Unit",sg=["?on","config","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","toBest","number","Complex","BigNumber","Fraction"],ug=L(og,sg,n=>{var{on:r,config:e,addScalar:t,subtractScalar:a,multiplyScalar:s,divideScalar:l,pow:m,abs:f,fix:u,round:i,equal:o,isNumeric:c,format:p,toBest:h,number:v,Complex:y,BigNumber:w,Fraction:S}=n,b=v;function g(B,U){if(!(this instanceof g))throw new Error("Constructor must be called with the new operator");if(!(B==null||c(B)||Bt(B)))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(this.fixPrefix=!1,this.skipAutomaticSimplification=!0,U===void 0)this.units=[],this.dimensions=V.map(j=>0);else if(typeof U=="string"){var H=g.parse(U);this.units=H.units,this.dimensions=H.dimensions}else if(Ne(U)&&U.value===null)this.fixPrefix=U.fixPrefix,this.skipAutomaticSimplification=U.skipAutomaticSimplification,this.dimensions=U.dimensions.slice(0),this.units=U.units.map(j=>Ie({},j));else throw new TypeError("Second parameter in Unit constructor must be a string or valueless Unit");this.value=this._normalize(B)}Object.defineProperty(g,"name",{value:"Unit"}),g.prototype.constructor=g,g.prototype.type="Unit",g.prototype.isUnit=!0;var x,d,_;function A(){for(;_===" "||_==="	";)E()}function N(B){return B>="0"&&B<="9"||B==="."}function M(B){return B>="0"&&B<="9"}function E(){d++,_=x.charAt(d)}function T(B){d=B,_=x.charAt(d)}function z(){var B="",U=d;if(_==="+"?E():_==="-"&&(B+=_,E()),!N(_))return T(U),null;if(_==="."){if(B+=_,E(),!M(_))return T(U),null}else{for(;M(_);)B+=_,E();_==="."&&(B+=_,E())}for(;M(_);)B+=_,E();if(_==="E"||_==="e"){var H="",j=d;if(H+=_,E(),(_==="+"||_==="-")&&(H+=_,E()),!M(_))return T(j),B;for(B=B+H;M(_);)B+=_,E()}return B}function R(){for(var B="";M(_)||g.isValidAlpha(_);)B+=_,E();var U=B.charAt(0);return g.isValidAlpha(U)?B:null}function P(B){return _===B?(E(),B):null}g.parse=function(B,U){if(U=U||{},x=B,d=-1,_="",typeof x!="string")throw new TypeError("Invalid argument in Unit.parse, string expected");var H=new g;H.units=[];var j=1,ir=!1;E(),A();var ur=z(),fr=null;if(ur){if(e.number==="BigNumber")fr=new w(ur);else if(e.number==="Fraction")try{fr=new S(ur)}catch{fr=parseFloat(ur)}else fr=parseFloat(ur);A(),P("*")?(j=1,ir=!0):P("/")&&(j=-1,ir=!0)}for(var mr=[],Cr=1;;){for(A();_==="(";)mr.push(j),Cr*=j,j=1,E(),A();var Br=void 0;if(_){var Ee=_;if(Br=R(),Br===null)throw new SyntaxError('Unexpected "'+Ee+'" in "'+x+'" at index '+d.toString())}else break;var kr=D(Br);if(kr===null)throw new SyntaxError('Unit "'+Br+'" not found.');var Je=j*Cr;if(A(),P("^")){A();var Et=z();if(Et===null)throw new SyntaxError('In "'+B+'", "^" must be followed by a floating-point number');Je*=Et}H.units.push({unit:kr.unit,prefix:kr.prefix,power:Je});for(var Fe=0;Fe<V.length;Fe++)H.dimensions[Fe]+=(kr.unit.dimensions[Fe]||0)*Je;for(A();_===")";){if(mr.length===0)throw new SyntaxError('Unmatched ")" in "'+x+'" at index '+d.toString());Cr/=mr.pop(),E(),A()}if(ir=!1,P("*")?(j=1,ir=!0):P("/")?(j=-1,ir=!0):j=1,kr.unit.base){var Yt=kr.unit.base.key;W.auto[Yt]={unit:kr.unit,prefix:kr.prefix}}}if(A(),_)throw new SyntaxError('Could not parse: "'+B+'"');if(ir)throw new SyntaxError('Trailing characters: "'+B+'"');if(mr.length!==0)throw new SyntaxError('Unmatched "(" in "'+x+'"');if(H.units.length===0&&!U.allowNoUnits)throw new SyntaxError('"'+B+'" contains no units');return H.value=fr!==void 0?H._normalize(fr):null,H},g.prototype.clone=function(){var B=new g;B.fixPrefix=this.fixPrefix,B.skipAutomaticSimplification=this.skipAutomaticSimplification,B.value=wr(this.value),B.dimensions=this.dimensions.slice(0),B.units=[];for(var U=0;U<this.units.length;U++){B.units[U]={};for(var H in this.units[U])Lr(this.units[U],H)&&(B.units[U][H]=this.units[U][H])}return B},g.prototype.valueType=function(){return ge(this.value)},g.prototype._isDerived=function(){return this.units.length===0?!1:this.units.length>1||Math.abs(this.units[0].power-1)>1e-15},g.prototype._normalize=function(B){if(B==null||this.units.length===0)return B;for(var U=B,H=g._getNumberConverter(ge(B)),j=0;j<this.units.length;j++){var ir=H(this.units[j].unit.value),ur=H(this.units[j].prefix.value),fr=H(this.units[j].power);U=s(U,m(s(ir,ur),fr))}return U},g.prototype._denormalize=function(B,U){if(B==null||this.units.length===0)return B;for(var H=B,j=g._getNumberConverter(ge(B)),ir=0;ir<this.units.length;ir++){var ur=j(this.units[ir].unit.value),fr=j(this.units[ir].prefix.value),mr=j(this.units[ir].power);H=l(H,m(s(ur,fr),mr))}return H};var D=Uf(B=>{if(Lr(G,B)){var U=G[B],H=U.prefixes[""];return{unit:U,prefix:H}}for(var j in G)if(Lr(G,j)&&Pf(B,j)){var ir=G[j],ur=B.length-j.length,fr=B.substring(0,ur),mr=Lr(ir.prefixes,fr)?ir.prefixes[fr]:void 0;if(mr!==void 0)return{unit:ir,prefix:mr}}return null},{hasher:B=>B[0],limit:100});g.isValuelessUnit=function(B){return D(B)!==null},g.prototype.hasBase=function(B){if(typeof B=="string"&&(B=C[B]),!B)return!1;for(var U=0;U<V.length;U++)if(Math.abs((this.dimensions[U]||0)-(B.dimensions[U]||0))>1e-12)return!1;return!0},g.prototype.equalBase=function(B){for(var U=0;U<V.length;U++)if(Math.abs((this.dimensions[U]||0)-(B.dimensions[U]||0))>1e-12)return!1;return!0},g.prototype.equals=function(B){return this.equalBase(B)&&o(this.value,B.value)},g.prototype.multiply=function(B){for(var U=this.clone(),H=Ne(B)?B:new g(B),j=0;j<V.length;j++)U.dimensions[j]=(this.dimensions[j]||0)+(H.dimensions[j]||0);for(var ir=0;ir<H.units.length;ir++){var ur=ba({},H.units[ir]);U.units.push(ur)}if(this.value!==null||H.value!==null){var fr=this.value===null?this._normalize(F(H.value)):this.value,mr=H.value===null?H._normalize(F(this.value)):H.value;U.value=s(fr,mr)}else U.value=null;return Ne(B)&&(U.skipAutomaticSimplification=!1),q(U)},g.prototype.divideInto=function(B){return new g(B).divide(this)},g.prototype.divide=function(B){for(var U=this.clone(),H=Ne(B)?B:new g(B),j=0;j<V.length;j++)U.dimensions[j]=(this.dimensions[j]||0)-(H.dimensions[j]||0);for(var ir=0;ir<H.units.length;ir++){var ur=ba(ba({},H.units[ir]),{},{power:-H.units[ir].power});U.units.push(ur)}if(this.value!==null||H.value!==null){var fr=this.value===null?this._normalize(F(H.value)):this.value,mr=H.value===null?H._normalize(F(this.value)):H.value;U.value=l(fr,mr)}else U.value=null;return Ne(B)&&(U.skipAutomaticSimplification=!1),q(U)},g.prototype.pow=function(B){for(var U=this.clone(),H=0;H<V.length;H++)U.dimensions[H]=(this.dimensions[H]||0)*B;for(var j=0;j<U.units.length;j++)U.units[j].power*=B;return U.value!==null?U.value=m(U.value,B):U.value=null,U.skipAutomaticSimplification=!1,q(U)};function q(B){return B.equalBase(C.NONE)&&B.value!==null&&!e.predictable?B.value:B}function F(B){var U=g._getNumberConverter(ge(B));return U(1)}g.prototype.abs=function(){var B=this.clone();if(B.value!==null)if(B._isDerived()||B.units.length===0||B.units[0].unit.offset===0)B.value=f(B.value);else{var U=B._numberConverter(),H=U(B.units[0].unit.value),j=U(B.units[0].unit.offset),ir=s(H,j);B.value=a(f(t(B.value,ir)),ir)}for(var ur in B.units)(B.units[ur].unit.name==="VA"||B.units[ur].unit.name==="VAR")&&(B.units[ur].unit=G.W);return B},g.prototype.to=function(B){var U=this.value===null?this._normalize(1):this.value,H;if(typeof B=="string")H=g.parse(B);else if(Ne(B))H=B.clone();else throw new Error("String or Unit expected as parameter");if(!this.equalBase(H))throw new Error("Units do not match ('".concat(H.toString(),"' != '").concat(this.toString(),"')"));if(H.value!==null)throw new Error("Cannot convert to a unit with a value");if(this.value===null||this._isDerived()||this.units.length===0||H.units.length===0||this.units[0].unit.offset===H.units[0].unit.offset)H.value=wr(U);else{var j=g._getNumberConverter(ge(U)),ir=this.units[0].unit.value,ur=this.units[0].unit.offset,fr=s(ir,ur),mr=H.units[0].unit.value,Cr=H.units[0].unit.offset,Br=s(mr,Cr);H.value=t(U,j(a(fr,Br)))}return H.fixPrefix=!0,H.skipAutomaticSimplification=!0,H},g.prototype.toNumber=function(B){return b(this.toNumeric(B))},g.prototype.toNumeric=function(B){var U;return B?U=this.to(B):U=this.clone(),U._isDerived()||U.units.length===0?U._denormalize(U.value):U._denormalize(U.value,U.units[0].prefix.value)},g.prototype.toString=function(){return this.format()},g.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.units.length>0?this.formatUnits():null,fixPrefix:this.fixPrefix}},g.fromJSON=function(B){var U,H=new g(B.value,(U=B.unit)!==null&&U!==void 0?U:void 0);return H.fixPrefix=B.fixPrefix||!1,H},g.prototype.valueOf=g.prototype.toString,g.prototype.simplify=function(){var B=this.clone(),U=[],H;for(var j in k)if(Lr(k,j)&&B.hasBase(C[j])){H=j;break}if(H==="NONE")B.units=[];else{var ir;if(H&&Lr(k,H)&&(ir=k[H]),ir)B.units=[{unit:ir.unit,prefix:ir.prefix,power:1}];else{for(var ur=!1,fr=0;fr<V.length;fr++){var mr=V[fr];Math.abs(B.dimensions[fr]||0)>1e-12&&(Lr(k,mr)?U.push({unit:k[mr].unit,prefix:k[mr].prefix,power:B.dimensions[fr]||0}):ur=!0)}U.length<B.units.length&&!ur&&(B.units=U)}}return B},g.prototype.toSI=function(){for(var B=this.clone(),U=[],H=0;H<V.length;H++){var j=V[H];if(Math.abs(B.dimensions[H]||0)>1e-12)if(Lr(W.si,j))U.push({unit:W.si[j].unit,prefix:W.si[j].prefix,power:B.dimensions[H]||0});else throw new Error("Cannot express custom unit "+j+" in SI units")}return B.units=U,B.fixPrefix=!0,B.skipAutomaticSimplification=!0,this.value!==null?(B.value=null,this.to(B)):B},g.prototype.formatUnits=function(){for(var B="",U="",H=0,j=0,ir=0;ir<this.units.length;ir++)this.units[ir].power>0?(H++,B+=" "+this.units[ir].prefix.name+this.units[ir].unit.name,Math.abs(this.units[ir].power-1)>1e-15&&(B+="^"+this.units[ir].power)):this.units[ir].power<0&&j++;if(j>0)for(var ur=0;ur<this.units.length;ur++)this.units[ur].power<0&&(H>0?(U+=" "+this.units[ur].prefix.name+this.units[ur].unit.name,Math.abs(this.units[ur].power+1)>1e-15&&(U+="^"+-this.units[ur].power)):(U+=" "+this.units[ur].prefix.name+this.units[ur].unit.name,U+="^"+this.units[ur].power));B=B.substr(1),U=U.substr(1),H>1&&j>0&&(B="("+B+")"),j>1&&H>0&&(U="("+U+")");var fr=B;return H>0&&j>0&&(fr+=" / "),fr+=U,fr},g.prototype.toBest=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(B&&!Array.isArray(B))throw new Error("Invalid unit type. Expected string or Unit.");var H=this.units[0].unit.prefixes;if(B&&B.length>0){var j=B.map(fr=>{var mr=null;if(typeof fr=="string"){if(mr=g.parse(fr),!mr)throw new Error("Invalid unit type. Expected compatible string or Unit.")}else if(!Ne(fr))throw new Error("Invalid unit type. Expected compatible string or Unit.");mr===null&&(mr=fr.clone());try{return this.to(mr.formatUnits()),mr}catch{throw new Error("Invalid unit type. Expected compatible string or Unit.")}}),ir=j.map(fr=>fr.units[0].prefix);this.units[0].unit.prefixes=ir.reduce((fr,mr)=>(fr[mr.name]=mr,fr),{}),this.units[0].prefix=ir[0]}var ur=$(this,U).simp;return this.units[0].unit.prefixes=H,ur.fixPrefix=!0,ur},g.prototype.format=function(B){var{simp:U,valueStr:H,unitStr:j}=$(this,B),ir=H;return U.value&&Bt(U.value)&&(ir="("+ir+")"),j.length>0&&ir.length>0&&(ir+=" "),ir+=j,ir};function $(B){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},H=B.skipAutomaticSimplification||B.value===null?B.clone():B.simplify();Y(H),Q(H,U.offset);var j=H._denormalize(H.value),ir=H.value!==null?p(j,U||{}):"",ur=H.formatUnits();return{simp:H,valueStr:ir,unitStr:ur}}function Y(B){var U=!1;typeof B.value<"u"&&B.value!==null&&Bt(B.value)&&(U=Math.abs(B.value.re)<1e-14);for(var H in B.units)Lr(B.units,H)&&B.units[H].unit&&(B.units[H].unit.name==="VA"&&U?B.units[H].unit=G.VAR:B.units[H].unit.name==="VAR"&&!U&&(B.units[H].unit=G.VA))}function Q(B,U){B.units.length===1&&!B.fixPrefix&&Math.abs(B.units[0].power-Math.round(B.units[0].power))<1e-14&&(B.units[0].prefix=B._bestPrefix(U))}g.prototype._bestPrefix=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1.2;if(this.units.length!==1)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var U=this.value!==null?f(this.value):0,H=f(this.units[0].unit.value),j=this.units[0].prefix;if(U===0)return j;var ir=this.units[0].power,ur=Math.log(U/Math.pow(j.value*H,ir))/Math.LN10-B;if(ur>-2.200001&&ur<1.800001)return j;ur=Math.abs(ur);var fr=this.units[0].unit.prefixes;for(var mr in fr)if(Lr(fr,mr)){var Cr=fr[mr];if(Cr.scientific){var Br=Math.abs(Math.log(U/Math.pow(Cr.value*H,ir))/Math.LN10-B);(Br<ur||Br===ur&&Cr.name.length<j.name.length)&&(j=Cr,ur=Br)}}return j},g.prototype.splitUnit=function(B){for(var U=this.clone(),H=[],j=0;j<B.length&&(U=U.to(B[j]),j!==B.length-1);j++){var ir=U.toNumeric(),ur=i(ir),fr=void 0,mr=o(ur,ir);mr?fr=ur:fr=u(U.toNumeric());var Cr=new g(fr,B[j].toString());H.push(Cr),U=a(U,Cr)}for(var Br=0,Ee=0;Ee<H.length;Ee++)Br=t(Br,H[Ee].value);return o(Br,this.value)&&(U.value=0),H.push(U),H};var O={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},R:{name:"R",value:1e27,scientific:!0},Q:{name:"Q",value:1e30,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0},r:{name:"r",value:1e-27,scientific:!0},q:{name:"q",value:1e-30,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},ronna:{name:"ronna",value:1e27,scientific:!0},quetta:{name:"quetta",value:1e30,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0},ronto:{name:"ronto",value:1e-27,scientific:!0},quecto:{name:"quecto",value:1e-30,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},R:{name:"R",value:1e54,scientific:!0},Q:{name:"Q",value:1e60,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0},r:{name:"r",value:1e-54,scientific:!0},q:{name:"q",value:1e-60,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},R:{name:"R",value:1e81,scientific:!0},Q:{name:"Q",value:1e90,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0},r:{name:"r",value:1e-81,scientific:!0},q:{name:"q",value:1e-90,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};O.SHORTLONG=Ie({},O.SHORT,O.LONG),O.BINARY_SHORT=Ie({},O.BINARY_SHORT_SI,O.BINARY_SHORT_IEC),O.BINARY_LONG=Ie({},O.BINARY_LONG_SI,O.BINARY_LONG_IEC);var V=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],C={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var tr in C)Lr(C,tr)&&(C[tr].key=tr);var rr={},Z={name:"",base:rr,value:1,offset:0,dimensions:V.map(B=>0)},G={meter:{name:"meter",base:C.LENGTH,prefixes:O.LONG,value:1,offset:0},inch:{name:"inch",base:C.LENGTH,prefixes:O.NONE,value:.0254,offset:0},foot:{name:"foot",base:C.LENGTH,prefixes:O.NONE,value:.3048,offset:0},yard:{name:"yard",base:C.LENGTH,prefixes:O.NONE,value:.9144,offset:0},mile:{name:"mile",base:C.LENGTH,prefixes:O.NONE,value:1609.344,offset:0},link:{name:"link",base:C.LENGTH,prefixes:O.NONE,value:.201168,offset:0},rod:{name:"rod",base:C.LENGTH,prefixes:O.NONE,value:5.0292,offset:0},chain:{name:"chain",base:C.LENGTH,prefixes:O.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:C.LENGTH,prefixes:O.NONE,value:1e-10,offset:0},m:{name:"m",base:C.LENGTH,prefixes:O.SHORT,value:1,offset:0},in:{name:"in",base:C.LENGTH,prefixes:O.NONE,value:.0254,offset:0},ft:{name:"ft",base:C.LENGTH,prefixes:O.NONE,value:.3048,offset:0},yd:{name:"yd",base:C.LENGTH,prefixes:O.NONE,value:.9144,offset:0},mi:{name:"mi",base:C.LENGTH,prefixes:O.NONE,value:1609.344,offset:0},li:{name:"li",base:C.LENGTH,prefixes:O.NONE,value:.201168,offset:0},rd:{name:"rd",base:C.LENGTH,prefixes:O.NONE,value:5.02921,offset:0},ch:{name:"ch",base:C.LENGTH,prefixes:O.NONE,value:20.1168,offset:0},mil:{name:"mil",base:C.LENGTH,prefixes:O.NONE,value:254e-7,offset:0},m2:{name:"m2",base:C.SURFACE,prefixes:O.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:C.SURFACE,prefixes:O.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:C.SURFACE,prefixes:O.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:C.SURFACE,prefixes:O.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:C.SURFACE,prefixes:O.NONE,value:2589988110336e-6,offset:0},sqrd:{name:"sqrd",base:C.SURFACE,prefixes:O.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:C.SURFACE,prefixes:O.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:C.SURFACE,prefixes:O.NONE,value:64516e-14,offset:0},acre:{name:"acre",base:C.SURFACE,prefixes:O.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:C.SURFACE,prefixes:O.NONE,value:1e4,offset:0},m3:{name:"m3",base:C.VOLUME,prefixes:O.CUBIC,value:1,offset:0},L:{name:"L",base:C.VOLUME,prefixes:O.SHORT,value:.001,offset:0},l:{name:"l",base:C.VOLUME,prefixes:O.SHORT,value:.001,offset:0},litre:{name:"litre",base:C.VOLUME,prefixes:O.LONG,value:.001,offset:0},cuin:{name:"cuin",base:C.VOLUME,prefixes:O.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:C.VOLUME,prefixes:O.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:C.VOLUME,prefixes:O.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:C.VOLUME,prefixes:O.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:C.VOLUME,prefixes:O.NONE,value:15e-6,offset:0},drop:{name:"drop",base:C.VOLUME,prefixes:O.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:C.VOLUME,prefixes:O.NONE,value:5e-8,offset:0},minim:{name:"minim",base:C.VOLUME,prefixes:O.NONE,value:61611519921875e-21,offset:0},fluiddram:{name:"fluiddram",base:C.VOLUME,prefixes:O.NONE,value:36966911953125e-19,offset:0},fluidounce:{name:"fluidounce",base:C.VOLUME,prefixes:O.NONE,value:295735295625e-16,offset:0},gill:{name:"gill",base:C.VOLUME,prefixes:O.NONE,value:.00011829411825,offset:0},cc:{name:"cc",base:C.VOLUME,prefixes:O.NONE,value:1e-6,offset:0},cup:{name:"cup",base:C.VOLUME,prefixes:O.NONE,value:.0002365882365,offset:0},pint:{name:"pint",base:C.VOLUME,prefixes:O.NONE,value:.000473176473,offset:0},quart:{name:"quart",base:C.VOLUME,prefixes:O.NONE,value:.000946352946,offset:0},gallon:{name:"gallon",base:C.VOLUME,prefixes:O.NONE,value:.003785411784,offset:0},beerbarrel:{name:"beerbarrel",base:C.VOLUME,prefixes:O.NONE,value:.117347765304,offset:0},oilbarrel:{name:"oilbarrel",base:C.VOLUME,prefixes:O.NONE,value:.158987294928,offset:0},hogshead:{name:"hogshead",base:C.VOLUME,prefixes:O.NONE,value:.238480942392,offset:0},g:{name:"g",base:C.MASS,prefixes:O.SHORT,value:.001,offset:0},gram:{name:"gram",base:C.MASS,prefixes:O.LONG,value:.001,offset:0},ton:{name:"ton",base:C.MASS,prefixes:O.SHORT,value:907.18474,offset:0},t:{name:"t",base:C.MASS,prefixes:O.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:C.MASS,prefixes:O.LONG,value:1e3,offset:0},grain:{name:"grain",base:C.MASS,prefixes:O.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:C.MASS,prefixes:O.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:C.MASS,prefixes:O.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:C.MASS,prefixes:O.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:C.MASS,prefixes:O.NONE,value:45.359237,offset:0},stick:{name:"stick",base:C.MASS,prefixes:O.NONE,value:.115,offset:0},stone:{name:"stone",base:C.MASS,prefixes:O.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:C.MASS,prefixes:O.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:C.MASS,prefixes:O.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:C.MASS,prefixes:O.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:C.MASS,prefixes:O.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:C.MASS,prefixes:O.NONE,value:45.359237,offset:0},s:{name:"s",base:C.TIME,prefixes:O.SHORT,value:1,offset:0},min:{name:"min",base:C.TIME,prefixes:O.NONE,value:60,offset:0},h:{name:"h",base:C.TIME,prefixes:O.NONE,value:3600,offset:0},second:{name:"second",base:C.TIME,prefixes:O.LONG,value:1,offset:0},sec:{name:"sec",base:C.TIME,prefixes:O.LONG,value:1,offset:0},minute:{name:"minute",base:C.TIME,prefixes:O.NONE,value:60,offset:0},hour:{name:"hour",base:C.TIME,prefixes:O.NONE,value:3600,offset:0},day:{name:"day",base:C.TIME,prefixes:O.NONE,value:86400,offset:0},week:{name:"week",base:C.TIME,prefixes:O.NONE,value:7*86400,offset:0},month:{name:"month",base:C.TIME,prefixes:O.NONE,value:2629800,offset:0},year:{name:"year",base:C.TIME,prefixes:O.NONE,value:31557600,offset:0},decade:{name:"decade",base:C.TIME,prefixes:O.NONE,value:315576e3,offset:0},century:{name:"century",base:C.TIME,prefixes:O.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:C.TIME,prefixes:O.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:C.FREQUENCY,prefixes:O.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:C.FREQUENCY,prefixes:O.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:C.ANGLE,prefixes:O.SHORT,value:1,offset:0},radian:{name:"radian",base:C.ANGLE,prefixes:O.LONG,value:1,offset:0},deg:{name:"deg",base:C.ANGLE,prefixes:O.SHORT,value:null,offset:0},degree:{name:"degree",base:C.ANGLE,prefixes:O.LONG,value:null,offset:0},grad:{name:"grad",base:C.ANGLE,prefixes:O.SHORT,value:null,offset:0},gradian:{name:"gradian",base:C.ANGLE,prefixes:O.LONG,value:null,offset:0},cycle:{name:"cycle",base:C.ANGLE,prefixes:O.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:C.ANGLE,prefixes:O.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:C.ANGLE,prefixes:O.NONE,value:null,offset:0},A:{name:"A",base:C.CURRENT,prefixes:O.SHORT,value:1,offset:0},ampere:{name:"ampere",base:C.CURRENT,prefixes:O.LONG,value:1,offset:0},K:{name:"K",base:C.TEMPERATURE,prefixes:O.SHORT,value:1,offset:0},degC:{name:"degC",base:C.TEMPERATURE,prefixes:O.SHORT,value:1,offset:273.15},degF:{name:"degF",base:C.TEMPERATURE,prefixes:O.SHORT,value:new S(5,9),offset:459.67},degR:{name:"degR",base:C.TEMPERATURE,prefixes:O.SHORT,value:new S(5,9),offset:0},kelvin:{name:"kelvin",base:C.TEMPERATURE,prefixes:O.LONG,value:1,offset:0},celsius:{name:"celsius",base:C.TEMPERATURE,prefixes:O.LONG,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:C.TEMPERATURE,prefixes:O.LONG,value:new S(5,9),offset:459.67},rankine:{name:"rankine",base:C.TEMPERATURE,prefixes:O.LONG,value:new S(5,9),offset:0},mol:{name:"mol",base:C.AMOUNT_OF_SUBSTANCE,prefixes:O.SHORT,value:1,offset:0},mole:{name:"mole",base:C.AMOUNT_OF_SUBSTANCE,prefixes:O.LONG,value:1,offset:0},cd:{name:"cd",base:C.LUMINOUS_INTENSITY,prefixes:O.SHORT,value:1,offset:0},candela:{name:"candela",base:C.LUMINOUS_INTENSITY,prefixes:O.LONG,value:1,offset:0},N:{name:"N",base:C.FORCE,prefixes:O.SHORT,value:1,offset:0},newton:{name:"newton",base:C.FORCE,prefixes:O.LONG,value:1,offset:0},dyn:{name:"dyn",base:C.FORCE,prefixes:O.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:C.FORCE,prefixes:O.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:C.FORCE,prefixes:O.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:C.FORCE,prefixes:O.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:C.FORCE,prefixes:O.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:C.FORCE,prefixes:O.NONE,value:9.80665,offset:0},J:{name:"J",base:C.ENERGY,prefixes:O.SHORT,value:1,offset:0},joule:{name:"joule",base:C.ENERGY,prefixes:O.LONG,value:1,offset:0},erg:{name:"erg",base:C.ENERGY,prefixes:O.SHORTLONG,value:1e-7,offset:0},Wh:{name:"Wh",base:C.ENERGY,prefixes:O.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:C.ENERGY,prefixes:O.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:C.ENERGY,prefixes:O.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:C.ENERGY,prefixes:O.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:C.POWER,prefixes:O.SHORT,value:1,offset:0},watt:{name:"watt",base:C.POWER,prefixes:O.LONG,value:1,offset:0},hp:{name:"hp",base:C.POWER,prefixes:O.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:C.POWER,prefixes:O.SHORT,value:y.I,offset:0},VA:{name:"VA",base:C.POWER,prefixes:O.SHORT,value:1,offset:0},Pa:{name:"Pa",base:C.PRESSURE,prefixes:O.SHORT,value:1,offset:0},psi:{name:"psi",base:C.PRESSURE,prefixes:O.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:C.PRESSURE,prefixes:O.NONE,value:101325,offset:0},bar:{name:"bar",base:C.PRESSURE,prefixes:O.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:C.PRESSURE,prefixes:O.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:C.PRESSURE,prefixes:O.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:C.PRESSURE,prefixes:O.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:C.PRESSURE,prefixes:O.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:C.ELECTRIC_CHARGE,prefixes:O.LONG,value:1,offset:0},C:{name:"C",base:C.ELECTRIC_CHARGE,prefixes:O.SHORT,value:1,offset:0},farad:{name:"farad",base:C.ELECTRIC_CAPACITANCE,prefixes:O.LONG,value:1,offset:0},F:{name:"F",base:C.ELECTRIC_CAPACITANCE,prefixes:O.SHORT,value:1,offset:0},volt:{name:"volt",base:C.ELECTRIC_POTENTIAL,prefixes:O.LONG,value:1,offset:0},V:{name:"V",base:C.ELECTRIC_POTENTIAL,prefixes:O.SHORT,value:1,offset:0},ohm:{name:"ohm",base:C.ELECTRIC_RESISTANCE,prefixes:O.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:C.ELECTRIC_INDUCTANCE,prefixes:O.LONG,value:1,offset:0},H:{name:"H",base:C.ELECTRIC_INDUCTANCE,prefixes:O.SHORT,value:1,offset:0},siemens:{name:"siemens",base:C.ELECTRIC_CONDUCTANCE,prefixes:O.LONG,value:1,offset:0},S:{name:"S",base:C.ELECTRIC_CONDUCTANCE,prefixes:O.SHORT,value:1,offset:0},weber:{name:"weber",base:C.MAGNETIC_FLUX,prefixes:O.LONG,value:1,offset:0},Wb:{name:"Wb",base:C.MAGNETIC_FLUX,prefixes:O.SHORT,value:1,offset:0},tesla:{name:"tesla",base:C.MAGNETIC_FLUX_DENSITY,prefixes:O.LONG,value:1,offset:0},T:{name:"T",base:C.MAGNETIC_FLUX_DENSITY,prefixes:O.SHORT,value:1,offset:0},b:{name:"b",base:C.BIT,prefixes:O.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:C.BIT,prefixes:O.BINARY_LONG,value:1,offset:0},B:{name:"B",base:C.BIT,prefixes:O.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:C.BIT,prefixes:O.BINARY_LONG,value:8,offset:0}},er={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fldr:"fluiddram",fluiddrams:"fluiddram",floz:"fluidounce",fluidounces:"fluidounce",gi:"gill",gills:"gill",cp:"cup",cups:"cup",pt:"pint",pints:"pint",qt:"quart",quarts:"quart",gal:"gallon",gallons:"gallon",bbl:"beerbarrel",beerbarrels:"beerbarrel",obl:"oilbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",amps:"ampere",amp:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function K(B){if(B.number==="BigNumber"){var U=Ff(w);G.rad.value=new w(1),G.deg.value=U.div(180),G.grad.value=U.div(200),G.cycle.value=U.times(2),G.arcsec.value=U.div(648e3),G.arcmin.value=U.div(10800)}else G.rad.value=1,G.deg.value=Math.PI/180,G.grad.value=Math.PI/200,G.cycle.value=Math.PI*2,G.arcsec.value=Math.PI/648e3,G.arcmin.value=Math.PI/10800;G.radian.value=G.rad.value,G.degree.value=G.deg.value,G.gradian.value=G.grad.value}K(e),r&&r("config",function(B,U){B.number!==U.number&&K(B)});var W={si:{NONE:{unit:Z,prefix:O.NONE[""]},LENGTH:{unit:G.m,prefix:O.SHORT[""]},MASS:{unit:G.g,prefix:O.SHORT.k},TIME:{unit:G.s,prefix:O.SHORT[""]},CURRENT:{unit:G.A,prefix:O.SHORT[""]},TEMPERATURE:{unit:G.K,prefix:O.SHORT[""]},LUMINOUS_INTENSITY:{unit:G.cd,prefix:O.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:G.mol,prefix:O.SHORT[""]},ANGLE:{unit:G.rad,prefix:O.SHORT[""]},BIT:{unit:G.bits,prefix:O.SHORT[""]},FORCE:{unit:G.N,prefix:O.SHORT[""]},ENERGY:{unit:G.J,prefix:O.SHORT[""]},POWER:{unit:G.W,prefix:O.SHORT[""]},PRESSURE:{unit:G.Pa,prefix:O.SHORT[""]},ELECTRIC_CHARGE:{unit:G.C,prefix:O.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:G.F,prefix:O.SHORT[""]},ELECTRIC_POTENTIAL:{unit:G.V,prefix:O.SHORT[""]},ELECTRIC_RESISTANCE:{unit:G.ohm,prefix:O.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:G.H,prefix:O.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:G.S,prefix:O.SHORT[""]},MAGNETIC_FLUX:{unit:G.Wb,prefix:O.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:G.T,prefix:O.SHORT[""]},FREQUENCY:{unit:G.Hz,prefix:O.SHORT[""]}}};W.cgs=JSON.parse(JSON.stringify(W.si)),W.cgs.LENGTH={unit:G.m,prefix:O.SHORT.c},W.cgs.MASS={unit:G.g,prefix:O.SHORT[""]},W.cgs.FORCE={unit:G.dyn,prefix:O.SHORT[""]},W.cgs.ENERGY={unit:G.erg,prefix:O.NONE[""]},W.us=JSON.parse(JSON.stringify(W.si)),W.us.LENGTH={unit:G.ft,prefix:O.NONE[""]},W.us.MASS={unit:G.lbm,prefix:O.NONE[""]},W.us.TEMPERATURE={unit:G.degF,prefix:O.NONE[""]},W.us.FORCE={unit:G.lbf,prefix:O.NONE[""]},W.us.ENERGY={unit:G.BTU,prefix:O.BTU[""]},W.us.POWER={unit:G.hp,prefix:O.NONE[""]},W.us.PRESSURE={unit:G.psi,prefix:O.NONE[""]},W.auto=JSON.parse(JSON.stringify(W.si));var k=W.auto;g.setUnitSystem=function(B){if(Lr(W,B))k=W[B];else throw new Error("Unit system "+B+" does not exist. Choices are: "+Object.keys(W).join(", "))},g.getUnitSystem=function(){for(var B in W)if(Lr(W,B)&&W[B]===k)return B},g.typeConverters={BigNumber:function(U){return U!=null&&U.isFraction?new w(String(U.n)).div(String(U.d)).times(String(U.s)):new w(U+"")},Fraction:function(U){return new S(U)},Complex:function(U){return U},number:function(U){return U!=null&&U.isFraction?v(U):U}},g.prototype._numberConverter=function(){var B=g.typeConverters[this.valueType()];if(B)return B;throw new TypeError('Unsupported Unit value type "'+this.valueType()+'"')},g._getNumberConverter=function(B){if(!g.typeConverters[B])throw new TypeError('Unsupported type "'+B+'"');return g.typeConverters[B]};for(var or in G)if(Lr(G,or)){var lr=G[or];lr.dimensions=lr.base.dimensions}for(var vr in er)if(Lr(er,vr)){var hr=G[er[vr]],br={};for(var cr in hr)Lr(hr,cr)&&(br[cr]=hr[cr]);br.name=vr,G[vr]=br}g.isValidAlpha=function(U){return/^[a-zA-Z]$/.test(U)};function Nr(B){for(var U=0;U<B.length;U++){if(_=B.charAt(U),U===0&&!g.isValidAlpha(_))throw new Error('Invalid unit name (must begin with alpha character): "'+B+'"');if(U>0&&!(g.isValidAlpha(_)||M(_)))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+B+'"')}}return g.createUnit=function(B,U){if(typeof B!="object")throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(U&&U.override){for(var H in B)if(Lr(B,H)&&g.deleteUnit(H),B[H].aliases)for(var j=0;j<B[H].aliases.length;j++)g.deleteUnit(B[H].aliases[j])}var ir;for(var ur in B)Lr(B,ur)&&(ir=g.createUnitSingle(ur,B[ur]));return ir},g.createUnitSingle=function(B,U){if((typeof U>"u"||U===null)&&(U={}),typeof B!="string")throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(Lr(G,B))throw new Error('Cannot create unit "'+B+'": a unit with that name already exists');Nr(B);var H=null,j=[],ir=0,ur,fr,mr;if(U&&U.type==="Unit")H=U.clone();else if(typeof U=="string")U!==""&&(ur=U);else if(typeof U=="object")ur=U.definition,fr=U.prefixes,ir=U.offset,mr=U.baseName,U.aliases&&(j=U.aliases.valueOf());else throw new TypeError('Cannot create unit "'+B+'" from "'+U.toString()+'": expecting "string" or "Unit" or "Object"');if(j){for(var Cr=0;Cr<j.length;Cr++)if(Lr(G,j[Cr]))throw new Error('Cannot create alias "'+j[Cr]+'": a unit with that name already exists')}if(ur&&typeof ur=="string"&&!H)try{H=g.parse(ur,{allowNoUnits:!0})}catch(pa){throw pa.message='Could not create unit "'+B+'" from "'+ur+'": '+pa.message,pa}else ur&&ur.type==="Unit"&&(H=ur.clone());j=j||[],ir=ir||0,fr&&fr.toUpperCase?fr=O[fr.toUpperCase()]||O.NONE:fr=O.NONE;var Br={};if(H){Br={name:B,value:H.value,dimensions:H.dimensions.slice(0),prefixes:fr,offset:ir};var Et=!1;for(var Fe in C)if(Lr(C,Fe)){for(var Yt=!0,Tt=0;Tt<V.length;Tt++)if(Math.abs((Br.dimensions[Tt]||0)-(C[Fe].dimensions[Tt]||0))>1e-12){Yt=!1;break}if(Yt){Et=!0,Br.base=C[Fe];break}}if(!Et){mr=mr||B+"_STUFF";var an={dimensions:H.dimensions.slice(0)};an.key=mr,C[mr]=an,k[mr]={unit:Br,prefix:O.NONE[""]},Br.base=C[mr]}}else{if(mr=mr||B+"_STUFF",V.indexOf(mr)>=0)throw new Error('Cannot create new base unit "'+B+'": a base unit with that name already exists (and cannot be overridden)');V.push(mr);for(var Ee in C)Lr(C,Ee)&&(C[Ee].dimensions[V.length-1]=0);for(var kr={dimensions:[]},Je=0;Je<V.length;Je++)kr.dimensions[Je]=0;kr.dimensions[V.length-1]=1,kr.key=mr,C[mr]=kr,Br={name:B,value:1,dimensions:C[mr].dimensions.slice(0),prefixes:fr,offset:ir,base:C[mr]},k[mr]={unit:Br,prefix:O.NONE[""]}}g.UNITS[B]=Br;for(var va=0;va<j.length;va++){var nn=j[va],ca={};for(var ma in Br)Lr(Br,ma)&&(ca[ma]=Br[ma]);ca.name=nn,g.UNITS[nn]=ca}return delete D.cache,new g(null,B)},g.deleteUnit=function(B){delete g.UNITS[B],delete D.cache},g.PREFIXES=O,g.BASE_DIMENSIONS=V,g.BASE_UNITS=C,g.UNIT_SYSTEMS=W,g.UNITS=G,g},{isClass:!0}),io="unit",fg=["typed","Unit"],lg=L(io,fg,n=>{var{typed:r,Unit:e}=n;return r(io,{Unit:function(a){return a.clone()},string:function(a){return e.isValuelessUnit(a)?new e(null,a):e.parse(a,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string | Unit":function(a,s){return new e(a,s)},"number | BigNumber | Fraction":function(a){return new e(a)},"Array | Matrix":r.referToSelf(t=>a=>Pr(a,t))})}),oo="sparse",vg=["typed","SparseMatrix"],cg=L(oo,vg,n=>{var{typed:r,SparseMatrix:e}=n;return r(oo,{"":function(){return new e([])},string:function(a){return new e([],a)},"Array | Matrix":function(a){return new e(a)},"Array | Matrix, string":function(a,s){return new e(a,s)}})}),so="createUnit",mg=["typed","Unit"],pg=L(so,mg,n=>{var{typed:r,Unit:e}=n;return r(so,{"Object, Object":function(a,s){return e.createUnit(a,s)},Object:function(a){return e.createUnit(a,{})},"string, Unit | string | Object, Object":function(a,s,l){var m={};return m[a]=s,e.createUnit(m,l)},"string, Unit | string | Object":function(a,s){var l={};return l[a]=s,e.createUnit(l,{})},string:function(a){var s={};return s[a]={},e.createUnit(s,{})}})}),uo="acos",dg=["typed","config","Complex"],hg=L(uo,dg,n=>{var{typed:r,config:e,Complex:t}=n;return r(uo,{number:function(s){return s>=-1&&s<=1||e.predictable?Math.acos(s):new t(s,0).acos()},Complex:function(s){return s.acos()},BigNumber:function(s){return s.acos()}})}),fo="acosh",gg=["typed","config","Complex"],yg=L(fo,gg,n=>{var{typed:r,config:e,Complex:t}=n;return r(fo,{number:function(s){return s>=1||e.predictable?qf(s):s<=-1?new t(Math.log(Math.sqrt(s*s-1)-s),Math.PI):new t(s,0).acosh()},Complex:function(s){return s.acosh()},BigNumber:function(s){return s.acosh()}})}),lo="acot",bg=["typed","BigNumber"],wg=L(lo,bg,n=>{var{typed:r,BigNumber:e}=n;return r(lo,{number:Lf,Complex:function(a){return a.acot()},BigNumber:function(a){return new e(1).div(a).atan()}})}),vo="acoth",xg=["typed","config","Complex","BigNumber"],Ng=L(vo,xg,n=>{var{typed:r,config:e,Complex:t,BigNumber:a}=n;return r(vo,{number:function(l){return l>=1||l<=-1||e.predictable?Gf(l):new t(l,0).acoth()},Complex:function(l){return l.acoth()},BigNumber:function(l){return new a(1).div(l).atanh()}})}),co="acsc",Sg=["typed","config","Complex","BigNumber"],_g=L(co,Sg,n=>{var{typed:r,config:e,Complex:t,BigNumber:a}=n;return r(co,{number:function(l){return l<=-1||l>=1||e.predictable?Vf(l):new t(l,0).acsc()},Complex:function(l){return l.acsc()},BigNumber:function(l){return new a(1).div(l).asin()}})}),mo="acsch",Mg=["typed","BigNumber"],Ag=L(mo,Mg,n=>{var{typed:r,BigNumber:e}=n;return r(mo,{number:Hf,Complex:function(a){return a.acsch()},BigNumber:function(a){return new e(1).div(a).asinh()}})}),po="asec",Eg=["typed","config","Complex","BigNumber"],Tg=L(po,Eg,n=>{var{typed:r,config:e,Complex:t,BigNumber:a}=n;return r(po,{number:function(l){return l<=-1||l>=1||e.predictable?Yf(l):new t(l,0).asec()},Complex:function(l){return l.asec()},BigNumber:function(l){return new a(1).div(l).acos()}})}),ho="asech",Og=["typed","config","Complex","BigNumber"],Cg=L(ho,Og,n=>{var{typed:r,config:e,Complex:t,BigNumber:a}=n;return r(ho,{number:function(l){if(l<=1&&l>=-1||e.predictable){var m=1/l;if(m>0||e.predictable)return Zf(l);var f=Math.sqrt(m*m-1);return new t(Math.log(f-m),Math.PI)}return new t(l,0).asech()},Complex:function(l){return l.asech()},BigNumber:function(l){return new a(1).div(l).acosh()}})}),go="asin",Bg=["typed","config","Complex"],zg=L(go,Bg,n=>{var{typed:r,config:e,Complex:t}=n;return r(go,{number:function(s){return s>=-1&&s<=1||e.predictable?Math.asin(s):new t(s,0).asin()},Complex:function(s){return s.asin()},BigNumber:function(s){return s.asin()}})}),Ig="asinh",Rg=["typed"],$g=L(Ig,Rg,n=>{var{typed:r}=n;return r("asinh",{number:Qf,Complex:function(t){return t.asinh()},BigNumber:function(t){return t.asinh()}})}),Dg="atan",Ug=["typed"],Fg=L(Dg,Ug,n=>{var{typed:r}=n;return r("atan",{number:function(t){return Math.atan(t)},Complex:function(t){return t.atan()},BigNumber:function(t){return t.atan()}})}),yo="atan2",Pg=["typed","matrix","equalScalar","BigNumber","DenseMatrix","concat"],qg=L(yo,Pg,n=>{var{typed:r,matrix:e,equalScalar:t,BigNumber:a,DenseMatrix:s,concat:l}=n,m=Se({typed:r,equalScalar:t}),f=Ge({typed:r}),u=Bs({typed:r,equalScalar:t}),i=fe({typed:r,equalScalar:t}),o=$e({typed:r,DenseMatrix:s}),c=Qr({typed:r,matrix:e,concat:l});return r(yo,{"number, number":Math.atan2,"BigNumber, BigNumber":(p,h)=>a.atan2(p,h)},c({scalar:"number | BigNumber",SS:u,DS:f,SD:m,Ss:i,sS:o}))}),bo="atanh",Lg=["typed","config","Complex"],Gg=L(bo,Lg,n=>{var{typed:r,config:e,Complex:t}=n;return r(bo,{number:function(s){return s<=1&&s>=-1||e.predictable?Xf(s):new t(s,0).atanh()},Complex:function(s){return s.atanh()},BigNumber:function(s){return s.atanh()}})}),wt=L("trigUnit",["typed"],n=>{var{typed:r}=n;return{Unit:r.referToSelf(e=>t=>{if(!t.hasBase(t.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return r.find(e,t.valueType())(t.value)})}}),wo="cos",Vg=["typed"],Hg=L(wo,Vg,n=>{var{typed:r}=n,e=wt({typed:r});return r(wo,{number:Math.cos,"Complex | BigNumber":t=>t.cos()},e)}),xo="cosh",Yg=["typed"],Zg=L(xo,Yg,n=>{var{typed:r}=n;return r(xo,{number:Jf,"Complex | BigNumber":e=>e.cosh()})}),No="cot",Qg=["typed","BigNumber"],Xg=L(No,Qg,n=>{var{typed:r,BigNumber:e}=n,t=wt({typed:r});return r(No,{number:Kf,Complex:a=>a.cot(),BigNumber:a=>new e(1).div(a.tan())},t)}),So="coth",Jg=["typed","BigNumber"],Kg=L(So,Jg,n=>{var{typed:r,BigNumber:e}=n;return r(So,{number:Wf,Complex:t=>t.coth(),BigNumber:t=>new e(1).div(t.tanh())})}),_o="csc",Wg=["typed","BigNumber"],kg=L(_o,Wg,n=>{var{typed:r,BigNumber:e}=n,t=wt({typed:r});return r(_o,{number:kf,Complex:a=>a.csc(),BigNumber:a=>new e(1).div(a.sin())},t)}),Mo="csch",jg=["typed","BigNumber"],r0=L(Mo,jg,n=>{var{typed:r,BigNumber:e}=n;return r(Mo,{number:jf,Complex:t=>t.csch(),BigNumber:t=>new e(1).div(t.sinh())})}),Ao="sec",e0=["typed","BigNumber"],t0=L(Ao,e0,n=>{var{typed:r,BigNumber:e}=n,t=wt({typed:r});return r(Ao,{number:rl,Complex:a=>a.sec(),BigNumber:a=>new e(1).div(a.cos())},t)}),Eo="sech",a0=["typed","BigNumber"],n0=L(Eo,a0,n=>{var{typed:r,BigNumber:e}=n;return r(Eo,{number:el,Complex:t=>t.sech(),BigNumber:t=>new e(1).div(t.cosh())})}),To="sin",i0=["typed"],o0=L(To,i0,n=>{var{typed:r}=n,e=wt({typed:r});return r(To,{number:Math.sin,"Complex | BigNumber":t=>t.sin()},e)}),Oo="sinh",s0=["typed"],u0=L(Oo,s0,n=>{var{typed:r}=n;return r(Oo,{number:tl,"Complex | BigNumber":e=>e.sinh()})}),Co="tan",f0=["typed"],l0=L(Co,f0,n=>{var{typed:r}=n,e=wt({typed:r});return r(Co,{number:Math.tan,"Complex | BigNumber":t=>t.tan()},e)}),v0="tanh",c0=["typed"],m0=L(v0,c0,n=>{var{typed:r}=n;return r("tanh",{number:al,"Complex | BigNumber":e=>e.tanh()})}),Bo="setCartesian",p0=["typed","size","subset","compareNatural","Index","DenseMatrix"],d0=L(Bo,p0,n=>{var{typed:r,size:e,subset:t,compareNatural:a,Index:s,DenseMatrix:l}=n;return r(Bo,{"Array | Matrix, Array | Matrix":function(f,u){var i=[];if(t(e(f),new s(0))!==0&&t(e(u),new s(0))!==0){var o=$r(Array.isArray(f)?f:f.toArray()).sort(a),c=$r(Array.isArray(u)?u:u.toArray()).sort(a);i=[];for(var p=0;p<o.length;p++)for(var h=0;h<c.length;h++)i.push([o[p],c[h]])}return Array.isArray(f)&&Array.isArray(u)?i:new l(i)}})}),zo="setDifference",h0=["typed","size","subset","compareNatural","Index","DenseMatrix"],g0=L(zo,h0,n=>{var{typed:r,size:e,subset:t,compareNatural:a,Index:s,DenseMatrix:l}=n;return r(zo,{"Array | Matrix, Array | Matrix":function(f,u){var i;if(t(e(f),new s(0))===0)i=[];else{if(t(e(u),new s(0))===0)return $r(f.toArray());var o=ht($r(Array.isArray(f)?f:f.toArray()).sort(a)),c=ht($r(Array.isArray(u)?u:u.toArray()).sort(a));i=[];for(var p,h=0;h<o.length;h++){p=!1;for(var v=0;v<c.length;v++)if(a(o[h].value,c[v].value)===0&&o[h].identifier===c[v].identifier){p=!0;break}p||i.push(o[h])}}return Array.isArray(f)&&Array.isArray(u)?jt(i):new l(jt(i))}})}),Io="setDistinct",y0=["typed","size","subset","compareNatural","Index","DenseMatrix"],b0=L(Io,y0,n=>{var{typed:r,size:e,subset:t,compareNatural:a,Index:s,DenseMatrix:l}=n;return r(Io,{"Array | Matrix":function(f){var u;if(t(e(f),new s(0))===0)u=[];else{var i=$r(Array.isArray(f)?f:f.toArray()).sort(a);u=[],u.push(i[0]);for(var o=1;o<i.length;o++)a(i[o],i[o-1])!==0&&u.push(i[o])}return Array.isArray(f)?u:new l(u)}})}),Ro="setIntersect",w0=["typed","size","subset","compareNatural","Index","DenseMatrix"],x0=L(Ro,w0,n=>{var{typed:r,size:e,subset:t,compareNatural:a,Index:s,DenseMatrix:l}=n;return r(Ro,{"Array | Matrix, Array | Matrix":function(f,u){var i;if(t(e(f),new s(0))===0||t(e(u),new s(0))===0)i=[];else{var o=ht($r(Array.isArray(f)?f:f.toArray()).sort(a)),c=ht($r(Array.isArray(u)?u:u.toArray()).sort(a));i=[];for(var p=0;p<o.length;p++)for(var h=0;h<c.length;h++)if(a(o[p].value,c[h].value)===0&&o[p].identifier===c[h].identifier){i.push(o[p]);break}}return Array.isArray(f)&&Array.isArray(u)?jt(i):new l(jt(i))}})}),$o="setIsSubset",N0=["typed","size","subset","compareNatural","Index"],S0=L($o,N0,n=>{var{typed:r,size:e,subset:t,compareNatural:a,Index:s}=n;return r($o,{"Array | Matrix, Array | Matrix":function(m,f){if(t(e(m),new s(0))===0)return!0;if(t(e(f),new s(0))===0)return!1;for(var u=ht($r(Array.isArray(m)?m:m.toArray()).sort(a)),i=ht($r(Array.isArray(f)?f:f.toArray()).sort(a)),o,c=0;c<u.length;c++){o=!1;for(var p=0;p<i.length;p++)if(a(u[c].value,i[p].value)===0&&u[c].identifier===i[p].identifier){o=!0;break}if(o===!1)return!1}return!0}})}),Do="setMultiplicity",_0=["typed","size","subset","compareNatural","Index"],M0=L(Do,_0,n=>{var{typed:r,size:e,subset:t,compareNatural:a,Index:s}=n;return r(Do,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(m,f){if(t(e(f),new s(0))===0)return 0;for(var u=$r(Array.isArray(f)?f:f.toArray()),i=0,o=0;o<u.length;o++)a(u[o],m)===0&&i++;return i}})}),Uo="setPowerset",A0=["typed","size","subset","compareNatural","Index"],E0=L(Uo,A0,n=>{var{typed:r,size:e,subset:t,compareNatural:a,Index:s}=n;return r(Uo,{"Array | Matrix":function(u){if(t(e(u),new s(0))===0)return[];for(var i=$r(Array.isArray(u)?u:u.toArray()).sort(a),o=[],c=0;c.toString(2).length<=i.length;)o.push(l(i,c.toString(2).split("").reverse())),c++;return m(o)}});function l(f,u){for(var i=[],o=0;o<u.length;o++)u[o]==="1"&&i.push(f[o]);return i}function m(f){for(var u=[],i=f.length-1;i>0;i--)for(var o=0;o<i;o++)f[o].length>f[o+1].length&&(u=f[o],f[o]=f[o+1],f[o+1]=u);return f}}),Fo="setSize",T0=["typed","compareNatural"],O0=L(Fo,T0,n=>{var{typed:r,compareNatural:e}=n;return r(Fo,{"Array | Matrix":function(a){return Array.isArray(a)?$r(a).length:$r(a.toArray()).length},"Array | Matrix, boolean":function(a,s){if(s===!1||a.length===0)return Array.isArray(a)?$r(a).length:$r(a.toArray()).length;for(var l=$r(Array.isArray(a)?a:a.toArray()).sort(e),m=1,f=1;f<l.length;f++)e(l[f],l[f-1])!==0&&m++;return m}})}),Po="setSymDifference",C0=["typed","size","concat","subset","setDifference","Index"],B0=L(Po,C0,n=>{var{typed:r,size:e,concat:t,subset:a,setDifference:s,Index:l}=n;return r(Po,{"Array | Matrix, Array | Matrix":function(f,u){if(a(e(f),new l(0))===0)return $r(u);if(a(e(u),new l(0))===0)return $r(f);var i=$r(f),o=$r(u);return t(s(i,o),s(o,i))}})}),qo="setUnion",z0=["typed","size","concat","subset","setIntersect","setSymDifference","Index"],I0=L(qo,z0,n=>{var{typed:r,size:e,concat:t,subset:a,setIntersect:s,setSymDifference:l,Index:m}=n;return r(qo,{"Array | Matrix, Array | Matrix":function(u,i){if(a(e(u),new m(0))===0)return $r(i);if(a(e(i),new m(0))===0)return $r(u);var o=$r(u),c=$r(i);return t(l(o,c),s(o,c))}})}),Lo="add",R0=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],$0=L(Lo,R0,n=>{var{typed:r,matrix:e,addScalar:t,equalScalar:a,DenseMatrix:s,SparseMatrix:l,concat:m}=n,f=Ve({typed:r}),u=Oa({typed:r,equalScalar:a}),i=rt({typed:r,DenseMatrix:s}),o=Qr({typed:r,matrix:e,concat:m});return r(Lo,{"any, any":t,"any, any, ...any":r.referToSelf(c=>(p,h,v)=>{for(var y=c(p,h),w=0;w<v.length;w++)y=c(y,v[w]);return y})},o({elop:t,DS:f,SS:u,Ss:i}))}),Go="norm",D0=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],U0=L(Go,D0,n=>{var{typed:r,abs:e,add:t,pow:a,conj:s,sqrt:l,multiply:m,equalScalar:f,larger:u,smaller:i,matrix:o,ctranspose:c,eigs:p}=n;return r(Go,{number:Math.abs,Complex:function(A){return A.abs()},BigNumber:function(A){return A.abs()},boolean:function(A){return Math.abs(A)},Array:function(A){return d(o(A),2)},Matrix:function(A){return d(A,2)},"Array, number | BigNumber | string":function(A,N){return d(o(A),N)},"Matrix, number | BigNumber | string":function(A,N){return d(A,N)}});function h(_){var A=0;return _.forEach(function(N){var M=e(N);u(M,A)&&(A=M)},!0),A}function v(_){var A;return _.forEach(function(N){var M=e(N);(!A||i(M,A))&&(A=M)},!0),A||0}function y(_,A){if(A===Number.POSITIVE_INFINITY||A==="inf")return h(_);if(A===Number.NEGATIVE_INFINITY||A==="-inf")return v(_);if(A==="fro")return d(_,2);if(typeof A=="number"&&!isNaN(A)){if(!f(A,0)){var N=0;return _.forEach(function(M){N=t(a(e(M),A),N)},!0),a(N,1/A)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}function w(_){var A=0;return _.forEach(function(N,M){A=t(A,m(N,s(N)))}),e(l(A))}function S(_){var A=[],N=0;return _.forEach(function(M,E){var T=E[1],z=t(A[T]||0,e(M));u(z,N)&&(N=z),A[T]=z},!0),N}function b(_){var A=_.size();if(A[0]!==A[1])throw new RangeError("Invalid matrix dimensions");var N=c(_),M=m(N,_),E=p(M).values.toArray(),T=E[E.length-1];return e(l(T))}function g(_){var A=[],N=0;return _.forEach(function(M,E){var T=E[0],z=t(A[T]||0,e(M));u(z,N)&&(N=z),A[T]=z},!0),N}function x(_,A){if(A===1)return S(_);if(A===Number.POSITIVE_INFINITY||A==="inf")return g(_);if(A==="fro")return w(_);if(A===2)return b(_);throw new Error("Unsupported parameter value "+A)}function d(_,A){var N=_.size();if(N.length===1)return y(_,A);if(N.length===2){if(N[0]&&N[1])return x(_,A);throw new RangeError("Invalid matrix dimensions")}}}),Vo="dot",F0=["typed","addScalar","multiplyScalar","conj","size"],P0=L(Vo,F0,n=>{var{typed:r,addScalar:e,multiplyScalar:t,conj:a,size:s}=n;return r(Vo,{"Array | DenseMatrix, Array | DenseMatrix":m,"SparseMatrix, SparseMatrix":f});function l(i,o){var c=u(i),p=u(o),h,v;if(c.length===1)h=c[0];else if(c.length===2&&c[1]===1)h=c[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+c.join(", ")+")");if(p.length===1)v=p[0];else if(p.length===2&&p[1]===1)v=p[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+p.join(", ")+")");if(h!==v)throw new RangeError("Vectors must have equal length ("+h+" != "+v+")");if(h===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return h}function m(i,o){var c=l(i,o),p=_r(i)?i._data:i,h=_r(i)?i._datatype||i.getDataType():void 0,v=_r(o)?o._data:o,y=_r(o)?o._datatype||o.getDataType():void 0,w=u(i).length===2,S=u(o).length===2,b=e,g=t;if(h&&y&&h===y&&typeof h=="string"&&h!=="mixed"){var x=h;b=r.find(e,[x,x]),g=r.find(t,[x,x])}if(!w&&!S){for(var d=g(a(p[0]),v[0]),_=1;_<c;_++)d=b(d,g(a(p[_]),v[_]));return d}if(!w&&S){for(var A=g(a(p[0]),v[0][0]),N=1;N<c;N++)A=b(A,g(a(p[N]),v[N][0]));return A}if(w&&!S){for(var M=g(a(p[0][0]),v[0]),E=1;E<c;E++)M=b(M,g(a(p[E][0]),v[E]));return M}if(w&&S){for(var T=g(a(p[0][0]),v[0][0]),z=1;z<c;z++)T=b(T,g(a(p[z][0]),v[z][0]));return T}}function f(i,o){l(i,o);for(var c=i._index,p=i._values,h=o._index,v=o._values,y=0,w=e,S=t,b=0,g=0;b<c.length&&g<h.length;){var x=c[b],d=h[g];if(x<d){b++;continue}if(x>d){g++;continue}x===d&&(y=w(y,S(p[b],v[g])),b++,g++)}return y}function u(i){return _r(i)?i.size():s(i)}}),q0="trace",L0=["typed","matrix","add"],G0=L(q0,L0,n=>{var{typed:r,matrix:e,add:t}=n;return r("trace",{Array:function(m){return a(e(m))},SparseMatrix:s,DenseMatrix:a,any:wr});function a(l){var m=l._size,f=l._data;switch(m.length){case 1:if(m[0]===1)return wr(f[0]);throw new RangeError("Matrix must be square (size: "+Er(m)+")");case 2:{var u=m[0],i=m[1];if(u===i){for(var o=0,c=0;c<u;c++)o=t(o,f[c][c]);return o}else throw new RangeError("Matrix must be square (size: "+Er(m)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Er(m)+")")}}function s(l){var m=l._values,f=l._index,u=l._ptr,i=l._size,o=i[0],c=i[1];if(o===c){var p=0;if(m.length>0)for(var h=0;h<c;h++)for(var v=u[h],y=u[h+1],w=v;w<y;w++){var S=f[w];if(S===h){p=t(p,m[w]);break}if(S>h)break}return p}throw new RangeError("Matrix must be square (size: "+Er(i)+")")}}),Ho="index",V0=["typed","Index"],H0=L(Ho,V0,n=>{var{typed:r,Index:e}=n;return r(Ho,{"...number | string | BigNumber | Range | Array | Matrix":function(a){var s=a.map(function(m){return Dr(m)?m.toNumber():Ur(m)||_r(m)?m.map(function(f){return Dr(f)?f.toNumber():f}):m}),l=new e;return e.apply(l,s),l}})}),Yo="lup",Y0=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],Z0=L(Yo,Y0,n=>{var{typed:r,matrix:e,abs:t,addScalar:a,divideScalar:s,multiplyScalar:l,subtractScalar:m,larger:f,equalScalar:u,unaryMinus:i,DenseMatrix:o,SparseMatrix:c,Spa:p}=n;return r(Yo,{DenseMatrix:function(w){return h(w)},SparseMatrix:function(w){return v(w)},Array:function(w){var S=e(w),b=h(S);return{L:b.L.valueOf(),U:b.U.valueOf(),p:b.p}}});function h(y){var w=y._size[0],S=y._size[1],b=Math.min(w,S),g=wr(y._data),x=[],d=[w,b],_=[],A=[b,S],N,M,E,T=[];for(N=0;N<w;N++)T[N]=N;for(M=0;M<S;M++){if(M>0)for(N=0;N<w;N++){var z=Math.min(N,M),R=0;for(E=0;E<z;E++)R=a(R,l(g[N][E],g[E][M]));g[N][M]=m(g[N][M],R)}var P=M,D=0,q=0;for(N=M;N<w;N++){var F=g[N][M],$=t(F);f($,D)&&(P=N,D=$,q=F)}if(M!==P&&(T[M]=[T[P],T[P]=T[M]][0],o._swapRows(M,P,g)),M<w)for(N=M+1;N<w;N++){var Y=g[N][M];u(Y,0)||(g[N][M]=s(g[N][M],q))}}for(M=0;M<S;M++)for(N=0;N<w;N++){if(M===0&&(N<S&&(_[N]=[]),x[N]=[]),N<M){N<S&&(_[N][M]=g[N][M]),M<w&&(x[N][M]=0);continue}if(N===M){N<S&&(_[N][M]=g[N][M]),M<w&&(x[N][M]=1);continue}N<S&&(_[N][M]=0),M<w&&(x[N][M]=g[N][M])}var Q=new o({data:x,size:d}),O=new o({data:_,size:A}),V=[];for(N=0,b=T.length;N<b;N++)V[T[N]]=N;return{L:Q,U:O,p:V,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function v(y){var w=y._size[0],S=y._size[1],b=Math.min(w,S),g=y._values,x=y._index,d=y._ptr,_=[],A=[],N=[],M=[w,b],E=[],T=[],z=[],R=[b,S],P,D,q,F=[],$=[];for(P=0;P<w;P++)F[P]=P,$[P]=P;var Y=function(V,C){var tr=$[V],rr=$[C];F[tr]=C,F[rr]=V,$[V]=rr,$[C]=tr},Q=function(){var V=new p;D<w&&(N.push(_.length),_.push(1),A.push(D)),z.push(E.length);var C=d[D],tr=d[D+1];for(q=C;q<tr;q++)P=x[q],V.set(F[P],g[q]);D>0&&V.forEach(0,D-1,function(er,K){c._forEachRow(er,_,A,N,function(W,k){W>er&&V.accumulate(W,i(l(k,K)))})});var rr=D,Z=V.get(D),G=t(Z);V.forEach(D+1,w-1,function(er,K){var W=t(K);f(W,G)&&(rr=er,G=W,Z=K)}),D!==rr&&(c._swapRows(D,rr,M[1],_,A,N),c._swapRows(D,rr,R[1],E,T,z),V.swap(D,rr),Y(D,rr)),V.forEach(0,w-1,function(er,K){er<=D?(E.push(K),T.push(er)):(K=s(K,Z),u(K,0)||(_.push(K),A.push(er)))})};for(D=0;D<S;D++)Q();return z.push(E.length),N.push(_.length),{L:new c({values:_,index:A,ptr:N,size:M}),U:new c({values:E,index:T,ptr:z,size:R}),p:F,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}}),Zo="qr",Q0=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtractScalar","complex"],X0=L(Zo,Q0,n=>{var{typed:r,matrix:e,zeros:t,identity:a,isZero:s,equal:l,sign:m,sqrt:f,conj:u,unaryMinus:i,addScalar:o,divideScalar:c,multiplyScalar:p,subtractScalar:h,complex:v}=n;return Ie(r(Zo,{DenseMatrix:function(g){return w(g)},SparseMatrix:function(g){return S()},Array:function(g){var x=e(g),d=w(x);return{Q:d.Q.valueOf(),R:d.R.valueOf()}}}),{_denseQRimpl:y});function y(b){var g=b._size[0],x=b._size[1],d=a([g],"dense"),_=d._data,A=b.clone(),N=A._data,M,E,T,z=t([g],"");for(T=0;T<Math.min(x,g);++T){var R=N[T][T],P=i(l(R,0)?1:m(R)),D=u(P),q=0;for(M=T;M<g;M++)q=o(q,p(N[M][T],u(N[M][T])));var F=p(P,f(q));if(!s(F)){var $=h(R,F);for(z[T]=1,M=T+1;M<g;M++)z[M]=c(N[M][T],$);var Y=i(u(c($,F))),Q=void 0;for(E=T;E<x;E++){for(Q=0,M=T;M<g;M++)Q=o(Q,p(u(z[M]),N[M][E]));for(Q=p(Q,Y),M=T;M<g;M++)N[M][E]=p(h(N[M][E],p(z[M],Q)),D)}for(M=0;M<g;M++){for(Q=0,E=T;E<g;E++)Q=o(Q,p(_[M][E],z[E]));for(Q=p(Q,Y),E=T;E<g;++E)_[M][E]=c(h(_[M][E],p(Q,u(z[E]))),D)}}}return{Q:d,R:A,toString:function(){return"Q: "+this.Q.toString()+`
R: `+this.R.toString()}}}function w(b){var g=y(b),x=g.R._data;if(b._data.length>0)for(var d=x[0][0].type==="Complex"?v(0):0,_=0;_<x.length;++_)for(var A=0;A<_&&A<(x[0]||[]).length;++A)x[_][A]=d;return g}function S(b){throw new Error("qr not implemented for sparse matrices yet")}});function J0(n,r,e,t){n._values;for(var a=n._index,s=n._ptr,l=n._size,m=n._datatype,f=l[0],u=l[1],i=null,o=[],c=[],p=0,h=0;h<u;h++){c[h]=p;for(var v=e?e[h]:h,y=s[v],w=s[v+1],S=y;S<w;S++){var b=a[S];o[p]=b,p++}}return c[u]=p,n.createSparseMatrix({values:i,index:o,ptr:c,size:[f,u],datatype:m})}function Ls(n,r,e,t,a,s,l){var m=0;for(e[l]=n;m>=0;){var f=e[l+m],u=e[t+f];u===-1?(m--,s[r++]=f):(e[t+f]=e[a+u],++m,e[l+m]=u)}return r}function K0(n,r){if(!n)return null;var e=0,t,a=[],s=[],l=0,m=r,f=2*r;for(t=0;t<r;t++)s[l+t]=-1;for(t=r-1;t>=0;t--)n[t]!==-1&&(s[m+t]=s[l+n[t]],s[l+n[t]]=t);for(t=0;t<r;t++)n[t]===-1&&(e=Ls(t,e,s,l,m,a,f));return a}function W0(n,r){if(!n)return null;var e=n._index,t=n._ptr,a=n._size,s=a[0],l=a[1],m=[],f=[],u=0,i=l,o,c;for(o=0;o<s;o++)f[i+o]=-1;for(var p=0;p<l;p++){m[p]=-1,f[u+p]=-1;for(var h=t[p],v=t[p+1],y=h;y<v;y++){var w=e[y];for(o=f[i+w];o!==-1&&o<p;o=c)c=f[u+o],f[u+o]=p,c===-1&&(m[o]=p);f[i+w]=p}}return m}function k0(n,r,e){for(var t=n._values,a=n._index,s=n._ptr,l=n._size,m=l[1],f=0,u=0;u<m;u++){var i=s[u];for(s[u]=f;i<s[u+1];i++)r(a[i],u,t?t[i]:1,e)&&(a[f]=a[i],t&&(t[f]=t[i]),f++)}return s[m]=f,a.splice(f,a.length-f),t&&t.splice(f,t.length-f),f}function Le(n){return-n-2}var j0="csAmd",ry=["add","multiply","transpose"],ey=L(j0,ry,n=>{var{add:r,multiply:e,transpose:t}=n;return function(i,o){if(!o||i<=0||i>3)return null;var c=o._size,p=c[0],h=c[1],v=0,y=Math.max(16,10*Math.sqrt(h));y=Math.min(h-2,y);var w=a(i,o,p,h,y);k0(w,f,null);for(var S=w._index,b=w._ptr,g=b[h],x=[],d=[],_=0,A=h+1,N=2*(h+1),M=3*(h+1),E=4*(h+1),T=5*(h+1),z=6*(h+1),R=7*(h+1),P=x,D=s(h,b,d,_,M,P,N,R,A,z,E,T),q=l(h,b,d,T,E,z,y,A,M,P,N),F=0,$,Y,Q,O,V,C,tr,rr,Z,G,er,K,W,k,or,lr;q<h;){for(Q=-1;F<h&&(Q=d[M+F])===-1;F++);d[N+Q]!==-1&&(P[d[N+Q]]=-1),d[M+F]=d[N+Q];var vr=d[E+Q],hr=d[A+Q];q+=hr;var br=0;d[A+Q]=-hr;var cr=b[Q],Nr=vr===0?cr:g,B=Nr;for(O=1;O<=vr+1;O++){for(O>vr?(C=Q,tr=cr,rr=d[_+Q]-vr):(C=S[cr++],tr=b[C],rr=d[_+C]),V=1;V<=rr;V++)$=S[tr++],!((Z=d[A+$])<=0)&&(br+=Z,d[A+$]=-Z,S[B++]=$,d[N+$]!==-1&&(P[d[N+$]]=P[$]),P[$]!==-1?d[N+P[$]]=d[N+$]:d[M+d[T+$]]=d[N+$]);C!==Q&&(b[C]=Le(Q),d[z+C]=0)}for(vr!==0&&(g=B),d[T+Q]=br,b[Q]=Nr,d[_+Q]=B-Nr,d[E+Q]=-2,D=m(D,v,d,z,h),G=Nr;G<B;G++)if($=S[G],!((er=d[E+$])<=0)){Z=-d[A+$];var U=D-Z;for(cr=b[$],K=b[$]+er-1;cr<=K;cr++)C=S[cr],d[z+C]>=D?d[z+C]-=Z:d[z+C]!==0&&(d[z+C]=d[T+C]+U)}for(G=Nr;G<B;G++){for($=S[G],K=b[$],W=K+d[E+$]-1,k=K,or=0,lr=0,cr=K;cr<=W;cr++)if(C=S[cr],d[z+C]!==0){var H=d[z+C]-D;H>0?(lr+=H,S[k++]=C,or+=C):(b[C]=Le(Q),d[z+C]=0)}d[E+$]=k-K+1;var j=k,ir=K+d[_+$];for(cr=W+1;cr<ir;cr++){Y=S[cr];var ur=d[A+Y];ur<=0||(lr+=ur,S[k++]=Y,or+=Y)}lr===0?(b[$]=Le(Q),Z=-d[A+$],br-=Z,hr+=Z,q+=Z,d[A+$]=0,d[E+$]=-1):(d[T+$]=Math.min(d[T+$],lr),S[k]=S[j],S[j]=S[K],S[K]=Q,d[_+$]=k-K+1,or=(or<0?-or:or)%h,d[N+$]=d[R+or],d[R+or]=$,P[$]=or)}for(d[T+Q]=br,v=Math.max(v,br),D=m(D+v,v,d,z,h),G=Nr;G<B;G++)if($=S[G],!(d[A+$]>=0))for(or=P[$],$=d[R+or],d[R+or]=-1;$!==-1&&d[N+$]!==-1;$=d[N+$],D++){for(rr=d[_+$],er=d[E+$],cr=b[$]+1;cr<=b[$]+rr-1;cr++)d[z+S[cr]]=D;var fr=$;for(Y=d[N+$];Y!==-1;){var mr=d[_+Y]===rr&&d[E+Y]===er;for(cr=b[Y]+1;mr&&cr<=b[Y]+rr-1;cr++)d[z+S[cr]]!==D&&(mr=0);mr?(b[Y]=Le($),d[A+$]+=d[A+Y],d[A+Y]=0,d[E+Y]=-1,Y=d[N+Y],d[N+fr]=Y):(fr=Y,Y=d[N+Y])}}for(cr=Nr,G=Nr;G<B;G++)$=S[G],!((Z=-d[A+$])<=0)&&(d[A+$]=Z,lr=d[T+$]+br-Z,lr=Math.min(lr,h-q-Z),d[M+lr]!==-1&&(P[d[M+lr]]=$),d[N+$]=d[M+lr],P[$]=-1,d[M+lr]=$,F=Math.min(F,lr),d[T+$]=lr,S[cr++]=$);d[A+Q]=hr,(d[_+Q]=cr-Nr)===0&&(b[Q]=-1,d[z+Q]=0),vr!==0&&(g=cr)}for($=0;$<h;$++)b[$]=Le(b[$]);for(Y=0;Y<=h;Y++)d[M+Y]=-1;for(Y=h;Y>=0;Y--)d[A+Y]>0||(d[N+Y]=d[M+b[Y]],d[M+b[Y]]=Y);for(C=h;C>=0;C--)d[A+C]<=0||b[C]!==-1&&(d[N+C]=d[M+b[C]],d[M+b[C]]=C);for(Q=0,$=0;$<=h;$++)b[$]===-1&&(Q=Ls($,Q,d,M,N,x,z));return x.splice(x.length-1,1),x};function a(u,i,o,c,p){var h=t(i);if(u===1&&c===o)return r(i,h);if(u===2){for(var v=h._index,y=h._ptr,w=0,S=0;S<o;S++){var b=y[S];if(y[S]=w,!(y[S+1]-b>p))for(var g=y[S+1];b<g;b++)v[w++]=v[b]}return y[o]=w,i=t(h),e(h,i)}return e(h,i)}function s(u,i,o,c,p,h,v,y,w,S,b,g){for(var x=0;x<u;x++)o[c+x]=i[x+1]-i[x];o[c+u]=0;for(var d=0;d<=u;d++)o[p+d]=-1,h[d]=-1,o[v+d]=-1,o[y+d]=-1,o[w+d]=1,o[S+d]=1,o[b+d]=0,o[g+d]=o[c+d];var _=m(0,0,o,S,u);return o[b+u]=-2,i[u]=-1,o[S+u]=0,_}function l(u,i,o,c,p,h,v,y,w,S,b){for(var g=0,x=0;x<u;x++){var d=o[c+x];if(d===0)o[p+x]=-2,g++,i[x]=-1,o[h+x]=0;else if(d>v)o[y+x]=0,o[p+x]=-1,g++,i[x]=Le(u),o[y+u]++;else{var _=o[w+d];_!==-1&&(S[_]=x),o[b+x]=o[w+d],o[w+d]=x}}return g}function m(u,i,o,c,p){if(u<2||u+i<0){for(var h=0;h<p;h++)o[c+h]!==0&&(o[c+h]=1);u=2}return u}function f(u,i){return u!==i}});function ty(n,r,e,t,a,s,l){var m,f,u=0,i;if(n<=r||e[t+r]<=e[a+n])return-1;e[a+n]=e[t+r];var o=e[s+n];if(e[s+n]=r,o===-1)u=1,i=n;else{for(u=2,i=o;i!==e[l+i];i=e[l+i]);for(m=o;m!==i;m=f)f=e[l+m],e[l+m]=i}return{jleaf:u,q:i}}var ay="csCounts",ny=["transpose"],iy=L(ay,ny,n=>{var{transpose:r}=n;return function(e,t,a,s){if(!e||!t||!a)return null;var l=e._size,m=l[0],f=l[1],u,i,o,c,p,h,v,y=4*f+(s?f+m+1:0),w=[],S=0,b=f,g=2*f,x=3*f,d=4*f,_=5*f+1;for(o=0;o<y;o++)w[o]=-1;var A=[],N=r(e),M=N._index,E=N._ptr;for(o=0;o<f;o++)for(i=a[o],A[i]=w[x+i]===-1?1:0;i!==-1&&w[x+i]===-1;i=t[i])w[x+i]=o;if(s){for(o=0;o<f;o++)w[a[o]]=o;for(u=0;u<m;u++){for(o=f,h=E[u],v=E[u+1],p=h;p<v;p++)o=Math.min(o,w[M[p]]);w[_+u]=w[d+o],w[d+o]=u}}for(u=0;u<f;u++)w[S+u]=u;for(o=0;o<f;o++){for(i=a[o],t[i]!==-1&&A[t[i]]--,c=s?w[d+o]:i;c!==-1;c=s?w[_+c]:-1)for(p=E[c];p<E[c+1];p++){u=M[p];var T=ty(u,i,w,x,b,g,S);T.jleaf>=1&&A[i]++,T.jleaf===2&&A[T.q]--}t[i]!==-1&&(w[S+i]=t[i])}for(i=0;i<f;i++)t[i]!==-1&&(A[t[i]]+=A[i]);return A}}),oy="csSqr",sy=["add","multiply","transpose"],uy=L(oy,sy,n=>{var{add:r,multiply:e,transpose:t}=n,a=ey({add:r,multiply:e,transpose:t}),s=iy({transpose:t});return function(f,u,i){var o=u._ptr,c=u._size,p=c[1],h,v={};if(v.q=a(f,u),f&&!v.q)return null;if(i){var y=f?J0(u,null,v.q):u;v.parent=W0(y);var w=K0(v.parent,p);if(v.cp=s(y,v.parent,w,1),y&&v.parent&&v.cp&&l(y,v))for(v.unz=0,h=0;h<p;h++)v.unz+=v.cp[h]}else v.unz=4*o[p]+p,v.lnz=v.unz;return v};function l(m,f){var u=m._ptr,i=m._index,o=m._size,c=o[0],p=o[1];f.pinv=[],f.leftmost=[];var h=f.parent,v=f.pinv,y=f.leftmost,w=[],S=0,b=c,g=c+p,x=c+2*p,d,_,A,N,M;for(_=0;_<p;_++)w[b+_]=-1,w[g+_]=-1,w[x+_]=0;for(d=0;d<c;d++)y[d]=-1;for(_=p-1;_>=0;_--)for(N=u[_],M=u[_+1],A=N;A<M;A++)y[i[A]]=_;for(d=c-1;d>=0;d--)v[d]=-1,_=y[d],_!==-1&&(w[x+_]++===0&&(w[g+_]=d),w[S+d]=w[b+_],w[b+_]=d);for(f.lnz=0,f.m2=c,_=0;_<p;_++)if(d=w[b+_],f.lnz++,d<0&&(d=f.m2++),v[d]=_,!(--x[_]<=0)){f.lnz+=w[x+_];var E=h[_];E!==-1&&(w[x+E]===0&&(w[g+E]=w[g+_]),w[S+w[g+_]]=w[b+E],w[b+E]=w[S+d],w[x+E]+=w[x+_])}for(d=0;d<c;d++)v[d]<0&&(v[d]=_++);return!0}});function Na(n,r){return n[r]<0}function Gs(n,r){n[r]=Le(n[r])}function Qo(n){return n<0?Le(n):n}function fy(n,r,e,t,a){var s=r._index,l=r._ptr,m=r._size,f=m[1],u,i,o,c=0;for(t[0]=n;c>=0;){n=t[c];var p=a?a[n]:n;Na(l,n)||(Gs(l,n),t[f+c]=p<0?0:Qo(l[p]));var h=1;for(i=t[f+c],o=p<0?0:Qo(l[p+1]);i<o;i++)if(u=s[i],!Na(l,u)){t[f+c]=i,t[++c]=u,h=0;break}h&&(c--,t[--e]=n)}return e}function ly(n,r,e,t,a){var s=n._ptr,l=n._size,m=r._index,f=r._ptr,u=l[1],i,o,c,p=u;for(o=f[e],c=f[e+1],i=o;i<c;i++){var h=m[i];Na(s,h)||(p=fy(h,n,p,t,a))}for(i=p;i<u;i++)Gs(s,t[i]);return p}var vy="csSpsolve",cy=["divideScalar","multiply","subtract"],my=L(vy,cy,n=>{var{divideScalar:r,multiply:e,subtract:t}=n;return function(s,l,m,f,u,i,o){var c=s._values,p=s._index,h=s._ptr,v=s._size,y=v[1],w=l._values,S=l._index,b=l._ptr,g,x,d,_,A=ly(s,l,m,f,i);for(g=A;g<y;g++)u[f[g]]=0;for(x=b[m],d=b[m+1],g=x;g<d;g++)u[S[g]]=w[g];for(var N=A;N<y;N++){var M=f[N],E=i?i[M]:M;if(!(E<0))for(x=h[E],d=h[E+1],u[M]=r(u[M],c[o?x:d-1]),g=o?x+1:x,_=o?d:d-1;g<_;g++){var T=p[g];u[T]=t(u[T],e(c[g],u[M]))}}return A}}),py="csLu",dy=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],hy=L(py,dy,n=>{var{abs:r,divideScalar:e,multiply:t,subtract:a,larger:s,largerEq:l,SparseMatrix:m}=n,f=my({divideScalar:e,multiply:t,subtract:a});return function(i,o,c){if(!i)return null;var p=i._size,h=p[1],v,y=100,w=100;o&&(v=o.q,y=o.lnz||y,w=o.unz||w);var S=[],b=[],g=[],x=new m({values:S,index:b,ptr:g,size:[h,h]}),d=[],_=[],A=[],N=new m({values:d,index:_,ptr:A,size:[h,h]}),M=[],E,T,z=[],R=[];for(E=0;E<h;E++)z[E]=0,M[E]=-1,g[E+1]=0;y=0,w=0;for(var P=0;P<h;P++){g[P]=y,A[P]=w;var D=v?v[P]:P,q=f(x,i,D,R,z,M,1),F=-1,$=-1;for(T=q;T<h;T++)if(E=R[T],M[E]<0){var Y=r(z[E]);s(Y,$)&&($=Y,F=E)}else _[w]=M[E],d[w++]=z[E];if(F===-1||$<=0)return null;M[D]<0&&l(r(z[D]),t($,c))&&(F=D);var Q=z[F];for(_[w]=P,d[w++]=Q,M[F]=P,b[y]=F,S[y++]=1,T=q;T<h;T++)E=R[T],M[E]<0&&(b[y]=E,S[y++]=e(z[E],Q)),z[E]=0}for(g[h]=y,A[h]=w,T=0;T<y;T++)b[T]=M[b[T]];return S.splice(y,S.length-y),b.splice(y,b.length-y),d.splice(w,d.length-w),_.splice(w,_.length-w),{L:x,U:N,pinv:M}}}),Xo="slu",gy=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],yy=L(Xo,gy,n=>{var{typed:r,abs:e,add:t,multiply:a,transpose:s,divideScalar:l,subtract:m,larger:f,largerEq:u,SparseMatrix:i}=n,o=uy({add:t,multiply:a,transpose:s}),c=hy({abs:e,divideScalar:l,multiply:a,subtract:m,larger:f,largerEq:u,SparseMatrix:i});return r(Xo,{"SparseMatrix, number, number":function(h,v,y){if(!Rr(v)||v<0||v>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(y<0||y>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var w=o(v,h,!1),S=c(h,w,y);return{L:S.L,U:S.U,p:S.pinv,q:w.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function Jo(n,r){var e,t=r.length,a=[];if(n)for(e=0;e<t;e++)a[n[e]]=r[e];else for(e=0;e<t;e++)a[e]=r[e];return a}var Ko="lusolve",by=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],wy=L(Ko,by,n=>{var{typed:r,matrix:e,lup:t,slu:a,usolve:s,lsolve:l,DenseMatrix:m}=n,f=Dt({DenseMatrix:m});return r(Ko,{"Array, Array | Matrix":function(c,p){c=e(c);var h=t(c),v=i(h.L,h.U,h.p,null,p);return v.valueOf()},"DenseMatrix, Array | Matrix":function(c,p){var h=t(c);return i(h.L,h.U,h.p,null,p)},"SparseMatrix, Array | Matrix":function(c,p){var h=t(c);return i(h.L,h.U,h.p,null,p)},"SparseMatrix, Array | Matrix, number, number":function(c,p,h,v){var y=a(c,h,v);return i(y.L,y.U,y.p,y.q,p)},"Object, Array | Matrix":function(c,p){return i(c.L,c.U,c.p,c.q,p)}});function u(o){if(_r(o))return o;if(Ur(o))return e(o);throw new TypeError("Invalid Matrix LU decomposition")}function i(o,c,p,h,v){o=u(o),c=u(c),p&&(v=f(o,v,!0),v._data=Jo(p,v._data));var y=l(o,v),w=s(c,y);return h&&(w._data=Jo(h,w._data)),w}}),Wo="polynomialRoot",xy=["typed","isZero","equalScalar","add","subtract","multiply","divide","sqrt","unaryMinus","cbrt","typeOf","im","re"],Ny=L(Wo,xy,n=>{var{typed:r,isZero:e,equalScalar:t,add:a,subtract:s,multiply:l,divide:m,sqrt:f,unaryMinus:u,cbrt:i,typeOf:o,im:c,re:p}=n;return r(Wo,{"number|Complex, ...number|Complex":(h,v)=>{for(var y=[h,...v];y.length>0&&e(y[y.length-1]);)y.pop();if(y.length<2)throw new RangeError("Polynomial [".concat(h,", ").concat(v,"] must have a non-zero non-constant coefficient"));switch(y.length){case 2:return[u(m(y[0],y[1]))];case 3:{var[w,S,b]=y,g=l(2,b),x=l(S,S),d=l(4,b,w);if(t(x,d))return[m(u(S),g)];var _=f(s(x,d));return[m(s(_,S),g),m(s(u(_),S),g)]}case 4:{var[A,N,M,E]=y,T=u(l(3,E)),z=l(M,M),R=l(3,E,N),P=a(l(2,M,M,M),l(27,E,E,A)),D=l(9,E,M,N);if(t(z,R)&&t(P,D))return[m(M,T)];var q=s(z,R),F=s(P,D),$=a(l(18,E,M,N,A),l(M,M,N,N)),Y=a(l(4,M,M,M,A),l(4,E,N,N,N),l(27,E,E,A,A));if(t($,Y))return[m(s(l(4,E,M,N),a(l(9,E,E,A),l(M,M,M))),l(E,q)),m(s(l(9,E,A),l(M,N)),l(2,q))];var Q;t(z,R)?Q=F:Q=m(a(F,f(s(l(F,F),l(4,q,q,q)))),2);var O=!0,V=i(Q,O).toArray().map(C=>m(a(M,C,m(q,C)),T));return V.map(C=>o(C)==="Complex"&&t(p(C),p(C)+c(C))?p(C):C)}default:throw new RangeError("only implemented for cubic or lower-order polynomials, not ".concat(y))}}})}),ko="det",Sy=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],_y=L(ko,Sy,n=>{var{typed:r,matrix:e,subtractScalar:t,multiply:a,divideScalar:s,isZero:l,unaryMinus:m}=n;return r(ko,{any:function(i){return wr(i)},"Array | Matrix":function(i){var o;switch(_r(i)?o=i.size():Array.isArray(i)?(i=e(i),o=i.size()):o=[],o.length){case 0:return wr(i);case 1:if(o[0]===1)return wr(i.valueOf()[0]);if(o[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+Er(o)+")");case 2:{var c=o[0],p=o[1];if(c===p)return f(i.clone().valueOf(),c);if(p===0)return 1;throw new RangeError("Matrix must be square (size: "+Er(o)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Er(o)+")")}}});function f(u,i,o){if(i===1)return wr(u[0][0]);if(i===2)return t(a(u[0][0],u[1][1]),a(u[1][0],u[0][1]));for(var c=!1,p=new Array(i).fill(0).map((_,A)=>A),h=0;h<i;h++){var v=p[h];if(l(u[v][h])){var y=void 0;for(y=h+1;y<i;y++)if(!l(u[p[y]][h])){v=p[y],p[y]=p[h],p[h]=v,c=!c;break}if(y===i)return u[v][h]}for(var w=u[v][h],S=h===0?1:u[p[h-1]][h-1],b=h+1;b<i;b++)for(var g=p[b],x=h+1;x<i;x++)u[g][x]=s(t(a(u[g][x],w),a(u[g][h],u[v][x])),S)}var d=u[p[i-1]][i-1];return c?m(d):d}}),jo="inv",My=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],Ay=L(jo,My,n=>{var{typed:r,matrix:e,divideScalar:t,addScalar:a,multiply:s,unaryMinus:l,det:m,identity:f,abs:u}=n;return r(jo,{"Array | Matrix":function(c){var p=_r(c)?c.size():Tr(c);switch(p.length){case 1:if(p[0]===1)return _r(c)?e([t(1,c.valueOf()[0])]):[t(1,c[0])];throw new RangeError("Matrix must be square (size: "+Er(p)+")");case 2:{var h=p[0],v=p[1];if(h===v)return _r(c)?e(i(c.valueOf(),h,v),c.storage()):i(c,h,v);throw new RangeError("Matrix must be square (size: "+Er(p)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Er(p)+")")}},any:function(c){return t(1,c)}});function i(o,c,p){var h,v,y,w,S;if(c===1){if(w=o[0][0],w===0)throw Error("Cannot calculate inverse, determinant is zero");return[[t(1,w)]]}else if(c===2){var b=m(o);if(b===0)throw Error("Cannot calculate inverse, determinant is zero");return[[t(o[1][1],b),t(l(o[0][1]),b)],[t(l(o[1][0]),b),t(o[0][0],b)]]}else{var g=o.concat();for(h=0;h<c;h++)g[h]=g[h].concat();for(var x=f(c).valueOf(),d=0;d<p;d++){var _=u(g[d][d]),A=d;for(h=d+1;h<c;)u(g[h][d])>_&&(_=u(g[h][d]),A=h),h++;if(_===0)throw Error("Cannot calculate inverse, determinant is zero");h=A,h!==d&&(S=g[d],g[d]=g[h],g[h]=S,S=x[d],x[d]=x[h],x[h]=S);var N=g[d],M=x[d];for(h=0;h<c;h++){var E=g[h],T=x[h];if(h!==d){if(E[d]!==0){for(y=t(l(E[d]),N[d]),v=d;v<p;v++)E[v]=a(E[v],s(y,N[v]));for(v=0;v<p;v++)T[v]=a(T[v],s(y,M[v]))}}else{for(y=N[d],v=d;v<p;v++)E[v]=t(E[v],y);for(v=0;v<p;v++)T[v]=t(T[v],y)}}}return x}}}),rs="pinv",Ey=["typed","matrix","inv","deepEqual","equal","dotDivide","dot","ctranspose","divideScalar","multiply","add","Complex"],Ty=L(rs,Ey,n=>{var{typed:r,matrix:e,inv:t,deepEqual:a,equal:s,dotDivide:l,dot:m,ctranspose:f,divideScalar:u,multiply:i,add:o,Complex:c}=n;return r(rs,{"Array | Matrix":function(b){var g=_r(b)?b.size():Tr(b);switch(g.length){case 1:return w(b)?f(b):g[0]===1?t(b):l(f(b),m(b,b));case 2:{if(w(b))return f(b);var x=g[0],d=g[1];if(x===d)try{return t(b)}catch(_){if(!(_ instanceof Error&&_.message.match(/Cannot calculate inverse, determinant is zero/)))throw _}return _r(b)?e(p(b.valueOf(),x,d),b.storage()):p(b,x,d)}default:throw new RangeError("Matrix must be two dimensional (size: "+Er(g)+")")}},any:function(b){return s(b,0)?wr(b):u(1,b)}});function p(S,b,g){var{C:x,F:d}=v(S,b,g),_=i(t(i(f(x),x)),f(x)),A=i(f(d),t(i(d,f(d))));return i(A,_)}function h(S,b,g){for(var x=wr(S),d=0,_=0;_<b;_++){if(g<=d)return x;for(var A=_;y(x[A][d]);)if(A++,b===A&&(A=_,d++,g===d))return x;[x[A],x[_]]=[x[_],x[A]];for(var N=x[_][d],M=0;M<g;M++)x[_][M]=l(x[_][M],N);for(var E=0;E<b;E++)if(E!==_){N=x[E][d];for(var T=0;T<g;T++)x[E][T]=o(x[E][T],i(-1,i(N,x[_][T])))}d++}return x}function v(S,b,g){var x=h(S,b,g),d=S.map((A,N)=>A.filter((M,E)=>E<b&&!y(m(x[E],x[E])))),_=x.filter((A,N)=>!y(m(x[N],x[N])));return{C:d,F:_}}function y(S){return s(o(S,c(1,1)),o(0,c(1,1)))}function w(S){return a(o(S,c(1,1)),o(i(S,0),c(1,1)))}});function Oy(n){var{addScalar:r,subtract:e,flatten:t,multiply:a,multiplyScalar:s,divideScalar:l,sqrt:m,abs:f,bignumber:u,diag:i,size:o,reshape:c,inv:p,qr:h,usolve:v,usolveAll:y,equal:w,complex:S,larger:b,smaller:g,matrixFromColumns:x,dot:d}=n;function _(O,V,C,tr){var rr=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,Z=A(O,V,C,tr,rr);N(O,V,C,tr,rr,Z);var{values:G,C:er}=M(O,V,C,tr,rr);if(rr){var K=E(O,V,er,Z,G,C,tr);return{values:G,eigenvectors:K}}return{values:G}}function A(O,V,C,tr,rr){var Z=tr==="BigNumber",G=tr==="Complex",er=Z?u(0):0,K=Z?u(1):G?S(1):1,W=Z?u(1):1,k=Z?u(10):2,or=s(k,k),lr;rr&&(lr=Array(V).fill(K));for(var vr=!1;!vr;){vr=!0;for(var hr=0;hr<V;hr++){for(var br=er,cr=er,Nr=0;Nr<V;Nr++)hr!==Nr&&(br=r(br,f(O[Nr][hr])),cr=r(cr,f(O[hr][Nr])));if(!w(br,0)&&!w(cr,0)){for(var B=W,U=br,H=l(cr,k),j=s(cr,k);g(U,H);)U=s(U,or),B=s(B,k);for(;b(U,j);)U=l(U,or),B=l(B,k);var ir=g(l(r(U,cr),B),s(r(br,cr),.95));if(ir){vr=!1;for(var ur=l(1,B),fr=0;fr<V;fr++)hr!==fr&&(O[hr][fr]=s(O[hr][fr],ur),O[fr][hr]=s(O[fr][hr],B));rr&&(lr[hr]=s(lr[hr],ur))}}}}return rr?i(lr):null}function N(O,V,C,tr,rr,Z){var G=tr==="BigNumber",er=tr==="Complex",K=G?u(0):er?S(0):0;G&&(C=u(C));for(var W=0;W<V-2;W++){for(var k=0,or=K,lr=W+1;lr<V;lr++){var vr=O[lr][W];g(f(or),f(vr))&&(or=vr,k=lr)}if(!g(f(or),C)){if(k!==W+1){var hr=O[k];O[k]=O[W+1],O[W+1]=hr;for(var br=0;br<V;br++){var cr=O[br][k];O[br][k]=O[br][W+1],O[br][W+1]=cr}if(rr){var Nr=Z[k];Z[k]=Z[W+1],Z[W+1]=Nr}}for(var B=W+2;B<V;B++){var U=l(O[B][W],or);if(U!==0){for(var H=0;H<V;H++)O[B][H]=e(O[B][H],s(U,O[W+1][H]));for(var j=0;j<V;j++)O[j][W+1]=r(O[j][W+1],s(U,O[j][B]));if(rr)for(var ir=0;ir<V;ir++)Z[B][ir]=e(Z[B][ir],s(U,Z[W+1][ir]))}}}}return Z}function M(O,V,C,tr,rr){var Z=tr==="BigNumber",G=tr==="Complex",er=Z?u(1):G?S(1):1;Z&&(C=u(C));for(var K=wr(O),W=[],k=V,or=[],lr=rr?i(Array(V).fill(er)):void 0,vr=rr?i(Array(k).fill(er)):void 0,hr=0;hr<=100;){hr+=1;for(var br=K[k-1][k-1],cr=0;cr<k;cr++)K[cr][cr]=e(K[cr][cr],br);var{Q:Nr,R:B}=h(K);K=a(B,Nr);for(var U=0;U<k;U++)K[U][U]=r(K[U][U],br);if(rr&&(vr=a(vr,Nr)),k===1||g(f(K[k-1][k-2]),C)){hr=0,W.push(K[k-1][k-1]),rr&&(or.unshift([[1]]),R(vr,V),lr=a(lr,vr),k>1&&(vr=i(Array(k-1).fill(er)))),k-=1,K.pop();for(var H=0;H<k;H++)K[H].pop()}else if(k===2||g(f(K[k-2][k-3]),C)){hr=0;var j=T(K[k-2][k-2],K[k-2][k-1],K[k-1][k-2],K[k-1][k-1]);W.push(...j),rr&&(or.unshift(z(K[k-2][k-2],K[k-2][k-1],K[k-1][k-2],K[k-1][k-1],j[0],j[1],C,tr)),R(vr,V),lr=a(lr,vr),k>2&&(vr=i(Array(k-2).fill(er)))),k-=2,K.pop(),K.pop();for(var ir=0;ir<k;ir++)K[ir].pop(),K[ir].pop()}if(k===0)break}if(W.sort((mr,Cr)=>+e(f(mr),f(Cr))),hr>100){var ur=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+W.join(", "));throw ur.values=W,ur.vectors=[],ur}var fr=rr?a(lr,P(or,V)):void 0;return{values:W,C:fr}}function E(O,V,C,tr,rr,Z,G){var er=p(C),K=a(er,O,C),W=G==="BigNumber",k=G==="Complex",or=W?u(0):k?S(0):0,lr=W?u(1):k?S(1):1,vr=[],hr=[];for(var br of rr){var cr=D(vr,br,w);cr===-1?(vr.push(br),hr.push(1)):hr[cr]+=1}for(var Nr=[],B=vr.length,U=Array(V).fill(or),H=i(Array(V).fill(lr)),j=function(){var fr=vr[ir],mr=e(K,a(fr,H)),Cr=y(mr,U);for(Cr.shift();Cr.length<hr[ir];){var Br=q(mr,V,Cr,Z,G);if(Br===null)break;Cr.push(Br)}var Ee=a(p(tr),C);Cr=Cr.map(kr=>a(Ee,kr)),Nr.push(...Cr.map(kr=>({value:fr,vector:t(kr)})))},ir=0;ir<B;ir++)j();return Nr}function T(O,V,C,tr){var rr=r(O,tr),Z=e(s(O,tr),s(V,C)),G=s(rr,.5),er=s(m(e(s(rr,rr),s(4,Z))),.5);return[r(G,er),e(G,er)]}function z(O,V,C,tr,rr,Z,G,er){var K=er==="BigNumber",W=er==="Complex",k=K?u(0):W?S(0):0,or=K?u(1):W?S(1):1;if(g(f(C),G))return[[or,k],[k,or]];if(b(f(e(rr,Z)),G))return[[e(rr,tr),e(Z,tr)],[C,C]];var lr=e(O,rr),vr=e(tr,rr);return g(f(V),G)&&g(f(vr),G)?[[lr,or],[C,k]]:[[V,k],[vr,or]]}function R(O,V){for(var C=0;C<O.length;C++)O[C].push(...Array(V-O[C].length).fill(0));for(var tr=O.length;tr<V;tr++)O.push(Array(V).fill(0)),O[tr][tr]=1;return O}function P(O,V){for(var C=[],tr=0;tr<V;tr++)C[tr]=Array(V).fill(0);var rr=0;for(var Z of O){for(var G=Z.length,er=0;er<G;er++)for(var K=0;K<G;K++)C[rr+er][rr+K]=Z[er][K];rr+=G}return C}function D(O,V,C){for(var tr=0;tr<O.length;tr++)if(C(O[tr],V))return tr;return-1}function q(O,V,C,tr,rr){for(var Z=rr==="BigNumber"?u(1e3):1e3,G,er=0;er<5;++er){G=F(V,C,rr);try{G=v(O,G)}catch{continue}if(b(Y(G),Z))break}if(er>=5)return null;for(er=0;;){var K=v(O,G);if(g(Y($(G,[K])),tr))break;if(++er>=10)return null;G=Q(K)}return G}function F(O,V,C){var tr=C==="BigNumber",rr=C==="Complex",Z=Array(O).fill(0).map(G=>2*Math.random()-1);return tr&&(Z=Z.map(G=>u(G))),rr&&(Z=Z.map(G=>S(G))),Z=$(Z,V),Q(Z,C)}function $(O,V){var C=o(O);for(var tr of V)tr=c(tr,C),O=e(O,a(l(d(tr,O),d(tr,tr)),tr));return O}function Y(O){return f(m(d(O,O)))}function Q(O,V){var C=V==="BigNumber",tr=V==="Complex",rr=C?u(1):tr?S(1):1;return a(l(rr,Y(O)),O)}return _}function Cy(n){var{config:r,addScalar:e,subtract:t,abs:a,atan:s,cos:l,sin:m,multiplyScalar:f,inv:u,bignumber:i,multiply:o,add:c}=n;function p(N,M){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r.relTol,T=arguments.length>3?arguments[3]:void 0,z=arguments.length>4?arguments[4]:void 0;if(T==="number")return h(N,E,z);if(T==="BigNumber")return v(N,E,z);throw TypeError("Unsupported data type: "+T)}function h(N,M,E){var T=N.length,z=Math.abs(M/T),R,P;if(E){P=new Array(T);for(var D=0;D<T;D++)P[D]=Array(T).fill(0),P[D][D]=1}for(var q=d(N);Math.abs(q[1])>=Math.abs(z);){var F=q[0][0],$=q[0][1];R=y(N[F][F],N[$][$],N[F][$]),N=x(N,R,F,$),E&&(P=S(P,R,F,$)),q=d(N)}for(var Y=Array(T).fill(0),Q=0;Q<T;Q++)Y[Q]=N[Q][Q];return A(wr(Y),P,E)}function v(N,M,E){var T=N.length,z=a(M/T),R,P;if(E){P=new Array(T);for(var D=0;D<T;D++)P[D]=Array(T).fill(0),P[D][D]=1}for(var q=_(N);a(q[1])>=a(z);){var F=q[0][0],$=q[0][1];R=w(N[F][F],N[$][$],N[F][$]),N=g(N,R,F,$),E&&(P=b(P,R,F,$)),q=_(N)}for(var Y=Array(T).fill(0),Q=0;Q<T;Q++)Y[Q]=N[Q][Q];return A(wr(Y),P,E)}function y(N,M,E){var T=M-N;return Math.abs(T)<=r.relTol?Math.PI/4:.5*Math.atan(2*E/(M-N))}function w(N,M,E){var T=t(M,N);return a(T)<=r.relTol?i(-1).acos().div(4):f(.5,s(o(2,E,u(T))))}function S(N,M,E,T){for(var z=N.length,R=Math.cos(M),P=Math.sin(M),D=Array(z).fill(0),q=Array(z).fill(0),F=0;F<z;F++)D[F]=R*N[F][E]-P*N[F][T],q[F]=P*N[F][E]+R*N[F][T];for(var $=0;$<z;$++)N[$][E]=D[$],N[$][T]=q[$];return N}function b(N,M,E,T){for(var z=N.length,R=l(M),P=m(M),D=Array(z).fill(i(0)),q=Array(z).fill(i(0)),F=0;F<z;F++)D[F]=t(f(R,N[F][E]),f(P,N[F][T])),q[F]=e(f(P,N[F][E]),f(R,N[F][T]));for(var $=0;$<z;$++)N[$][E]=D[$],N[$][T]=q[$];return N}function g(N,M,E,T){for(var z=N.length,R=i(l(M)),P=i(m(M)),D=f(R,R),q=f(P,P),F=Array(z).fill(i(0)),$=Array(z).fill(i(0)),Y=o(i(2),R,P,N[E][T]),Q=e(t(f(D,N[E][E]),Y),f(q,N[T][T])),O=c(f(q,N[E][E]),Y,f(D,N[T][T])),V=0;V<z;V++)F[V]=t(f(R,N[E][V]),f(P,N[T][V])),$[V]=e(f(P,N[E][V]),f(R,N[T][V]));N[E][E]=Q,N[T][T]=O,N[E][T]=i(0),N[T][E]=i(0);for(var C=0;C<z;C++)C!==E&&C!==T&&(N[E][C]=F[C],N[C][E]=F[C],N[T][C]=$[C],N[C][T]=$[C]);return N}function x(N,M,E,T){for(var z=N.length,R=Math.cos(M),P=Math.sin(M),D=R*R,q=P*P,F=Array(z).fill(0),$=Array(z).fill(0),Y=D*N[E][E]-2*R*P*N[E][T]+q*N[T][T],Q=q*N[E][E]+2*R*P*N[E][T]+D*N[T][T],O=0;O<z;O++)F[O]=R*N[E][O]-P*N[T][O],$[O]=P*N[E][O]+R*N[T][O];N[E][E]=Y,N[T][T]=Q,N[E][T]=0,N[T][E]=0;for(var V=0;V<z;V++)V!==E&&V!==T&&(N[E][V]=F[V],N[V][E]=F[V],N[T][V]=$[V],N[V][T]=$[V]);return N}function d(N){for(var M=N.length,E=0,T=[0,1],z=0;z<M;z++)for(var R=z+1;R<M;R++)Math.abs(E)<Math.abs(N[z][R])&&(E=Math.abs(N[z][R]),T=[z,R]);return[T,E]}function _(N){for(var M=N.length,E=0,T=[0,1],z=0;z<M;z++)for(var R=z+1;R<M;R++)a(E)<a(N[z][R])&&(E=a(N[z][R]),T=[z,R]);return[T,E]}function A(N,M,E){var T=N.length,z=Array(T),R;if(E){R=Array(T);for(var P=0;P<T;P++)R[P]=Array(T)}for(var D=0;D<T;D++){for(var q=0,F=N[0],$=0;$<N.length;$++)a(N[$])<a(F)&&(q=$,F=N[q]);if(z[D]=N.splice(q,1)[0],E)for(var Y=0;Y<T;Y++)R[D][Y]=M[Y][q],M[Y].splice(q,1)}if(!E)return{values:z};var Q=R.map((O,V)=>({value:z[V],vector:O}));return{values:z,eigenvectors:Q}}return p}var By="eigs",zy=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","size","reshape","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],Iy=L(By,zy,n=>{var{config:r,typed:e,matrix:t,addScalar:a,subtract:s,equal:l,abs:m,atan:f,cos:u,sin:i,multiplyScalar:o,divideScalar:c,inv:p,bignumber:h,multiply:v,add:y,larger:w,column:S,flatten:b,number:g,complex:x,sqrt:d,diag:_,size:A,reshape:N,qr:M,usolve:E,usolveAll:T,im:z,re:R,smaller:P,matrixFromColumns:D,dot:q}=n,F=Cy({config:r,addScalar:a,subtract:s,abs:m,atan:f,cos:u,sin:i,multiplyScalar:o,inv:p,bignumber:h,multiply:v,add:y}),$=Oy({addScalar:a,subtract:s,multiply:v,multiplyScalar:o,flatten:b,divideScalar:c,sqrt:d,abs:m,bignumber:h,diag:_,size:A,reshape:N,qr:M,inv:p,usolve:E,usolveAll:T,equal:l,complex:x,larger:w,smaller:P,matrixFromColumns:D,dot:q});return e("eigs",{Array:function(Z){return Y(t(Z))},"Array, number|BigNumber":function(Z,G){return Y(t(Z),{precision:G})},"Array, Object"(rr,Z){return Y(t(rr),Z)},Matrix:function(Z){return Y(Z,{matricize:!0})},"Matrix, number|BigNumber":function(Z,G){return Y(Z,{precision:G,matricize:!0})},"Matrix, Object":function(Z,G){var er={matricize:!0};return Ie(er,G),Y(Z,er)}});function Y(rr){var Z,G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},er="eigenvectors"in G?G.eigenvectors:!0,K=(Z=G.precision)!==null&&Z!==void 0?Z:r.relTol,W=Q(rr,K,er);return G.matricize&&(W.values=t(W.values),er&&(W.eigenvectors=W.eigenvectors.map(k=>{var{value:or,vector:lr}=k;return{value:or,vector:t(lr)}}))),er&&Object.defineProperty(W,"vectors",{enumerable:!1,get:()=>{throw new Error("eigs(M).vectors replaced with eigs(M).eigenvectors")}}),W}function Q(rr,Z,G){var er=rr.toArray(),K=rr.size();if(K.length!==2||K[0]!==K[1])throw new RangeError("Matrix must be square (size: ".concat(Er(K),")"));var W=K[0];if(V(er,W,Z)&&(C(er,W),O(er,W,Z))){var k=tr(rr,er,W);return F(er,W,Z,k,G)}var or=tr(rr,er,W);return $(er,W,Z,or,G)}function O(rr,Z,G){for(var er=0;er<Z;er++)for(var K=er;K<Z;K++)if(w(h(m(s(rr[er][K],rr[K][er]))),G))return!1;return!0}function V(rr,Z,G){for(var er=0;er<Z;er++)for(var K=0;K<Z;K++)if(w(h(m(z(rr[er][K]))),G))return!1;return!0}function C(rr,Z){for(var G=0;G<Z;G++)for(var er=0;er<Z;er++)rr[G][er]=R(rr[G][er])}function tr(rr,Z,G){var er=rr.datatype();if(er==="number"||er==="BigNumber"||er==="Complex")return er;for(var K=!1,W=!1,k=!1,or=0;or<G;or++)for(var lr=0;lr<G;lr++){var vr=Z[or][lr];if(Gr(vr)||Ns(vr))K=!0;else if(Dr(vr))W=!0;else if(Bt(vr))k=!0;else throw TypeError("Unsupported type in Matrix: "+ge(vr))}if(W&&k&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),k){for(var hr=0;hr<G;hr++)for(var br=0;br<G;br++)Z[hr][br]=x(Z[hr][br]);return"Complex"}if(W){for(var cr=0;cr<G;cr++)for(var Nr=0;Nr<G;Nr++)Z[cr][Nr]=h(Z[cr][Nr]);return"BigNumber"}if(K){for(var B=0;B<G;B++)for(var U=0;U<G;U++)Z[B][U]=g(Z[B][U]);return"number"}else throw TypeError("Matrix contains unsupported types only.")}}),es="expm",Ry=["typed","abs","add","identity","inv","multiply"],$y=L(es,Ry,n=>{var{typed:r,abs:e,add:t,identity:a,inv:s,multiply:l}=n;return r(es,{Matrix:function(o){var c=o.size();if(c.length!==2||c[0]!==c[1])throw new RangeError("Matrix must be square (size: "+Er(c)+")");for(var p=c[0],h=1e-15,v=m(o),y=f(v,h),w=y.q,S=y.j,b=l(o,Math.pow(2,-S)),g=a(p),x=a(p),d=1,_=b,A=-1,N=1;N<=w;N++)N>1&&(_=l(_,b),A=-A),d=d*(w-N+1)/((2*w-N+1)*N),g=t(g,l(d,_)),x=t(x,l(d*A,_));for(var M=l(s(x),g),E=0;E<S;E++)M=l(M,M);return Ms(o)?o.createSparseMatrix(M):M}});function m(i){for(var o=i.size()[0],c=0,p=0;p<o;p++){for(var h=0,v=0;v<o;v++)h+=e(i.get([p,v]));c=Math.max(h,c)}return c}function f(i,o){for(var c=30,p=0;p<c;p++)for(var h=0;h<=p;h++){var v=p-h;if(u(i,h,v)<o)return{q:h,j:v}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}function u(i,o,c){for(var p=1,h=2;h<=o;h++)p*=h;for(var v=p,y=o+1;y<=2*o;y++)v*=y;var w=v*(2*o+1);return 8*Math.pow(i/Math.pow(2,c),2*o)*p*p/(v*w)}}),ts="sqrtm",Dy=["typed","abs","add","multiply","map","sqrt","subtract","inv","size","max","identity"],Uy=L(ts,Dy,n=>{var{typed:r,abs:e,add:t,multiply:a,map:s,sqrt:l,subtract:m,inv:f,size:u,max:i,identity:o}=n,c=1e3,p=1e-6;function h(v){var y,w=0,S=v,b=o(u(v));do{var g=S;if(S=a(.5,t(g,f(b))),b=a(.5,t(b,f(g))),y=i(e(m(S,g))),y>p&&++w>c)throw new Error("computing square root of matrix: iterative method could not converge")}while(y>p);return S}return r(ts,{"Array | Matrix":function(y){var w=_r(y)?y.size():Tr(y);switch(w.length){case 1:if(w[0]===1)return s(y,l);throw new RangeError("Matrix must be square (size: "+Er(w)+")");case 2:{var S=w[0],b=w[1];if(S===b)return h(y);throw new RangeError("Matrix must be square (size: "+Er(w)+")")}default:throw new RangeError("Matrix must be at most two dimensional (size: "+Er(w)+")")}}})}),as="sylvester",Fy=["typed","schur","matrixFromColumns","matrix","multiply","range","concat","transpose","index","subset","add","subtract","identity","lusolve","abs"],Py=L(as,Fy,n=>{var{typed:r,schur:e,matrixFromColumns:t,matrix:a,multiply:s,range:l,concat:m,transpose:f,index:u,subset:i,add:o,subtract:c,identity:p,lusolve:h,abs:v}=n;return r(as,{"Matrix, Matrix, Matrix":y,"Array, Matrix, Matrix":function(S,b,g){return y(a(S),b,g)},"Array, Array, Matrix":function(S,b,g){return y(a(S),a(b),g)},"Array, Matrix, Array":function(S,b,g){return y(a(S),b,a(g))},"Matrix, Array, Matrix":function(S,b,g){return y(S,a(b),g)},"Matrix, Array, Array":function(S,b,g){return y(S,a(b),a(g))},"Matrix, Matrix, Array":function(S,b,g){return y(S,b,a(g))},"Array, Array, Array":function(S,b,g){return y(a(S),a(b),a(g)).toArray()}});function y(w,S,b){for(var g=S.size()[0],x=w.size()[0],d=e(w),_=d.T,A=d.U,N=e(s(-1,S)),M=N.T,E=N.U,T=s(s(f(A),b),E),z=l(0,x),R=[],P=(k,or)=>m(k,or,1),D=(k,or)=>m(k,or,0),q=0;q<g;q++)if(q<g-1&&v(i(M,u(q+1,q)))>1e-5){for(var F=D(i(T,u(z,q)),i(T,u(z,q+1))),$=0;$<q;$++)F=o(F,D(s(R[$],i(M,u($,q))),s(R[$],i(M,u($,q+1)))));var Y=s(p(x),s(-1,i(M,u(q,q)))),Q=s(p(x),s(-1,i(M,u(q+1,q)))),O=s(p(x),s(-1,i(M,u(q,q+1)))),V=s(p(x),s(-1,i(M,u(q+1,q+1)))),C=D(P(o(_,Y),Q),P(O,o(_,V))),tr=h(C,F);R[q]=tr.subset(u(l(0,x),0)),R[q+1]=tr.subset(u(l(x,2*x),0)),q++}else{for(var rr=i(T,u(z,q)),Z=0;Z<q;Z++)rr=o(rr,s(R[Z],i(M,u(Z,q))));var G=i(M,u(q,q)),er=c(_,s(G,p(x)));R[q]=h(er,rr)}var K=a(t(...R)),W=s(A,s(K,f(E)));return W}}),ns="schur",qy=["typed","matrix","identity","multiply","qr","norm","subtract"],Ly=L(ns,qy,n=>{var{typed:r,matrix:e,identity:t,multiply:a,qr:s,norm:l,subtract:m}=n;return r(ns,{Array:function(i){var o=f(e(i));return{U:o.U.valueOf(),T:o.T.valueOf()}},Matrix:function(i){return f(i)}});function f(u){var i=u.size()[0],o=u,c=t(i),p=0,h;do{h=o;var v=s(o),y=v.Q,w=v.R;if(o=a(w,y),c=a(c,y),p++>100)break}while(l(m(o,h))>1e-4);return{U:c,T:o}}}),is="lyap",Gy=["typed","matrix","sylvester","multiply","transpose"],Vy=L(is,Gy,n=>{var{typed:r,matrix:e,sylvester:t,multiply:a,transpose:s}=n;return r(is,{"Matrix, Matrix":function(m,f){return t(m,s(m),a(-1,f))},"Array, Matrix":function(m,f){return t(e(m),s(e(m)),a(-1,f))},"Matrix, Array":function(m,f){return t(m,s(e(m)),e(a(-1,f)))},"Array, Array":function(m,f){return t(e(m),s(e(m)),e(a(-1,f))).toArray()}})}),Hy="divide",Yy=["typed","matrix","multiply","equalScalar","divideScalar","inv"],Zy=L(Hy,Yy,n=>{var{typed:r,matrix:e,multiply:t,equalScalar:a,divideScalar:s,inv:l}=n,m=fe({typed:r,equalScalar:a}),f=ke({typed:r});return r("divide",nl({"Array | Matrix, Array | Matrix":function(i,o){return t(i,l(o))},"DenseMatrix, any":function(i,o){return f(i,o,s,!1)},"SparseMatrix, any":function(i,o){return m(i,o,s,!1)},"Array, any":function(i,o){return f(e(i),o,s,!1).valueOf()},"any, Array | Matrix":function(i,o){return t(i,l(o))}},s.signatures))}),os="distance",Qy=["typed","addScalar","subtractScalar","divideScalar","multiplyScalar","deepEqual","sqrt","abs"],Xy=L(os,Qy,n=>{var{typed:r,addScalar:e,subtractScalar:t,multiplyScalar:a,divideScalar:s,deepEqual:l,sqrt:m,abs:f}=n;return r(os,{"Array, Array, Array":function(x,d,_){if(x.length===2&&d.length===2&&_.length===2){if(!i(x))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!i(d))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!i(_))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(l(d,_))throw new TypeError("LinePoint1 should not be same with LinePoint2");var A=t(_[1],d[1]),N=t(d[0],_[0]),M=t(a(_[0],d[1]),a(d[0],_[1]));return y(x[0],x[1],A,N,M)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(x,d,_){if(Object.keys(x).length===2&&Object.keys(d).length===2&&Object.keys(_).length===2){if(!i(x))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!i(d))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!i(_))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if(l(h(d),h(_)))throw new TypeError("LinePoint1 should not be same with LinePoint2");if("pointX"in x&&"pointY"in x&&"lineOnePtX"in d&&"lineOnePtY"in d&&"lineTwoPtX"in _&&"lineTwoPtY"in _){var A=t(_.lineTwoPtY,d.lineOnePtY),N=t(d.lineOnePtX,_.lineTwoPtX),M=t(a(_.lineTwoPtX,d.lineOnePtY),a(d.lineOnePtX,_.lineTwoPtY));return y(x.pointX,x.pointY,A,N,M)}else throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(x,d){if(x.length===2&&d.length===3){if(!i(x))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!o(d))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return y(x[0],x[1],d[0],d[1],d[2])}else if(x.length===3&&d.length===6){if(!o(x))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!p(d))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return w(x[0],x[1],x[2],d[0],d[1],d[2],d[3],d[4],d[5])}else if(x.length===d.length&&x.length>0){if(!c(x))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!c(d))throw new TypeError("All values of an array should be numbers or BigNumbers");return S(x,d)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(x,d){if(Object.keys(x).length===2&&Object.keys(d).length===3){if(!i(x))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!o(d))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in x&&"pointY"in x&&"xCoeffLine"in d&&"yCoeffLine"in d&&"constant"in d)return y(x.pointX,x.pointY,d.xCoeffLine,d.yCoeffLine,d.constant);throw new TypeError("Key names do not match")}else if(Object.keys(x).length===3&&Object.keys(d).length===6){if(!o(x))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!p(d))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in x&&"pointY"in x&&"x0"in d&&"y0"in d&&"z0"in d&&"a"in d&&"b"in d&&"c"in d)return w(x.pointX,x.pointY,x.pointZ,d.x0,d.y0,d.z0,d.a,d.b,d.c);throw new TypeError("Key names do not match")}else if(Object.keys(x).length===2&&Object.keys(d).length===2){if(!i(x))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!i(d))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in x&&"pointOneY"in x&&"pointTwoX"in d&&"pointTwoY"in d)return S([x.pointOneX,x.pointOneY],[d.pointTwoX,d.pointTwoY]);throw new TypeError("Key names do not match")}else if(Object.keys(x).length===3&&Object.keys(d).length===3){if(!o(x))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!o(d))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in x&&"pointOneY"in x&&"pointOneZ"in x&&"pointTwoX"in d&&"pointTwoY"in d&&"pointTwoZ"in d)return S([x.pointOneX,x.pointOneY,x.pointOneZ],[d.pointTwoX,d.pointTwoY,d.pointTwoZ]);throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},Array:function(x){if(!v(x))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return b(x)}});function u(g){return typeof g=="number"||Dr(g)}function i(g){return g.constructor!==Array&&(g=h(g)),u(g[0])&&u(g[1])}function o(g){return g.constructor!==Array&&(g=h(g)),u(g[0])&&u(g[1])&&u(g[2])}function c(g){return Array.isArray(g)||(g=h(g)),g.every(u)}function p(g){return g.constructor!==Array&&(g=h(g)),u(g[0])&&u(g[1])&&u(g[2])&&u(g[3])&&u(g[4])&&u(g[5])}function h(g){for(var x=Object.keys(g),d=[],_=0;_<x.length;_++)d.push(g[x[_]]);return d}function v(g){if(g[0].length===2&&u(g[0][0])&&u(g[0][1])){if(g.some(x=>x.length!==2||!u(x[0])||!u(x[1])))return!1}else if(g[0].length===3&&u(g[0][0])&&u(g[0][1])&&u(g[0][2])){if(g.some(x=>x.length!==3||!u(x[0])||!u(x[1])||!u(x[2])))return!1}else return!1;return!0}function y(g,x,d,_,A){var N=f(e(e(a(d,g),a(_,x)),A)),M=m(e(a(d,d),a(_,_)));return s(N,M)}function w(g,x,d,_,A,N,M,E,T){var z=[t(a(t(A,x),T),a(t(N,d),E)),t(a(t(N,d),M),a(t(_,g),T)),t(a(t(_,g),E),a(t(A,x),M))];z=m(e(e(a(z[0],z[0]),a(z[1],z[1])),a(z[2],z[2])));var R=m(e(e(a(M,M),a(E,E)),a(T,T)));return s(z,R)}function S(g,x){for(var d=g.length,_=0,A=0,N=0;N<d;N++)A=t(g[N],x[N]),_=e(a(A,A),_);return m(_)}function b(g){for(var x=[],d=[],_=[],A=0;A<g.length-1;A++)for(var N=A+1;N<g.length;N++)g[0].length===2?(d=[g[A][0],g[A][1]],_=[g[N][0],g[N][1]]):g[0].length===3&&(d=[g[A][0],g[A][1],g[A][2]],_=[g[N][0],g[N][1],g[N][2]]),x.push(S(d,_));return x}}),Jy="intersect",Ky=["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar","flatten","isZero","isNumeric"],Wy=L(Jy,Ky,n=>{var{typed:r,config:e,abs:t,add:a,addScalar:s,matrix:l,multiply:m,multiplyScalar:f,divideScalar:u,subtract:i,smaller:o,equalScalar:c,flatten:p,isZero:h,isNumeric:v}=n;return r("intersect",{"Array, Array, Array":y,"Array, Array, Array, Array":w,"Matrix, Matrix, Matrix":function(E,T,z){var R=y(E.valueOf(),T.valueOf(),z.valueOf());return R===null?null:l(R)},"Matrix, Matrix, Matrix, Matrix":function(E,T,z,R){var P=w(E.valueOf(),T.valueOf(),z.valueOf(),R.valueOf());return P===null?null:l(P)}});function y(M,E,T){if(M=S(M),E=S(E),T=S(T),!g(M))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!g(E))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!x(T))throw new TypeError("Array with 4 numbers expected as third argument");return N(M[0],M[1],M[2],E[0],E[1],E[2],T[0],T[1],T[2],T[3])}function w(M,E,T,z){if(M=S(M),E=S(E),T=S(T),z=S(z),M.length===2){if(!b(M))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!b(E))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!b(T))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!b(z))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return d(M,E,T,z)}else if(M.length===3){if(!g(M))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!g(E))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!g(T))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!g(z))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return A(M[0],M[1],M[2],E[0],E[1],E[2],T[0],T[1],T[2],z[0],z[1],z[2])}else throw new TypeError("Arrays with two or thee dimensional points expected")}function S(M){return M.length===1?M[0]:M.length>1&&Array.isArray(M[0])&&M.every(E=>Array.isArray(E)&&E.length===1)?p(M):M}function b(M){return M.length===2&&v(M[0])&&v(M[1])}function g(M){return M.length===3&&v(M[0])&&v(M[1])&&v(M[2])}function x(M){return M.length===4&&v(M[0])&&v(M[1])&&v(M[2])&&v(M[3])}function d(M,E,T,z){var R=M,P=T,D=i(R,E),q=i(P,z),F=i(f(D[0],q[1]),f(q[0],D[1]));if(h(F)||o(t(F),e.relTol))return null;var $=f(q[0],R[1]),Y=f(q[1],R[0]),Q=f(q[0],P[1]),O=f(q[1],P[0]),V=u(s(i(i($,Y),Q),O),F);return a(m(D,V),R)}function _(M,E,T,z,R,P,D,q,F,$,Y,Q){var O=f(i(M,E),i(T,z)),V=f(i(R,P),i(D,q)),C=f(i(F,$),i(Y,Q));return s(s(O,V),C)}function A(M,E,T,z,R,P,D,q,F,$,Y,Q){var O=_(M,D,$,D,E,q,Y,q,T,F,Q,F),V=_($,D,z,M,Y,q,R,E,Q,F,P,T),C=_(M,D,z,M,E,q,R,E,T,F,P,T),tr=_($,D,$,D,Y,q,Y,q,Q,F,Q,F),rr=_(z,M,z,M,R,E,R,E,P,T,P,T),Z=i(f(O,V),f(C,tr)),G=i(f(rr,tr),f(V,V));if(h(G))return null;var er=u(Z,G),K=u(s(O,f(er,V)),tr),W=s(M,f(er,i(z,M))),k=s(E,f(er,i(R,E))),or=s(T,f(er,i(P,T))),lr=s(D,f(K,i($,D))),vr=s(q,f(K,i(Y,q))),hr=s(F,f(K,i(Q,F)));return c(W,lr)&&c(k,vr)&&c(or,hr)?[W,k,or]:null}function N(M,E,T,z,R,P,D,q,F,$){var Y=f(M,D),Q=f(z,D),O=f(E,q),V=f(R,q),C=f(T,F),tr=f(P,F),rr=i(i(i($,Y),O),C),Z=i(i(i(s(s(Q,V),tr),Y),O),C),G=u(rr,Z),er=s(M,f(G,i(z,M))),K=s(E,f(G,i(R,E))),W=s(T,f(G,i(P,T)));return[er,K,W]}}),ss="combinations",ky=["typed"],jy=L(ss,ky,n=>{var{typed:r}=n;return r(ss,{"number, number":il,"BigNumber, BigNumber":function(t,a){var s=t.constructor,l,m,f=t.minus(a),u=new s(1);if(!us(t)||!us(a))throw new TypeError("Positive integer value expected in function combinations");if(a.gt(t))throw new TypeError("k must be less than n in function combinations");if(l=u,a.lt(f))for(m=u;m.lte(f);m=m.plus(u))l=l.times(a.plus(m)).dividedBy(m);else for(m=u;m.lte(a);m=m.plus(u))l=l.times(f.plus(m)).dividedBy(m);return l}})});function us(n){return n.isInteger()&&n.gte(0)}var fs="gamma",rb=["typed","config","multiplyScalar","pow","BigNumber","Complex"],eb=L(fs,rb,n=>{var{typed:r,config:e,multiplyScalar:t,pow:a,BigNumber:s,Complex:l}=n;function m(u){if(u.im===0)return bn(u.re);if(u.re<.5){var i=new l(1-u.re,-u.im),o=new l(Math.PI*u.re,Math.PI*u.im);return new l(Math.PI).div(o.sin()).div(m(i))}u=new l(u.re-1,u.im);for(var c=new l(da[0],0),p=1;p<da.length;++p){var h=new l(da[p],0);c=c.add(h.div(u.add(p)))}var v=new l(u.re+ol+.5,u.im),y=Math.sqrt(2*Math.PI),w=v.pow(u.add(.5)),S=v.neg().exp();return c.mul(y).mul(w).mul(S)}return r(fs,{number:bn,Complex:m,BigNumber:function(i){if(i.isInteger())return i.isNegative()||i.isZero()?new s(1/0):f(i.minus(1));if(!i.isFinite())return new s(i.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")}});function f(u){if(u<8)return new s([1,1,2,6,24,120,720,5040][u]);var i=e.precision+(Math.log(u.toNumber())|0),o=s.clone({precision:i});if(u%2===1)return u.times(f(new s(u-1)));for(var c=u,p=new o(u),h=u.toNumber();c>2;)c-=2,h+=c,p=p.times(h);return new s(p.toPrecision(s.precision))}}),ls="lgamma",tb=["Complex","typed"],ab=L(ls,tb,n=>{var{Complex:r,typed:e}=n,t=7,a=7,s=[-.029550653594771242,.00641025641025641,-.0019175269175269176,.0008417508417508417,-.0005952380952380953,.0007936507936507937,-.002777777777777778,.08333333333333333];return e(ls,{number:wn,Complex:l,BigNumber:function(){throw new Error("mathjs doesn't yet provide an implementation of the algorithm lgamma for BigNumber")}});function l(u){var i=6.283185307179586,o=1.1447298858494002,c=.1;if(u.isNaN())return new r(NaN,NaN);if(u.im===0)return new r(wn(u.re),0);if(u.re>=t||Math.abs(u.im)>=a)return m(u);if(u.re<=c){var p=sl(i,u.im)*Math.floor(.5*u.re+.25),h=u.mul(Math.PI).sin().log(),v=l(new r(1-u.re,-u.im));return new r(o,p).sub(h).sub(v)}else return u.im>=0?f(u):f(u.conjugate()).conjugate()}function m(u){for(var i=u.sub(.5).mul(u.log()).sub(u).add(ul),o=new r(1,0).div(u),c=o.div(u),p=s[0],h=s[1],v=2*c.re,y=c.re*c.re+c.im*c.im,w=2;w<8;w++){var S=h;h=-y*p+s[w],p=v*p+S}var b=o.mul(c.mul(p).add(h));return i.add(b)}function f(u){var i=0,o=0,c=u;for(u=u.add(1);u.re<=t;){c=c.mul(u);var p=c.im<0?1:0;p!==0&&o===0&&i++,o=p,u=u.add(1)}return m(u).sub(c.log()).sub(new r(0,i*2*Math.PI*1))}}),vs="kldivergence",nb=["typed","matrix","divide","sum","multiply","map","dotDivide","log","isNumeric"],ib=L(vs,nb,n=>{var{typed:r,matrix:e,divide:t,sum:a,multiply:s,map:l,dotDivide:m,log:f,isNumeric:u}=n;return r(vs,{"Array, Array":function(c,p){return i(e(c),e(p))},"Matrix, Array":function(c,p){return i(c,e(p))},"Array, Matrix":function(c,p){return i(e(c),p)},"Matrix, Matrix":function(c,p){return i(c,p)}});function i(o,c){var p=c.size().length,h=o.size().length;if(p>1)throw new Error("first object must be one dimensional");if(h>1)throw new Error("second object must be one dimensional");if(p!==h)throw new Error("Length of two vectors must be equal");var v=a(o);if(v===0)throw new Error("Sum of elements in first object must be non zero");var y=a(c);if(y===0)throw new Error("Sum of elements in second object must be non zero");var w=t(o,a(o)),S=t(c,a(c)),b=a(s(w,l(m(w,S),g=>f(g))));return u(b)?b:Number.NaN}}),cs="leafCount",ob=["parse","typed"],sb=L(cs,ob,n=>{var{parse:r,typed:e}=n;function t(a){var s=0;return a.forEach(l=>{s+=t(l)}),s||1}return e(cs,{Node:function(s){return t(s)}})}),ms="symbolicEqual",ub=["parse","simplify","typed","OperatorNode"],fb=L(ms,ub,n=>{var{parse:r,simplify:e,typed:t,OperatorNode:a}=n;function s(l,m){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=new a("-","subtract",[l,m]),i=e(u,{},f);return fl(i)&&!i.value}return t(ms,{"Node, Node":s,"Node, Node, Object":s})}),ps="zpk2tf",lb=["typed","add","multiply","Complex","number"],vb=L(ps,lb,n=>{var{typed:r,add:e,multiply:t,Complex:a,number:s}=n;return r(ps,{"Array,Array,number":function(u,i,o){return l(u,i,o)},"Array,Array":function(u,i){return l(u,i,1)},"Matrix,Matrix,number":function(u,i,o){return l(u.valueOf(),i.valueOf(),o)},"Matrix,Matrix":function(u,i){return l(u.valueOf(),i.valueOf(),1)}});function l(f,u,i){f.some(S=>S.type==="BigNumber")&&(f=f.map(S=>s(S))),u.some(S=>S.type==="BigNumber")&&(u=u.map(S=>s(S)));for(var o=[a(1,0)],c=[a(1,0)],p=0;p<f.length;p++){var h=f[p];typeof h=="number"&&(h=a(h,0)),o=m(o,[a(1,0),a(-h.re,-h.im)])}for(var v=0;v<u.length;v++){var y=u[v];typeof y=="number"&&(y=a(y,0)),c=m(c,[a(1,0),a(-y.re,-y.im)])}for(var w=0;w<o.length;w++)o[w]=t(o[w],i);return[o,c]}function m(f,u){for(var i=[],o=0;o<f.length+u.length-1;o++){i[o]=a(0,0);for(var c=0;c<f.length;c++)o-c>=0&&o-c<u.length&&(i[o]=e(i[o],t(f[c],u[o-c])))}return i}}),ds="freqz",cb=["typed","add","multiply","Complex","divide","matrix"],mb=L(ds,cb,n=>{var{typed:r,add:e,multiply:t,Complex:a,divide:s,matrix:l}=n;return r(ds,{"Array, Array":function(i,o){var c=f(512);return m(i,o,c)},"Array, Array, Array":function(i,o,c){return m(i,o,c)},"Array, Array, number":function(i,o,c){if(c<0)throw new Error("w must be a positive number");var p=f(c);return m(i,o,p)},"Matrix, Matrix":function(i,o){var c=f(512),{w:p,h}=m(i.valueOf(),o.valueOf(),c);return{w:l(p),h:l(h)}},"Matrix, Matrix, Matrix":function(i,o,c){var{h:p}=m(i.valueOf(),o.valueOf(),c.valueOf());return{h:l(p),w:l(c)}},"Matrix, Matrix, number":function(i,o,c){if(c<0)throw new Error("w must be a positive number");var p=f(c),{h}=m(i.valueOf(),o.valueOf(),p);return{h:l(h),w:l(p)}}});function m(u,i,o){for(var c=[],p=[],h=0;h<o.length;h++){for(var v=a(0,0),y=a(0,0),w=0;w<u.length;w++)v=e(v,t(u[w],a(Math.cos(-w*o[h]),Math.sin(-w*o[h]))));for(var S=0;S<i.length;S++)y=e(y,t(i[S],a(Math.cos(-S*o[h]),Math.sin(-S*o[h]))));c.push(v),p.push(y)}for(var b=[],g=0;g<c.length;g++)b.push(s(c[g],p[g]));return{h:b,w:o}}function f(u){for(var i=[],o=0;o<u;o++)i.push(o/u*Math.PI);return i}}),pb=gr("speedOfLight","299792458","m s^-1"),db=gr("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),hb=gr("planckConstant","6.62607015e-34","J s"),gb=gr("reducedPlanckConstant","1.0545718176461565e-34","J s"),yb=gr("magneticConstant","1.25663706212e-6","N A^-2"),bb=gr("electricConstant","8.8541878128e-12","F m^-1"),wb=gr("vacuumImpedance","376.730313667","ohm"),xb=gr("coulomb","8.987551792261171e9","N m^2 C^-2"),Nb=gr("coulombConstant","8.987551792261171e9","N m^2 C^-2"),Sb=gr("elementaryCharge","1.602176634e-19","C"),_b=gr("bohrMagneton","9.2740100783e-24","J T^-1"),Mb=gr("conductanceQuantum","7.748091729863649e-5","S"),Ab=gr("inverseConductanceQuantum","12906.403729652257","ohm"),Eb=gr("magneticFluxQuantum","2.0678338484619295e-15","Wb"),Tb=gr("nuclearMagneton","5.0507837461e-27","J T^-1"),Ob=gr("klitzing","25812.807459304513","ohm"),Cb=gr("bohrRadius","5.29177210903e-11","m"),Bb=gr("classicalElectronRadius","2.8179403262e-15","m"),zb=gr("electronMass","9.1093837015e-31","kg"),Ib=gr("fermiCoupling","1.1663787e-5","GeV^-2"),Rb=aa("fineStructure",.0072973525693),$b=gr("hartreeEnergy","4.3597447222071e-18","J"),Db=gr("protonMass","1.67262192369e-27","kg"),Ub=gr("deuteronMass","3.3435830926e-27","kg"),Fb=gr("neutronMass","1.6749271613e-27","kg"),Pb=gr("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),qb=gr("rydberg","10973731.568160","m^-1"),Lb=gr("thomsonCrossSection","6.6524587321e-29","m^2"),Gb=aa("weakMixingAngle",.2229),Vb=aa("efimovFactor",22.7),Hb=gr("atomicMass","1.66053906660e-27","kg"),Yb=gr("avogadro","6.02214076e23","mol^-1"),Zb=gr("boltzmann","1.380649e-23","J K^-1"),Qb=gr("faraday","96485.33212331001","C mol^-1"),Xb=gr("firstRadiation","3.7417718521927573e-16","W m^2"),Jb=gr("loschmidt","2.686780111798444e25","m^-3"),Kb=gr("gasConstant","8.31446261815324","J K^-1 mol^-1"),Wb=gr("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),kb=gr("molarVolume","0.022413969545014137","m^3 mol^-1"),jb=aa("sackurTetrode",-1.16487052358),r1=gr("secondRadiation","0.014387768775039337","m K"),e1=gr("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),t1=gr("wienDisplacement","2.897771955e-3","m K"),a1=gr("molarMass","0.99999999965e-3","kg mol^-1"),n1=gr("molarMassC12","11.9999999958e-3","kg mol^-1"),i1=gr("gravity","9.80665","m s^-2"),o1=gr("planckLength","1.616255e-35","m"),s1=gr("planckMass","2.176435e-8","kg"),u1=gr("planckTime","5.391245e-44","s"),f1=gr("planckCharge","1.87554603778e-18","C"),l1=gr("planckTemperature","1.416785e+32","K");function gr(n,r,e){var t=["config","Unit","BigNumber"];return L(n,t,a=>{var{config:s,Unit:l,BigNumber:m}=a,f=s.number==="BigNumber"?new m(r):parseFloat(r),u=new l(f,e);return u.fixPrefix=!0,u})}function aa(n,r){var e=["config","BigNumber"];return L(n,e,t=>{var{config:a,BigNumber:s}=t;return a.number==="BigNumber"?new s(r):r})}var v1="column",c1=["typed","Index","matrix","range"],m1=L(v1,c1,n=>{var{typed:r,Index:e,matrix:t,range:a}=n,s=Ds({typed:r,Index:e,matrix:t,range:a});return r("column",{"...any":function(m){var f=m.length-1,u=m[f];Gr(u)&&(m[f]=u-1);try{return s.apply(null,m)}catch(i){throw $t(i)}}})},{isTransformFunction:!0}),p1="index",d1=["Index","getMatrixDataType"],h1=L(p1,d1,n=>{var{Index:r,getMatrixDataType:e}=n;return function(){for(var a=[],s=0,l=arguments.length;s<l;s++){var m=arguments[s];if(As(m))m.start--,m.end-=m.step>0?0:2;else if(m&&m.isSet===!0)m=m.map(function(u){return u-1});else if(Ur(m)||_r(m))e(m)!=="boolean"&&(m=m.map(function(u){return u-1}));else if(Gr(m)||ll(m))m--;else if(Dr(m))m=m.toNumber()-1;else if(typeof m!="string")throw new TypeError("Dimension must be an Array, Matrix, number, bigint, string, or Range");a[s]=m}var f=new r;return r.apply(f,a),f}},{isTransformFunction:!0}),g1="row",y1=["typed","Index","matrix","range"],b1=L(g1,y1,n=>{var{typed:r,Index:e,matrix:t,range:a}=n,s=Fs({typed:r,Index:e,matrix:t,range:a});return r("row",{"...any":function(m){var f=m.length-1,u=m[f];Gr(u)&&(m[f]=u-1);try{return s.apply(null,m)}catch(i){throw $t(i)}}})},{isTransformFunction:!0}),w1="subset",x1=["typed","matrix","zeros","add"],N1=L(w1,x1,n=>{var{typed:r,matrix:e,zeros:t,add:a}=n,s=Ps({typed:r,matrix:e,zeros:t,add:a});return r("subset",{"...any":function(m){try{return s.apply(null,m)}catch(f){throw $t(f)}}})},{isTransformFunction:!0}),S1="concat",_1=["typed","matrix","isInteger"],M1=L(S1,_1,n=>{var{typed:r,matrix:e,isInteger:t}=n,a=$s({typed:r,matrix:e,isInteger:t});return r("concat",{"...any":function(l){var m=l.length-1,f=l[m];Gr(f)?l[m]=f-1:Dr(f)&&(l[m]=f.minus(1));try{return a.apply(null,l)}catch(u){throw $t(u)}}})},{isTransformFunction:!0}),hs="diff",A1=["typed","matrix","subtract","number","bignumber"],E1=L(hs,A1,n=>{var{typed:r,matrix:e,subtract:t,number:a,bignumber:s}=n,l=Us({typed:r,matrix:e,subtract:t,number:a,bignumber:s});return r(hs,{"...any":function(f){f=Es(f);try{return l.apply(null,f)}catch(u){throw $t(u)}}})},{isTransformFunction:!0}),T1="quantileSeq",O1=["typed","bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger","mapSlices"],C1=L(T1,O1,n=>{var{typed:r,bignumber:e,add:t,subtract:a,divide:s,multiply:l,partitionSelect:m,compare:f,isInteger:u,smaller:i,smallerEq:o,larger:c,mapSlices:p}=n,h=Ts({typed:r,bignumber:e,add:t,subtract:a,divide:s,multiply:l,partitionSelect:m,compare:f,isInteger:u,smaller:i,smallerEq:o,larger:c,mapSlices:p});return r("quantileSeq",{"Array | Matrix, number | BigNumber":h,"Array | Matrix, number | BigNumber, number":(y,w,S)=>h(y,w,v(S)),"Array | Matrix, number | BigNumber, boolean":h,"Array | Matrix, number | BigNumber, boolean, number":(y,w,S,b)=>h(y,w,S,v(b)),"Array | Matrix, Array | Matrix":h,"Array | Matrix, Array | Matrix, number":(y,w,S)=>h(y,w,v(S)),"Array | Matrix, Array | Matrix, boolean":h,"Array | Matrix, Array | Matrix, boolean, number":(y,w,S,b)=>h(y,w,S,v(b))});function v(y){return Es([[],y])[1]}},{isTransformFunction:!0}),gs="print",B1=["typed","matrix","zeros","add"],z1=L(gs,B1,n=>{var{typed:r,matrix:e,zeros:t,add:a}=n,s=Os({typed:r,matrix:e,zeros:t,add:a});return r(gs,{"string, Object | Array":function(f,u){return s(l(f),u)},"string, Object | Array, number | Object":function(f,u,i){return s(l(f),u,i)}});function l(m){return m.replace(vl,f=>{var u=f.slice(1).split("."),i=u.map(function(o){return!isNaN(o)&&o.length>0?parseInt(o)-1:o});return"$"+i.join(".")})}},{isTransformFunction:!0}),I1="and",R1=["typed","matrix","zeros","add","equalScalar","not","concat"],$1=L(I1,R1,n=>{var{typed:r,matrix:e,equalScalar:t,zeros:a,not:s,concat:l}=n,m=qs({typed:r,matrix:e,equalScalar:t,zeros:a,not:s,concat:l});function f(u,i,o){var c=u[0].compile().evaluate(o);if(!bt(c)&&!m(c,!0))return!1;var p=u[1].compile().evaluate(o);return m(c,p)}return f.rawArgs=!0,f},{isTransformFunction:!0}),D1="or",U1=["typed","matrix","equalScalar","DenseMatrix","concat"],F1=L(D1,U1,n=>{var{typed:r,matrix:e,equalScalar:t,DenseMatrix:a,concat:s}=n,l=Rs({typed:r,matrix:e,equalScalar:t,DenseMatrix:a,concat:s});function m(f,u,i){var o=f[0].compile().evaluate(i);if(!bt(o)&&l(o,!1))return!0;var c=f[1].compile().evaluate(i);return l(o,c)}return m.rawArgs=!0,m},{isTransformFunction:!0}),P1="bitAnd",q1=["typed","matrix","zeros","add","equalScalar","not","concat"],L1=L(P1,q1,n=>{var{typed:r,matrix:e,equalScalar:t,zeros:a,not:s,concat:l}=n,m=zs({typed:r,matrix:e,equalScalar:t,zeros:a,not:s,concat:l});function f(u,i,o){var c=u[0].compile().evaluate(o);if(!bt(c)){if(isNaN(c))return NaN;if(c===0||c===!1)return 0}var p=u[1].compile().evaluate(o);return m(c,p)}return f.rawArgs=!0,f},{isTransformFunction:!0}),G1="bitOr",V1=["typed","matrix","equalScalar","DenseMatrix","concat"],H1=L(G1,V1,n=>{var{typed:r,matrix:e,equalScalar:t,DenseMatrix:a,concat:s}=n,l=Is({typed:r,matrix:e,equalScalar:t,DenseMatrix:a,concat:s});function m(f,u,i){var o=f[0].compile().evaluate(i);if(!bt(o)){if(isNaN(o))return NaN;if(o===-1)return-1;if(o===!0)return 1}var c=f[1].compile().evaluate(i);return l(o,c)}return m.rawArgs=!0,m},{isTransformFunction:!0}),nr=Oc({config:J}),zr=Rc({}),ys=_v({BigNumber:nr,config:J}),Y1=$v({}),Z1=Rb({BigNumber:nr,config:J}),et=Gc({}),Vs=Rv({Complex:zr}),Q1=Iv({BigNumber:nr,config:J}),X1=zv({BigNumber:nr,config:J}),J1=Bv({BigNumber:nr,config:J}),na=Yc({}),K1=Cv({BigNumber:nr,config:J}),W1=Ov({}),k1=Tv({BigNumber:nr,config:J}),j1=Dv({}),Hs=bl({}),rw=Ev({BigNumber:nr,config:J}),ew=jb({BigNumber:nr,config:J}),Ys=Av({BigNumber:nr,config:J}),tw=Mv({}),aw=Sv({}),yr=Xc({Matrix:na}),nw=Vb({BigNumber:nr,config:J}),iw=Nv({BigNumber:nr,config:J}),Sa=wv({BigNumber:nr,config:J}),Zs=ml({}),ow=xv({BigNumber:nr,config:J}),I=cl({BigNumber:nr,Complex:zr,DenseMatrix:yr,Fraction:et}),sw=Gb({BigNumber:nr,config:J}),le=zm({typed:I}),uw=hg({Complex:zr,config:J,typed:I}),fw=wg({BigNumber:nr,typed:I}),lw=_g({BigNumber:nr,Complex:zr,config:J,typed:I}),Xr=Rm({typed:I}),vw=Xp({typed:I}),cw=Cg({BigNumber:nr,Complex:zr,config:J,typed:I}),mw=$g({typed:I}),Qs=Fg({typed:I}),pw=Gg({Complex:zr,config:J,typed:I}),dw=bv({typed:I}),hw=Vp({typed:I}),gw=yv({typed:I}),yw=gv({typed:I}),ia=jy({typed:I}),oa=mm({Complex:zr,typed:I}),tt=Kp({typed:I}),Ra=Hg({typed:I}),bw=Xg({BigNumber:nr,typed:I}),ww=kg({BigNumber:nr,typed:I}),xw=qm({typed:I}),xr=hl({config:J,typed:I}),Nw=hv({typed:I}),Xs=Gm({typed:I}),Sw=Hm({Complex:zr,typed:I}),_w=dv({typed:I}),Ut=dd({typed:I}),Mw=pv({typed:I}),Ft=xl({typed:I}),$a=gd({typed:I}),Aw=sh({format:Ft,typed:I}),Da=kp({typed:I}),ce=Kc({typed:I}),He=kc({config:J,typed:I}),at=rm({config:J,typed:I}),Te=tm({equalScalar:xr,typed:I}),Ew=mv({BigNumber:nr,config:J}),Tw=ab({Complex:zr,typed:I}),Ow=fp({Complex:zr,config:J,typed:I}),Ua=vp({Complex:zr,config:J,typed:I}),nt=cv({typed:I}),Hr=pp({typed:I}),ra=td({typed:I}),De=yl({typed:I}),Cw=ih({format:Ft,typed:I}),Bw=vv({config:J,typed:I}),zw=Os({typed:I}),Iw=lv({config:J,typed:I}),Fa=rd({typed:I}),Rw=t0({BigNumber:nr,typed:I}),Js=wp({BigNumber:nr,Fraction:et,complex:oa,typed:I}),sa=o0({typed:I}),Jr=sm({Matrix:na,equalScalar:xr,typed:I}),$w=Am({typed:I}),Dw=Mp({typed:I}),Uw=fv({typed:I}),be=Dm({typed:I}),Fw=l0({typed:I}),Ks=vh({typed:I}),Pa=uv({typed:I}),Pw=yg({Complex:zr,config:J,typed:I}),qw=Ag({BigNumber:nr,typed:I}),Lw=Tg({BigNumber:nr,Complex:zr,config:J,typed:I}),me=lm({BigNumber:nr,typed:I}),Gw=sv({typed:I}),Vw=Zg({typed:I}),Hw=r0({BigNumber:nr,typed:I}),Re=nm({typed:I}),Yw=ov({typed:I}),Rt=iv({isInteger:ce,typed:I}),ar=ym({DenseMatrix:yr,Matrix:na,SparseMatrix:Jr,typed:I}),Zw=wm({isZero:Te,matrix:ar,typed:I}),Qw=Md({BigNumber:nr,config:J,matrix:ar,typed:I}),Xw=nv({config:J,log2:Ua,typed:I}),Ws=Ed({isInteger:ce,matrix:ar,typed:I}),Jw=n0({BigNumber:nr,typed:I}),Kw=u0({typed:I}),Ww=cg({SparseMatrix:Jr,typed:I}),_e=Sp({Complex:zr,config:J,typed:I}),kw=Ud({typed:I}),jw=m0({typed:I}),Pt=Vd({matrix:ar,typed:I}),ks=Op({BigNumber:nr,config:J,matrix:ar,typed:I}),jr=Qd({BigNumber:nr,config:J,matrix:ar,typed:I}),rx=Ng({BigNumber:nr,Complex:zr,config:J,typed:I}),ex=zg({Complex:zr,config:J,typed:I}),tx=ah({format:Ft,typed:I}),Ar=$s({isInteger:ce,matrix:ar,typed:I}),ax=Kg({BigNumber:nr,typed:I}),qa=Yd({conj:tt,transpose:Pt,typed:I}),js=md({DenseMatrix:yr,SparseMatrix:Jr,matrix:ar,typed:I}),nx=$p({concat:Ar,equalScalar:xr,matrix:ar,multiplyScalar:Hr,typed:I}),we=pl({DenseMatrix:yr,SparseMatrix:Jr,concat:Ar,equalScalar:xr,matrix:ar,typed:I}),qt=hm({Fraction:et,typed:I}),Ye=bd({BigNumber:nr,DenseMatrix:yr,SparseMatrix:Jr,config:J,matrix:ar,typed:I}),it=wl({typed:I}),ix=xd({matrix:ar,multiplyScalar:Hr,typed:I}),ua=av({DenseMatrix:yr,SparseMatrix:Jr,concat:Ar,config:J,matrix:ar,typed:I}),ox=qh({DenseMatrix:yr,concat:Ar,equalScalar:xr,matrix:ar,typed:I,zeros:jr}),sx=tv({isNaN:Re,isNumeric:it,typed:I}),ux=yp({BigNumber:nr,concat:Ar,equalScalar:xr,matrix:ar,typed:I}),ye=dl({bignumber:me,fraction:qt,number:De}),ru=ev({config:J,multiplyScalar:Hr,numeric:ye,typed:I}),fx=Cd({config:J,matrix:ar}),lx=Gh({DenseMatrix:yr,concat:Ar,equalScalar:xr,matrix:ar,typed:I,zeros:jr}),xt=gh({BigNumber:nr,DenseMatrix:yr,config:J,equalScalar:xr,matrix:ar,typed:I,zeros:jr}),ee=gl({matrix:ar,config:J,typed:I}),se=rv({DenseMatrix:yr,SparseMatrix:Jr,bignumber:me,concat:Ar,config:J,matrix:ar,typed:I}),vx=fh({concat:Ar,matrix:ar,typed:I}),Oe=Tm({typed:I}),cx=jl({DenseMatrix:yr,SparseMatrix:Jr,concat:Ar,config:J,equalScalar:xr,matrix:ar,typed:I}),mx=id({DenseMatrix:yr,SparseMatrix:Jr,concat:Ar,matrix:ar,typed:I}),Mr=$0({DenseMatrix:yr,SparseMatrix:Jr,addScalar:Xr,concat:Ar,equalScalar:xr,matrix:ar,typed:I}),px=qg({BigNumber:nr,DenseMatrix:yr,concat:Ar,equalScalar:xr,matrix:ar,typed:I}),dx=zs({concat:Ar,equalScalar:xr,matrix:ar,typed:I}),hx=Is({DenseMatrix:yr,concat:Ar,equalScalar:xr,matrix:ar,typed:I}),gx=Zp({DenseMatrix:yr,SparseMatrix:Jr,concat:Ar,matrix:ar,typed:I}),eu=Fm({BigNumber:nr,Complex:zr,Fraction:et,config:J,isNegative:He,matrix:ar,typed:I,unaryMinus:Oe}),ot=kl({BigNumber:nr,DenseMatrix:yr,Fraction:et,concat:Ar,config:J,equalScalar:xr,matrix:ar,typed:I}),tu=Wl({concat:Ar,matrix:ar,typed:I}),yx=fd({prod:ru,size:ee,typed:I}),La=Kl({equal:we,typed:I}),qr=mh({numeric:ye,typed:I}),Lt=Th({DenseMatrix:yr,SparseMatrix:Jr,concat:Ar,divideScalar:qr,equalScalar:xr,matrix:ar,typed:I}),bx=Jl({compareText:tu,isZero:Te,typed:I}),au=Ss({DenseMatrix:yr,config:J,equalScalar:xr,matrix:ar,round:xt,typed:I,zeros:jr}),wx=tp({BigNumber:nr,DenseMatrix:yr,concat:Ar,config:J,equalScalar:xr,matrix:ar,round:xt,typed:I,zeros:jr}),xx=Xl({isNumeric:it,typed:I}),Nx=Ql({abs:le,addScalar:Xr,divideScalar:qr,isPositive:at,multiplyScalar:Hr,smaller:se,sqrt:_e,typed:I}),nu=Kh({DenseMatrix:yr,smaller:se}),ie=jh({ImmutableDenseMatrix:nu,getMatrixDataType:$a}),ue=Zl({DenseMatrix:yr,SparseMatrix:Jr,bignumber:me,concat:Ar,config:J,matrix:ar,typed:I}),Ga=wh({Complex:zr,config:J,divideScalar:qr,typeOf:Pa,typed:I}),iu=Ch({DenseMatrix:yr,divideScalar:qr,equalScalar:xr,matrix:ar,multiplyScalar:Hr,subtractScalar:be,typed:I}),Va=_m({flatten:Ut,matrix:ar,size:ee,typed:I}),Ha=Yl({config:J,isNaN:Re,larger:ue,numeric:ye,typed:I}),Sx=Hl({config:J,isNaN:Re,numeric:ye,smaller:se,typed:I}),ou=Cs({DenseMatrix:yr,concat:Ar,config:J,equalScalar:xr,matrix:ar,round:xt,typed:I,zeros:jr}),_x=_h({Complex:zr,config:J,divideScalar:qr,typed:I}),Mx=Rs({DenseMatrix:yr,concat:Ar,equalScalar:xr,matrix:ar,typed:I}),fa=Vl({compare:ot,isNaN:Re,isNumeric:it,typed:I}),Ya=X0({addScalar:Xr,complex:oa,conj:tt,divideScalar:qr,equal:we,identity:Ye,isZero:Te,matrix:ar,multiplyScalar:Hr,sign:Js,sqrt:_e,subtractScalar:be,typed:I,unaryMinus:Oe,zeros:jr}),Ax=Hh({DenseMatrix:yr,concat:Ar,equalScalar:xr,matrix:ar,typed:I,zeros:jr}),gt=Gl({DenseMatrix:yr,SparseMatrix:Jr,concat:Ar,config:J,matrix:ar,typed:I}),pe=Ps({add:Mr,matrix:ar,typed:I,zeros:jr}),Yr=Ep({DenseMatrix:yr,concat:Ar,equalScalar:xr,matrix:ar,subtractScalar:be,typed:I,unaryMinus:Oe}),Ex=G0({add:Mr,matrix:ar,typed:I}),Za=zh({DenseMatrix:yr,divideScalar:qr,equalScalar:xr,matrix:ar,multiplyScalar:Hr,subtractScalar:be,typed:I}),Tx=Ll({addScalar:Xr,combinations:ia,divideScalar:qr,isInteger:ce,isNegative:He,multiplyScalar:Hr,typed:I}),Ce=ql({compare:ot,typed:I}),Ox=Pl({addScalar:Xr,combinations:ia,isInteger:ce,isNegative:He,isPositive:at,larger:ue,typed:I}),Cx=Us({matrix:ar,number:De,subtract:Yr,typed:I}),Bx=Xy({abs:le,addScalar:Xr,deepEqual:La,divideScalar:qr,multiplyScalar:Hr,sqrt:_e,subtractScalar:be,typed:I}),la=P0({addScalar:Xr,conj:tt,multiplyScalar:Hr,size:ee,typed:I}),su=tg({larger:ue,smaller:se}),uu=H0({Index:ie,typed:I}),zx=Bp({BigNumber:nr,add:Mr,config:J,equal:we,isInteger:ce,mod:ou,smaller:se,typed:I,xgcd:ks}),Ix=op({concat:Ar,equalScalar:xr,matrix:ar,typed:I}),Rx=Nh({Complex:zr,config:J,divideScalar:qr,log:Ga,typed:I}),$x=Rh({DenseMatrix:yr,divideScalar:qr,equalScalar:xr,matrix:ar,multiplyScalar:Hr,subtractScalar:be,typed:I}),Dx=Nm({flatten:Ut,matrix:ar,size:ee,typed:I}),Or=hp({addScalar:Xr,dot:la,equalScalar:xr,matrix:ar,multiplyScalar:Hr,typed:I}),yt=Fl({bignumber:me,matrix:ar,add:Mr,config:J,isPositive:at,larger:ue,largerEq:ua,smaller:se,smallerEq:gt,typed:I}),Ux=Fs({Index:ie,matrix:ar,range:yt,typed:I}),Fx=d0({DenseMatrix:yr,Index:ie,compareNatural:Ce,size:ee,subset:pe,typed:I}),Px=b0({DenseMatrix:yr,Index:ie,compareNatural:Ce,size:ee,subset:pe,typed:I}),qx=S0({Index:ie,compareNatural:Ce,size:ee,subset:pe,typed:I}),Lx=E0({Index:ie,compareNatural:Ce,size:ee,subset:pe,typed:I}),fu=yy({SparseMatrix:Jr,abs:le,add:Mr,divideScalar:qr,larger:ue,largerEq:ua,multiply:Or,subtract:Yr,transpose:Pt,typed:I}),Gx=Qh({compare:ot,compareNatural:Ce,matrix:ar,typed:I}),Qa=Cm({config:J,numeric:ye,typed:I}),lu=Dh({DenseMatrix:yr,divideScalar:qr,equalScalar:xr,matrix:ar,multiplyScalar:Hr,subtractScalar:be,typed:I}),Vx=vb({Complex:zr,add:Mr,multiply:Or,number:De,typed:I}),Hx=qs({concat:Ar,equalScalar:xr,matrix:ar,not:ra,typed:I,zeros:jr}),Xa=Sl({DenseMatrix:yr,config:J,equalScalar:xr,matrix:ar,round:xt,typed:I,zeros:jr}),vu=Ds({Index:ie,matrix:ar,range:yt,typed:I}),Yx=vd({matrix:ar,multiply:Or,subtract:Yr,typed:I}),cu=_y({divideScalar:qr,isZero:Te,matrix:ar,multiply:Or,subtractScalar:be,typed:I,unaryMinus:Oe}),mu=Nl({Complex:zr,DenseMatrix:yr,ceil:Xa,equalScalar:xr,floor:au,matrix:ar,typed:I,zeros:jr}),st=Ay({abs:le,addScalar:Xr,det:cu,divideScalar:qr,identity:Ye,matrix:ar,multiply:Or,typed:I,unaryMinus:Oe}),Zx=Ty({Complex:zr,add:Mr,ctranspose:qa,deepEqual:La,divideScalar:qr,dot:la,dotDivide:Lt,equal:we,inv:st,matrix:ar,multiply:Or,typed:I}),Me=dh({Complex:zr,config:J,fraction:qt,identity:Ye,inv:st,matrix:ar,multiply:Or,number:De,typed:I}),pu=g0({DenseMatrix:yr,Index:ie,compareNatural:Ce,size:ee,subset:pe,typed:I}),Qx=M0({Index:ie,compareNatural:Ce,size:ee,subset:pe,typed:I}),du=B0({Index:ie,concat:Ar,setDifference:pu,size:ee,subset:pe,typed:I}),hu=ig({FibonacciHeap:su,addScalar:Xr,equalScalar:xr}),Xx=Uy({abs:le,add:Mr,identity:Ye,inv:st,map:nt,max:Ha,multiply:Or,size:ee,sqrt:_e,subtract:Yr,typed:I}),Ja=Ul({add:Mr,config:J,numeric:ye,typed:I}),dr=ug({BigNumber:nr,Complex:zr,Fraction:et,abs:le,addScalar:Xr,config:J,divideScalar:qr,equal:we,fix:mu,format:Ft,isNumeric:it,multiplyScalar:Hr,number:De,pow:Me,round:xt,subtractScalar:be,toBest:Ks}),Jx=wb({BigNumber:nr,Unit:dr,config:J}),Kx=t1({BigNumber:nr,Unit:dr,config:J}),Wx=Hb({BigNumber:nr,Unit:dr,config:J}),kx=_b({BigNumber:nr,Unit:dr,config:J}),jx=Zb({BigNumber:nr,Unit:dr,config:J}),rN=Mb({BigNumber:nr,Unit:dr,config:J}),eN=xb({BigNumber:nr,Unit:dr,config:J}),tN=pg({Unit:dr,typed:I}),aN=Ub({BigNumber:nr,Unit:dr,config:J}),nN=Ah({DenseMatrix:yr,SparseMatrix:Jr,concat:Ar,equalScalar:xr,matrix:ar,pow:Me,typed:I}),iN=bb({BigNumber:nr,Unit:dr,config:J}),oN=Sb({BigNumber:nr,Unit:dr,config:J}),sN=$y({abs:le,add:Mr,identity:Ye,inv:st,multiply:Or,typed:I}),uN=Qb({BigNumber:nr,Unit:dr,config:J}),gu=Jd({addScalar:Xr,ceil:Xa,conj:tt,divideScalar:qr,dotDivide:Lt,exp:Xs,i:Vs,log2:Ua,matrix:ar,multiplyScalar:Hr,pow:Me,tau:Ys,typed:I}),Ka=eb({BigNumber:nr,Complex:zr,config:J,multiplyScalar:Hr,pow:Me,typed:I}),fN=db({BigNumber:nr,Unit:dr,config:J}),lN=$b({BigNumber:nr,Unit:dr,config:J}),vN=Wd({conj:tt,dotDivide:Lt,fft:gu,typed:I}),cN=Ab({BigNumber:nr,Unit:dr,config:J}),mN=Ob({BigNumber:nr,Unit:dr,config:J}),pN=Jb({BigNumber:nr,Unit:dr,config:J}),dN=yb({BigNumber:nr,Unit:dr,config:J}),hN=a1({BigNumber:nr,Unit:dr,config:J}),gN=Wb({BigNumber:nr,Unit:dr,config:J}),yN=Fb({BigNumber:nr,Unit:dr,config:J}),bN=Tb({BigNumber:nr,Unit:dr,config:J}),wN=f1({BigNumber:nr,Unit:dr,config:J}),xN=o1({BigNumber:nr,Unit:dr,config:J}),NN=l1({BigNumber:nr,Unit:dr,config:J}),SN=Db({BigNumber:nr,Unit:dr,config:J}),_N=Pb({BigNumber:nr,Unit:dr,config:J}),MN=gb({BigNumber:nr,Unit:dr,config:J}),AN=qb({BigNumber:nr,Unit:dr,config:J}),EN=r1({BigNumber:nr,Unit:dr,config:J}),TN=O0({compareNatural:Ce,typed:I}),ON=pb({BigNumber:nr,Unit:dr,config:J}),CN=e1({BigNumber:nr,Unit:dr,config:J}),BN=Lb({BigNumber:nr,Unit:dr,config:J}),zN=Yb({BigNumber:nr,Unit:dr,config:J}),IN=Cb({BigNumber:nr,Unit:dr,config:J}),RN=Nb({BigNumber:nr,Unit:dr,config:J}),re=Zy({divideScalar:qr,equalScalar:xr,inv:st,matrix:ar,multiply:Or,typed:I}),$N=zb({BigNumber:nr,Unit:dr,config:J}),Gt=Dl({gamma:Ka,typed:I}),DN=Xb({BigNumber:nr,Unit:dr,config:J}),UN=i1({BigNumber:nr,Unit:dr,config:J}),FN=Wy({abs:le,add:Mr,addScalar:Xr,config:J,divideScalar:qr,equalScalar:xr,flatten:Ut,isNumeric:it,isZero:Te,matrix:ar,multiply:Or,multiplyScalar:Hr,smaller:se,subtract:Yr,typed:I}),yu=Z0({DenseMatrix:yr,Spa:hu,SparseMatrix:Jr,abs:le,addScalar:Xr,divideScalar:qr,equalScalar:xr,larger:ue,matrix:ar,multiplyScalar:Hr,subtractScalar:be,typed:I,unaryMinus:Oe}),PN=Eb({BigNumber:nr,Unit:dr,config:J}),qN=n1({BigNumber:nr,Unit:dr,config:J}),LN=$l({add:Mr,divide:re,factorial:Gt,isInteger:ce,isPositive:at,multiply:Or,typed:I}),GN=Rl({factorial:Gt,typed:I}),VN=s1({BigNumber:nr,Unit:dr,config:J}),HN=Ny({add:Mr,cbrt:eu,divide:re,equalScalar:xr,im:Da,isZero:Te,multiply:Or,re:Fa,sqrt:_e,subtract:Yr,typeOf:Pa,typed:I,unaryMinus:Oe}),bu=x0({DenseMatrix:yr,Index:ie,compareNatural:Ce,size:ee,subset:pe,typed:I}),YN=eh({abs:le,add:Mr,bignumber:me,divide:re,isNegative:He,isPositive:at,larger:ue,map:nt,matrix:ar,max:Ha,multiply:Or,smaller:se,subtract:Yr,typed:I,unaryMinus:Oe}),wu=Il({bignumber:me,addScalar:Xr,combinations:ia,divideScalar:qr,factorial:Gt,isInteger:ce,isNegative:He,larger:ue,multiplyScalar:Hr,number:De,pow:Me,subtractScalar:be,typed:I}),ZN=lg({Unit:dr,typed:I}),QN=zl({addScalar:Xr,isInteger:ce,isNegative:He,stirlingS2:wu,typed:I}),XN=Bl({add:Mr,typed:I,unaryPlus:Qa}),xu=Iy({abs:le,add:Mr,addScalar:Xr,atan:Qs,bignumber:me,column:vu,complex:oa,config:J,cos:Ra,diag:js,divideScalar:qr,dot:la,equal:we,flatten:Ut,im:Da,inv:st,larger:ue,matrix:ar,matrixFromColumns:Va,multiply:Or,multiplyScalar:Hr,number:De,qr:Ya,re:Fa,reshape:Ws,sin:sa,size:ee,smaller:se,sqrt:_e,subtract:Yr,typed:I,usolve:Za,usolveAll:lu}),JN=Ib({BigNumber:nr,Unit:dr,config:J}),KN=Kb({BigNumber:nr,Unit:dr,config:J}),WN=ib({divide:re,dotDivide:Lt,isNumeric:it,log:Ga,map:nt,matrix:ar,multiply:Or,sum:Ja,typed:I}),Nu=wy({DenseMatrix:yr,lsolve:iu,lup:yu,matrix:ar,slu:fu,typed:I,usolve:Za}),Su=Cl({add:Mr,divide:re,typed:I}),kN=kb({BigNumber:nr,Unit:dr,config:J}),jN=hb({BigNumber:nr,Unit:dr,config:J}),rS=Ts({bignumber:me,add:Mr,compare:ot,divide:re,isInteger:ce,larger:ue,mapSlices:Rt,multiply:Or,partitionSelect:fa,smaller:se,smallerEq:gt,subtract:Yr,typed:I}),eS=I0({Index:ie,concat:Ar,setIntersect:bu,setSymDifference:du,size:ee,subset:pe,typed:I}),Wa=Ol({add:Mr,divide:re,isNaN:Re,mapSlices:Rt,multiply:Or,subtract:Yr,typed:I}),tS=Bb({BigNumber:nr,Unit:dr,config:J}),_u=Tl({add:Mr,compare:ot,divide:re,partitionSelect:fa,typed:I}),aS=El({add:Mr,divide:re,matrix:ar,mean:Su,multiply:Or,pow:Me,sqrt:_e,subtract:Yr,sum:Ja,typed:I}),nS=mb({Complex:zr,add:Mr,divide:re,matrix:ar,multiply:Or,typed:I}),iS=Al({abs:le,map:nt,median:_u,subtract:Yr,typed:I}),oS=Ml({map:nt,sqrt:_e,typed:I,variance:Wa}),sS=_l({BigNumber:nr,Complex:zr,add:Mr,config:J,divide:re,equal:we,factorial:Gt,gamma:Ka,isNegative:He,multiply:Or,pi:Sa,pow:Me,sin:sa,smallerEq:gt,subtract:Yr,typed:I}),ka=U0({abs:le,add:Mr,conj:tt,ctranspose:qa,eigs:xu,equalScalar:xr,larger:ue,matrix:ar,multiply:Or,pow:Me,smaller:se,sqrt:_e,typed:I}),Mu=Rd({BigNumber:nr,DenseMatrix:yr,SparseMatrix:Jr,addScalar:Xr,config:J,cos:Ra,matrix:ar,multiplyScalar:Hr,norm:ka,sin:sa,typed:I,unaryMinus:Oe}),uS=u1({BigNumber:nr,Unit:dr,config:J}),Au=Ly({identity:Ye,matrix:ar,multiply:Or,norm:ka,qr:Ya,subtract:Yr,typed:I}),fS=zd({multiply:Or,rotationMatrix:Mu,typed:I}),Eu=Py({abs:le,add:Mr,concat:Ar,identity:Ye,index:uu,lusolve:Nu,matrix:ar,matrixFromColumns:Va,multiply:Or,range:yt,schur:Au,subset:pe,subtract:Yr,transpose:Pt,typed:I}),lS=Vy({matrix:ar,multiply:Or,sylvester:Eu,transpose:Pt,typed:I}),Nt={},Vt={},Tu={},oe=ic({mathWithTransform:Vt}),St=Qv({Node:oe}),Ue=Zv({Node:oe}),ut=Yv({Node:oe}),Ou=jv({Node:oe}),_t=Wv({Node:oe}),Cu=ac({Node:oe,ResultSet:Hs}),Bu=tc({Node:oe}),Ze=Kv({Node:oe}),zu=rc({Node:oe}),vS=oc({classes:Tu}),ja=sc({math:Nt,typed:I}),Iu=ec({Node:oe,typed:I}),cS=uc({Chain:ja,typed:I}),Mt=kv({Node:oe,subset:pe}),Ru=nc({matrix:ar,Node:oe,subset:pe}),At=Xv({Node:oe,size:ee}),Qe=Hv({Unit:dr,Node:oe,math:Nt}),Xe=Jv({Node:oe,SymbolNode:Qe,math:Nt}),Ae=qv({AccessorNode:Mt,ArrayNode:_t,AssignmentNode:Ru,BlockNode:Cu,ConditionalNode:Bu,ConstantNode:Ze,FunctionAssignmentNode:Iu,FunctionNode:Xe,IndexNode:At,ObjectNode:St,OperatorNode:Ue,ParenthesisNode:ut,RangeNode:zu,RelationalNode:Ou,SymbolNode:Qe,config:J,numeric:ye,typed:I}),$u=Vv({ConstantNode:Ze,FunctionNode:Xe,OperatorNode:Ue,ParenthesisNode:ut,parse:Ae,typed:I}),rn=Gv({bignumber:me,fraction:qt,AccessorNode:Mt,ArrayNode:_t,ConstantNode:Ze,FunctionNode:Xe,IndexNode:At,ObjectNode:St,OperatorNode:Ue,SymbolNode:Qe,config:J,mathWithTransform:Vt,matrix:ar,typed:I}),_a=Uv({parse:Ae,typed:I}),en=Lv({AccessorNode:Mt,ArrayNode:_t,ConstantNode:Ze,FunctionNode:Xe,IndexNode:At,ObjectNode:St,OperatorNode:Ue,ParenthesisNode:ut,SymbolNode:Qe,add:Mr,divide:re,equal:we,isZero:Te,multiply:Or,parse:Ae,pow:Me,subtract:Yr,typed:I}),tn=fc({parse:Ae,typed:I}),Du=lc({evaluate:tn}),Uu=vc({evaluate:tn,parse:Ae}),Ht=Fv({AccessorNode:Mt,ArrayNode:_t,ConstantNode:Ze,FunctionNode:Xe,IndexNode:At,ObjectNode:St,OperatorNode:Ue,ParenthesisNode:ut,SymbolNode:Qe,equal:we,parse:Ae,replacer:Zs,resolve:$u,simplifyConstant:rn,simplifyCore:en,typed:I}),mS=fb({OperatorNode:Ue,parse:Ae,simplify:Ht,typed:I}),pS=sb({parse:Ae,typed:I}),dS=cc({Parser:Uu,typed:I}),hS=mc({bignumber:me,fraction:qt,AccessorNode:Mt,ArrayNode:_t,ConstantNode:Ze,FunctionNode:Xe,IndexNode:At,ObjectNode:St,OperatorNode:Ue,ParenthesisNode:ut,SymbolNode:Qe,add:Mr,config:J,divide:re,equal:we,isZero:Te,mathWithTransform:Vt,matrix:ar,multiply:Or,parse:Ae,pow:Me,simplify:Ht,simplifyConstant:rn,simplifyCore:en,subtract:Yr,typed:I}),Fu=Pv({ConstantNode:Ze,FunctionNode:Xe,OperatorNode:Ue,ParenthesisNode:ut,SymbolNode:Qe,config:J,equal:we,isZero:Te,numeric:ye,parse:Ae,simplify:Ht,typed:I}),gS=pc({Help:Du,mathWithTransform:Vt,typed:I});Ie(Nt,{e:ys,false:Y1,fineStructure:Z1,i:Vs,Infinity:Q1,LN10:X1,LOG10E:J1,NaN:K1,null:W1,phi:k1,SQRT1_2:rw,sackurTetrode:ew,tau:Ys,true:tw,E:ys,version:aw,efimovFactor:nw,LN2:iw,pi:Sa,replacer:Zs,reviver:vS,SQRT2:ow,typed:I,PI:Sa,weakMixingAngle:sw,abs:le,acos:uw,acot:fw,acsc:lw,addScalar:Xr,arg:vw,asech:cw,asinh:mw,atan:Qs,atanh:pw,bigint:dw,bitNot:hw,boolean:gw,clone:yw,combinations:ia,complex:oa,conj:tt,cos:Ra,cot:bw,csc:ww,cube:xw,equalScalar:xr,erf:Nw,exp:Xs,expm1:Sw,filter:_w,flatten:Ut,forEach:Mw,format:Ft,getMatrixDataType:$a,hex:Aw,im:Da,isInteger:ce,isNegative:He,isPositive:at,isZero:Te,LOG2E:Ew,lgamma:Tw,log10:Ow,log2:Ua,map:nt,multiplyScalar:Hr,not:ra,number:De,oct:Cw,pickRandom:Bw,print:zw,random:Iw,re:Fa,sec:Rw,sign:Js,sin:sa,splitUnit:$w,square:Dw,string:Uw,subtractScalar:be,tan:Fw,toBest:Ks,typeOf:Pa,acosh:Pw,acsch:qw,asec:Lw,bignumber:me,chain:cS,combinationsWithRep:Gw,cosh:Vw,csch:Hw,isNaN:Re,isPrime:Yw,mapSlices:Rt,matrix:ar,matrixFromFunction:Zw,ones:Qw,randomInt:Xw,reshape:Ws,sech:Jw,sinh:Kw,sparse:Ww,sqrt:_e,squeeze:kw,tanh:jw,transpose:Pt,xgcd:ks,zeros:jr,acoth:rx,asin:ex,bin:tx,concat:Ar,coth:ax,ctranspose:qa,diag:js,dotMultiply:nx,equal:we,fraction:qt,identity:Ye,isNumeric:it,kron:ix,largerEq:ua,leftShift:ox,mode:sx,nthRoot:ux,numeric:ye,prod:ru,resize:fx,rightArithShift:lx,round:xt,size:ee,smaller:se,to:vx,unaryMinus:Oe,unequal:cx,xor:mx,add:Mr,atan2:px,bitAnd:dx,bitOr:hx,bitXor:gx,cbrt:eu,compare:ot,compareText:tu,count:yx,deepEqual:La,divideScalar:qr,dotDivide:Lt,equalText:bx,floor:au,gcd:wx,hasNumericValue:xx,hypot:Nx,larger:ue,log:Ga,lsolve:iu,matrixFromColumns:Va,max:Ha,min:Sx,mod:ou,nthRoots:_x,or:Mx,partitionSelect:fa,qr:Ya,rightLogShift:Ax,smallerEq:gt,subset:pe,subtract:Yr,trace:Ex,usolve:Za,catalan:Tx,compareNatural:Ce,composition:Ox,diff:Cx,distance:Bx,dot:la,index:uu,invmod:zx,lcm:Ix,log1p:Rx,lsolveAll:$x,matrixFromRows:Dx,multiply:Or,range:yt,row:Ux,setCartesian:Fx,setDistinct:Px,setIsSubset:qx,setPowerset:Lx,slu:fu,sort:Gx,unaryPlus:Qa,usolveAll:lu,zpk2tf:Vx,and:Hx,ceil:Xa,column:vu,cross:Yx,det:cu,fix:mu,inv:st,pinv:Zx,pow:Me,setDifference:pu,setMultiplicity:Qx,setSymDifference:du,sqrtm:Xx,sum:Ja,vacuumImpedance:Jx,wienDisplacement:Kx,atomicMass:Wx,bohrMagneton:kx,boltzmann:jx,conductanceQuantum:rN,coulomb:eN,createUnit:tN,deuteronMass:aN,dotPow:nN,electricConstant:iN,elementaryCharge:oN,expm:sN,faraday:uN,fft:gu,gamma:Ka,gravitationConstant:fN,hartreeEnergy:lN,ifft:vN,inverseConductanceQuantum:cN,klitzing:mN,loschmidt:pN,magneticConstant:dN,molarMass:hN,molarPlanckConstant:gN,neutronMass:yN,nuclearMagneton:bN,planckCharge:wN,planckLength:xN,planckTemperature:NN,protonMass:SN,quantumOfCirculation:_N,reducedPlanckConstant:MN,rydberg:AN,secondRadiation:EN,setSize:TN,speedOfLight:ON,stefanBoltzmann:CN,thomsonCrossSection:BN,avogadro:zN,bohrRadius:IN,coulombConstant:RN,divide:re,electronMass:$N,factorial:Gt,firstRadiation:DN,gravity:UN,intersect:FN,lup:yu,magneticFluxQuantum:PN,molarMassC12:qN,multinomial:LN,parse:Ae,permutations:GN,planckMass:VN,polynomialRoot:HN,resolve:$u,setIntersect:bu,simplifyConstant:rn,solveODE:YN,stirlingS2:wu,unit:ZN,bellNumbers:QN,compile:_a,cumsum:XN,eigs:xu,fermiCoupling:JN,gasConstant:KN,kldivergence:WN,lusolve:Nu,mean:Su,molarVolume:kN,planckConstant:jN,quantileSeq:rS,setUnion:eS,simplifyCore:en,variance:Wa,classicalElectronRadius:tS,evaluate:tn,median:_u,simplify:Ht,symbolicEqual:mS,corr:aS,freqz:nS,leafCount:pS,mad:iS,parser:dS,rationalize:hS,std:oS,zeta:sS,derivative:Fu,norm:ka,rotationMatrix:Mu,help:gS,planckTime:uS,schur:Au,rotate:fS,sylvester:Eu,lyap:lS,config:J});Ie(Vt,Nt,{mapSlices:Ac({isInteger:ce,typed:I}),filter:Mc({typed:I}),forEach:_c({typed:I}),map:Sc({typed:I}),or:F1({DenseMatrix:yr,concat:Ar,equalScalar:xr,matrix:ar,typed:I}),and:$1({add:Mr,concat:Ar,equalScalar:xr,matrix:ar,not:ra,typed:I,zeros:jr}),concat:M1({isInteger:ce,matrix:ar,typed:I}),index:h1({Index:ie,getMatrixDataType:$a}),print:z1({add:Mr,matrix:ar,typed:I,zeros:jr}),sum:Nc({add:Mr,config:J,numeric:ye,typed:I}),bitAnd:L1({add:Mr,concat:Ar,equalScalar:xr,matrix:ar,not:ra,typed:I,zeros:jr}),min:xc({config:J,isNaN:Re,numeric:ye,smaller:se,typed:I}),subset:N1({add:Mr,matrix:ar,typed:I,zeros:jr}),bitOr:H1({DenseMatrix:yr,concat:Ar,equalScalar:xr,matrix:ar,typed:I}),cumsum:wc({add:Mr,typed:I,unaryPlus:Qa}),diff:E1({bignumber:me,matrix:ar,number:De,subtract:Yr,typed:I}),max:bc({config:J,isNaN:Re,larger:ue,numeric:ye,typed:I}),range:yc({bignumber:me,matrix:ar,add:Mr,config:J,isPositive:at,larger:ue,largerEq:ua,smaller:se,smallerEq:gt,typed:I}),row:b1({Index:ie,matrix:ar,range:yt,typed:I}),column:m1({Index:ie,matrix:ar,range:yt,typed:I}),mean:gc({add:Mr,divide:re,typed:I}),quantileSeq:C1({add:Mr,bignumber:me,compare:ot,divide:re,isInteger:ce,larger:ue,mapSlices:Rt,multiply:Or,partitionSelect:fa,smaller:se,smallerEq:gt,subtract:Yr,typed:I}),variance:hc({add:Mr,divide:re,isNaN:Re,mapSlices:Rt,multiply:Or,subtract:Yr,typed:I}),std:dc({map:nt,sqrt:_e,typed:I,variance:Wa})});Ie(Tu,{BigNumber:nr,Complex:zr,Fraction:et,Matrix:na,Node:oe,ObjectNode:St,OperatorNode:Ue,ParenthesisNode:ut,Range:j1,RelationalNode:Ou,ResultSet:Hs,ArrayNode:_t,BlockNode:Cu,ConditionalNode:Bu,ConstantNode:Ze,DenseMatrix:yr,RangeNode:zu,Chain:ja,FunctionAssignmentNode:Iu,SparseMatrix:Jr,ImmutableDenseMatrix:nu,Index:ie,AccessorNode:Mt,AssignmentNode:Ru,FibonacciHeap:su,IndexNode:At,Spa:hu,Unit:dr,SymbolNode:Qe,FunctionNode:Xe,Help:Du,Parser:Uu});ja.createProxy(Nt);const yS=Wu({__name:"MarketAnalyze.client",setup(n){const r=Be(),e=Ku(),t=Be({chart:{id:"vuechart-example"},theme:{mode:e.value},xaxis:{type:"numeric",title:{text:"Quantity"}},yaxis:{type:"numeric",title:{text:"Price"}},dataLabels:{enabled:!1},stroke:{curve:"straight",width:[2,2,1,1]},fill:{opacity:[1,1,.24,.24]}});ku(e,v=>{t.value.theme?.mode!==v.value&&(t.value={...t.value,theme:{mode:v.value}})});const a=Be(0),s=Be(50),l=Be(1),m=Be("P"),f=ju(()=>m.value==="Q"?"P":"Q"),u=Be("100 - 2 * Q"),i=Be("20 + 3 * Q"),o=Be([]);function c(v,y,w=0,S=0,b=1e-7,g=1e3){let x=S;for(let d=0;d<g;d++){const _=v(x)-w,A=y(x);if(Math.abs(A)<b)throw new Error("Derivative is too small, possible local extrema!");const N=x-_/A;if(Math.abs(N-x)<b)return N;x=N}throw new Error("Maximum iterations reached without finding root")}function p(v,y){const w=m.value==="Q"?{P:0}:{Q:0},S=_a(v),b=_a(y);function g(F){return w.P=F,{Pd:F,Ps:F,Qd:S.evaluate(w),Qs:b.evaluate(w)}}function x(F){return w.Q=F,{Pd:S.evaluate(w),Ps:b.evaluate(w),Qd:F,Qs:F}}const d=[],_=({x:F,y:$})=>F>=0&&$>=0;for(let F=a.value;F<=s.value;F+=l.value)m.value==="Q"?d.push(g(F)):d.push(x(F));const A=d.map(F=>({x:F.Qd,y:F.Pd})).filter(_),N=d.map(F=>({x:F.Qs,y:F.Ps})).filter(_),M=Ht(`(${v})-(${y})`),E=Fu(M,f.value),T=F=>f.value==="P"?{P:F}:{Q:F},z=c(F=>M.evaluate(T(F)),F=>E.evaluate(T(F))),[R,P]=f.value==="P"?[z,S.evaluate({P:z})]:[S.evaluate({Q:z}),z],D=[...A.filter(F=>F.y>R).map(F=>({x:F.x,y:[R,F.y]})),{x:P,y:[R,R]}],q=[...N.filter(F=>F.y<R).map(F=>({x:F.x,y:[F.y,R]})),{x:P,y:[R,R]}];return[{name:"Demand",data:A,type:"line"},{name:"Supply",data:N,type:"line"},{name:"CS",data:D,type:"rangeArea"},{name:"SS",data:q,type:"rangeArea"}]}function h(){try{o.value=p(u.value,i.value)}catch(v){Xu.error(v.message)}}return h(),(v,y)=>{const w=Pu,S=qu,b=Vu,g=Gu,x=Hu,d=Yu,_=Zu,A=Lu,N=Qu;return ef(),rf("div",null,[Zr(A,{inline:!0,"label-width":"auto"},{default:te(()=>[Zr(S,{label:"Demand Relation","show-message":""},{default:te(()=>[Zr(w,{modelValue:ae(u),"onUpdate:modelValue":y[0]||(y[0]=M=>ft(u)?u.value=M:null),spellcheck:!1},{prefix:te(()=>[Ot(on(ae(m))+" = ",1)]),_:1},8,["modelValue"])]),_:1}),Zr(S,{label:"Supply Relation","show-message":"",error:""},{default:te(()=>[Zr(w,{modelValue:ae(i),"onUpdate:modelValue":y[1]||(y[1]=M=>ft(i)?i.value=M:null),spellcheck:!1},{prefix:te(()=>[Ot(on(ae(m))+" = ",1)]),_:1},8,["modelValue"])]),_:1}),Zr(S,{label:"Dependent Variable"},{default:te(()=>[Zr(g,{modelValue:ae(m),"onUpdate:modelValue":y[2]||(y[2]=M=>ft(m)?m.value=M:null)},{default:te(()=>[Zr(b,{value:"Q"},{default:te(()=>[...y[6]||(y[6]=[Ot("Quantity",-1)])]),_:1}),Zr(b,{value:"P"},{default:te(()=>[...y[7]||(y[7]=[Ot("Price",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),Zr(S,{label:"Graph Range"},{default:te(()=>[Zr(d,{span:8},{default:te(()=>[Zr(x,{modelValue:ae(a),"onUpdate:modelValue":y[3]||(y[3]=M=>ft(a)?a.value=M:null),min:0,max:ae(s)-1,size:"small",disabled:"","controls-position":"right"},null,8,["modelValue","max"])]),_:1}),Zr(d,{span:8},{default:te(()=>[Zr(x,{modelValue:ae(s),"onUpdate:modelValue":y[4]||(y[4]=M=>ft(s)?s.value=M:null),min:ae(a)+1,max:1e3,size:"small","controls-position":"right"},null,8,["modelValue","min"])]),_:1}),Zr(d,{span:8},{default:te(()=>[Zr(x,{modelValue:ae(l),"onUpdate:modelValue":y[5]||(y[5]=M=>ft(l)?l.value=M:null),min:1,max:ae(s)-ae(a),size:"small","controls-position":"right"},null,8,["modelValue","max"])]),_:1})]),_:1}),Zr(S,null,{default:te(()=>[Zr(_,{type:"primary",onClick:h},{default:te(()=>[...y[8]||(y[8]=[Ot("Update",-1)])]),_:1})]),_:1})]),_:1}),Zr(N,null,{default:te(()=>[Zr(ae(Ju),{ref_key:"chart",ref:r,class:"w-full",width:"700",type:"rangeArea",options:ae(t),series:("toRaw"in v?v.toRaw:ae(tf))(ae(o))},null,8,["options","series"])]),_:1})])}}}),y_=Object.assign(yS,{__name:"FinanceMarketAnalyze"});export{y_ as default};
