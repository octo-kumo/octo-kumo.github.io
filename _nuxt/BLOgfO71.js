const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CxEjtovg.js","./5S_XvK3r.js","./CXgh2bVR.js","./Cdy4ovlM.js","./mpRoWkBO.js","./entry.DPOKIEAV.css","./index.b-pFlJBA.css","./BK7BBDeP.js","./Bj2b9i9X.js","./link.B58a4a3I.css","./DLOWyw5x.js","./DM9fvJ3D.js","./tag.DljBBxJR.css","./BSZFgSs5.js","./guess-article-title.DZHWrHdf.css","./DQ08hbCI.js","./timeline.D7em1DVa.css","./CJN6Q2WT.js","./text.3XkjT9nK.css","./CetKUzrm.js","./BxleUN9b.js","./CqIRkiYC.js","./BB_Ol6Sd.js","./check-tag.Co6Xh18m.css","./C-Uvks-E.js","./CNN4MVuY.js","./space.3oFudasq.css","./WlXJO-32.js","./card.fwQOLwdi.css","./DQcnEMwU.js","./Bp3YSIOJ.js","./row.CsbxBLOD.css","./W8IBkWuz.js","./BRspts7i.js","./CV4Hssdo.js","./CtfOverview.9ZV81bES.css","./DCNh4fbS.js","./ProseA.BRen5ajp.css","./B9quJtmt.js","./CDMRio4J.js","./ProseCode.BQ7myqPm.css","./Cc-5tik1.js","./tooltip.tn0RQdqM.css","./DO_c6Dwj.js","./Zf_HP6PP.js","./divider.BUtF_RGI.css","./CsawnFqk.js","./B6Mhy4WD.js","./hT5EZHBq.js","./DIhoAStX.js","./BmU_cfaq.js","./BUADUvnR.js","./B2bONxHh.js","./BwwvTQnZ.js","./Bsm-pjvr.js","./B3lhUXGt.js","./zcHPfVOM.js","./image-viewer.CemqjmsN.css","./ProseImg.BvVTB4dV.css","./CvPSsr1o.js","./Nh6Nfyen.js","./BqW66oQ0.js","./ProsePre.qjIXPoVn.css","./B5JGjQzk.js","./ProseStrong.DQHuDWTU.css","./CXuY8JT5.js","./ProseTable.DuIk0XQH.css","./CoKeI9er.js","./ProseTd.u4Be8W0L.css","./BC08lBEP.js","./ProseTh.BkLG-8CJ.css","./BXlnYwgS.js"])))=>i.map(i=>d[i]);
import{H as J,D as g,a as Y}from"./mpRoWkBO.js";import{p as T,k as L}from"./BSZFgSs5.js";import{f as Z,h as tt}from"./CV4Hssdo.js";import{d as et,h as I,g as rt,b as P,T as B,U as nt,w as ot,j as F,Q as D,V as A,D as st,M as it,r as ut,a as at,a3 as pt,u as V}from"./Cdy4ovlM.js";function ct(t){return{type:"root",children:t.value.map($)}}function $(t){if(typeof t=="string")return{type:"text",value:t};const[r,e,...n]=t;return{type:"element",tag:r,props:e,children:n.map($)}}const C=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"],lt=["p","h1","h2","h3","h4","h5","h6","li"];function E(t,r){return t.type===r||typeof t.type=="object"&&t.type.tag===r||t.tag===r}function S(t){return E(t,"text")||E(t,Symbol.for("v-txt"))}function H(t){return Array.isArray(t.children)||typeof t.children=="string"?t.children:typeof t.children?.default=="function"?t.children.default():[]}function j(t){if(!t)return"";if(Array.isArray(t))return t.map(j).join("");if(S(t))return t.value||t.children||"";const r=H(t);return Array.isArray(r)?r.map(j).filter(Boolean).join(""):""}function N(t,r=[]){if(Array.isArray(t))return t.flatMap(n=>N(n,r));let e=t;return r.some(n=>n==="*"||E(t,n))&&(e=H(t)||t,!Array.isArray(e)&&lt.some(n=>E(t,n))&&(e=[e])),e}function M(t,r=[]){return t=Array.isArray(t)?t:[t],r.length?t.flatMap(e=>M(N(e,[r[0]]),r.slice(1))).filter(e=>!(S(e)&&j(e).trim()==="")):t}function k(t,r=[]){return typeof r=="string"&&(r=r.split(/[,\s]/).map(e=>e.trim()).filter(Boolean)),r.length?M(t,r).reduce((e,n)=>(S(n)?typeof e[e.length-1]=="string"?e[e.length-1]+=n.children:e.push(n.children):e.push(n),e),[]):t}function ft(t,r){return r.reduce((e,n)=>{const o=mt(t,n);return o!==void 0&&(e[n]=o),e},{})}function mt(t,r){return r.split(".").reduce((e,n)=>e&&e[n],t)}const R="default",q=/^@|^v-on:/,U=/^:|^v-bind:/,dt=/^v-model/,_t=["select","textarea","input"],gt=["math","svg"],ht=Object.fromEntries(["p","a","blockquote","code","pre","code","em","h1","h2","h3","h4","h5","h6","hr","img","ul","ol","li","strong","table","thead","tbody","td","th","tr","script"].map(t=>[t,`prose-${t}`])),yt=et({name:"MDCRenderer",props:{body:{type:Object,required:!0},data:{type:Object,default:()=>({})},class:{type:[String,Object],default:void 0},tag:{type:[String,Boolean],default:void 0},prose:{type:Boolean,default:void 0},components:{type:Object,default:()=>({})},unwrap:{type:[Boolean,String],default:!1}},async setup(t){const e=rt()?.appContext?.app?.$nuxt,n=e?.$route||e?._route,{mdc:o}=e?.$config?.public||{},i=P(()=>({...o?.components?.prose&&t.prose!==!1?ht:{},...o?.components?.map||{},...B(t.data?.mdc?.components||{}),...t.components})),c=P(()=>{const u=(t.body?.children||[]).map(a=>a.tag||a.type).filter(a=>!C.includes(a));return Array.from(new Set(u)).sort().join(".")}),p=nt({...t.data});ot(()=>t.data,u=>{Object.assign(p,u)}),await Dt(t.body,{tags:i.value});function l(u,a){const d=u.split(".").length-1;return u.split(".").reduce((_,h,O)=>O==d&&_?(_[h]=a,_[h]):typeof _=="object"?_[h]:void 0,p)}return{tags:i,contentKey:c,route:n,runtimeData:p,updateRuntimeData:l}},render(t){const{tags:r,tag:e,body:n,data:o,contentKey:i,route:c,unwrap:p,runtimeData:l,updateRuntimeData:u}=t;if(!n)return null;const a={...o,tags:r,$route:c,runtimeData:l,updateRuntimeData:u},d=e!==!1?w(e||a.component?.name||a.component||"div"):void 0;return d?I(d,{...a.component?.props,class:t.class,...this.$attrs,key:i},{default:_}):_?.();function _(){const h=K(n,I,{documentMeta:a,parentScope:a,resolveComponent:w});return h?.default?p?k(h.default(),typeof p=="string"?p.split(" "):["*"]):h.default():null}}});function vt(t,r,e,n){const{documentMeta:o,parentScope:i,resolveComponent:c}=e;if(t.type==="text")return r(A,t.value);if(t.type==="comment")return r(st,null,t.value);const p=t.tag,l=z(t,o.tags);if(t.tag==="binding")return bt(t,r,o,i);const u=W(l)?_=>_:c;if(l==="script")return r("pre",{class:"script-to-pre"},`<script>
`+j(t)+`
<\/script>`);const a=u(l);typeof a=="object"&&(a.tag=p);const d=Pt(t,o);return n&&(d.key=n),r(a,d,K(t,r,{documentMeta:o,parentScope:{...i,...d},resolveComponent:u}))}function K(t,r,e){const{documentMeta:n,parentScope:o,resolveComponent:i}=e,p=(t.children||[]).reduce((u,a)=>{if(!jt(a))return u[R].children.push(a),u;const d=Et(a);return u[d]=u[d]||{props:{},children:[]},a.type==="element"&&(u[d].props=a.props,u[d].children.push(...a.children||[])),u},{[R]:{props:{},children:[]}});return Object.entries(p).reduce((u,[a,{props:d,children:_}])=>(_.length&&(u[a]=(h={})=>{const O=ft(h,Object.keys(d||{}));let s=_.map((f,m)=>vt(f,r,{documentMeta:n,parentScope:{...o,...O},resolveComponent:i},String(f.props?.key||m)));return d?.unwrap&&(s=k(s,d.unwrap)),xt(s)}),u),{})}function bt(t,r,e,n={}){const o={...e.runtimeData,...n,$document:e,$doc:e},i=/\.|\[(\d+)\]/,p=(t.props?.value.trim().split(i).filter(Boolean)).reduce((u,a)=>{if(u&&a in u)return typeof u[a]=="function"?u[a]():u[a]},o),l=t.props?.defaultValue;return r(A,p??l??"")}function Pt(t,r){const{tag:e="",props:n={}}=t;return Object.keys(n).reduce(function(o,i){if(i==="__ignoreMap")return o;const c=n[i];if(dt.test(i))return Tt(i,c,o,r,{native:_t.includes(e)});if(i==="v-bind")return Ot(i,c,o,r);if(q.test(i))return Ct(i,c,o,r);if(U.test(i))return At(i,c,o,r);const{attribute:p}=Z(tt,i);return Array.isArray(c)&&c.every(l=>typeof l=="string")?(o[p]=c.join(" "),o):(o[p]=c,o)},{})}function Tt(t,r,e,n,{native:o}){const i=t.match(/^v-model:([^=]+)/)?.[1]||"modelValue",c=o?"value":i,p=o?"onInput":`onUpdate:${i}`;return e[c]=x(r,n.runtimeData),e[p]=l=>{n.updateRuntimeData(r,o?l.target?.value:l)},e}function Ot(t,r,e,n){const o=x(r,n);return e=Object.assign(e,o),e}function Ct(t,r,e,n){return t=t.replace(q,""),e.on=e.on||{},e.on[t]=()=>x(r,n),e}function At(t,r,e,n){return t=t.replace(U,""),e[t]=x(r,n),e}const w=t=>{if(typeof t=="string"){if(C.includes(t))return t;const r=F(T(t),!1);return!t||r?.name==="AsyncComponentWrapper"||typeof r=="string"?r:"setup"in r?D(()=>new Promise(e=>e(r))):r}return t};function x(t,r){const e=t.split(".").reduce((n,o)=>typeof n=="object"?n[o]:void 0,r);return typeof e>"u"?J(t):e}function Et(t){let r="";for(const e of Object.keys(t.props||{}))if(!(!e.startsWith("#")&&!e.startsWith("v-slot:"))){r=e.split(/[:#]/,2)[1];break}return r||R}function jt(t){return t.tag==="template"}function W(t){return gt.includes(t)}function xt(t){const r=[];for(const e of t){const n=r[r.length-1];e.type===A&&n?.type===A?n.children=n.children+e.children:r.push(e)}return r}async function Dt(t,r){if(!t)return;const e=Array.from(new Set(n(t,r)));await Promise.all(e.map(async o=>{if(o?.render||o?.ssrRender||o?.__ssrInlineRender)return;const i=w(o);i?.__asyncLoader&&!i.__asyncResolved&&await i.__asyncLoader()}));function n(o,i){const c=o.tag;if(o.type==="text"||c==="binding"||o.type==="comment")return[];const p=z(o,i.tags);if(W(p))return[];const l=[];o.type!=="root"&&!C.includes(p)&&l.push(p);for(const u of o.children||[])l.push(...n(u,i));return l}}function z(t,r){const e=t.tag;return!e||typeof t.props?.__ignoreMap<"u"?e:r[e]||r[T(e)]||r[L(t.tag)]||e}const Rt=()=>g(()=>import("./CxEjtovg.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]),import.meta.url),wt=()=>g(()=>import("./BxleUN9b.js"),__vite__mapDeps([20,21,2,3,4,5,6,22,23,11,12,24,25,26,1,7,8,9,10,13,14,17,18,27,28,29,30,31,32,33,19,34,35]),import.meta.url),St=()=>g(()=>import("./DCNh4fbS.js"),__vite__mapDeps([36,2,3,4,5,6,10,37]),import.meta.url),It=()=>g(()=>import("./B9quJtmt.js"),__vite__mapDeps([38,4,3,5]),import.meta.url),Vt=()=>g(()=>import("./CDMRio4J.js"),__vite__mapDeps([39,4,3,5,40]),import.meta.url),Lt=()=>g(()=>import("./Cc-5tik1.js"),__vite__mapDeps([41,4,3,5,42]),import.meta.url),Bt=()=>g(()=>import("./DO_c6Dwj.js"),__vite__mapDeps([43,44,2,3,4,5,6,45]),import.meta.url),Ft=()=>g(()=>import("./CsawnFqk.js"),__vite__mapDeps([46,2,3,4,5,6,47,48,49,50,51,52,30,8,53,54,55,56,57,58]),import.meta.url),$t=()=>g(()=>import("./CvPSsr1o.js"),__vite__mapDeps([59,4,3,5,60,61,62]),import.meta.url),Ht=()=>g(()=>import("./B5JGjQzk.js"),__vite__mapDeps([63,4,3,5,64]),import.meta.url),Nt=()=>g(()=>import("./CXuY8JT5.js"),__vite__mapDeps([65,4,3,5,66]),import.meta.url),Mt=()=>g(()=>import("./CoKeI9er.js"),__vite__mapDeps([67,4,3,5,68]),import.meta.url),kt=()=>g(()=>import("./BC08lBEP.js"),__vite__mapDeps([69,4,3,5,70]),import.meta.url),qt=()=>g(()=>import("./BXlnYwgS.js"),__vite__mapDeps([71,3]),import.meta.url),G=["ProseEm","ProseH1","ProseH3","ProseH4","ProseH5","ProseH6","ProseLi","ProseOl","ProseP","ProseScript","ProseTbody","ProseThead","ProseTr","ProseUl"],Q=["BlogOverview","CtfOverview","ProseA","ProseBlockquote","ProseCode","ProseH2","ProseHr","ProseImg","ProsePre","ProseStrong","ProseTable","ProseTd","ProseTh","Vimeo"],Ut=Object.freeze(Object.defineProperty({__proto__:null,BlogOverview:Rt,CtfOverview:wt,ProseA:St,ProseBlockquote:It,ProseCode:Vt,ProseH2:Lt,ProseHr:Bt,ProseImg:Ft,ProsePre:$t,ProseStrong:Ht,ProseTable:Nt,ProseTd:Mt,ProseTh:kt,Vimeo:qt,globalComponents:G,localComponents:Q},Symbol.toStringTag,{value:"Module"})),Qt={__name:"ContentRenderer",props:{value:{type:Object,required:!0},excerpt:{type:Boolean,default:!1},tag:{type:String,default:"div"},components:{type:Object,default:()=>({})},data:{type:Object,default:()=>({})},prose:{type:Boolean,default:void 0},class:{type:[String,Object],default:void 0},unwrap:{type:[Boolean,String],default:!1}},setup(t){const r=["render","ssrRender","__ssrInlineRender"],e=t,n=!1,o=P(()=>{let s=e.value.body||e.value;return e.excerpt&&e.value.excerpt&&(s=e.value.excerpt),s.type==="minimal"||s.type==="minimark"?ct({value:s.value}):s}),i=P(()=>!o.value?.children?.length),c=P(()=>{const{body:s,excerpt:f,...m}=e.value;return{...m,...e.data}}),p=Object.fromEntries(["p","a","blockquote","code","pre","code","em","h1","h2","h3","h4","h5","h6","hr","img","ul","ol","li","strong","table","thead","tbody","td","th","tr","script"].map(s=>[s,`prose-${s}`])),{mdc:l}=Y().public||{},u=P(()=>({...l?.components?.prose&&e.prose!==!1?p:{},...l?.components?.map||{},...B(e.data?.mdc?.components||{}),...e.components})),a=P(()=>o.value?_(o.value,{tags:u.value}):{});function d(s){let f=s;if(typeof s=="string"){if(C.includes(s))return s;if(G.includes(T(s))?f=F(s,!1):Q.includes(T(s))&&(f=D(()=>g(()=>Promise.resolve().then(()=>Ut),void 0,import.meta.url).then(y=>{const v=y[T(s)];return v?v():void 0}))),typeof f=="string")return f}if(!f)return f;const m=f;return"__asyncLoader"in m?m:"setup"in m?D(()=>Promise.resolve(m)):m}function _(s,f){if(!s)return;const m=Array.from(new Set(h(s,f))),b={};for(const[y,v]of m)if(!b[y]){if(typeof v=="object"&&r.some(X=>Object.hasOwnProperty.call(v,X))){b[y]=v;continue}b[y]=d(v)}return b}function h(s,f){const m=s.tag;if(s.type==="text"||m==="binding"||s.type==="comment")return[];const b=O(s,f.tags),y=[];s.type!=="root"&&!C.includes(b)&&y.push([m,b]);for(const v of s.children||[])y.push(...h(v,f));return y}function O(s,f){const m=s.tag;return!m||typeof s.props?.__ignoreMap<"u"?m:f[m]||f[T(m)]||f[L(s.tag)]||m}return(s,f)=>i.value?ut(s.$slots,"empty",{key:1,body:o.value,data:c.value,dataContentId:V(n)?t.value.id:void 0}):(at(),it(yt,{key:0,body:o.value,data:c.value,class:pt(e.class),tag:e.tag,prose:e.prose,unwrap:e.unwrap,components:a.value,"data-content-id":V(n)?t.value.id:void 0},null,8,["body","data","class","tag","prose","unwrap","components","data-content-id"]))}};export{Qt as _};
