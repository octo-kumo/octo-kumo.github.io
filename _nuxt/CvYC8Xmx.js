import{d as L,b as d,c as P,a as g,r as A,O as z,P as $,a6 as J,L as D,aa as K,u as o,a3 as v,K as ve,N as Q,ag as W,Y as X,aq as ee,e as N,o as ye,w as he,M as T,J as M,ab as Ce,F as be,ad as Te,n as Se,ae as F,B as se,a4 as x,ai as q,E as Ee}from"./Cdy4ovlM.js";import{u as we,b as Be}from"./hT5EZHBq.js";import{c as te,q as I,_ as ne,L as j,w as Ne,E as G,ae as Me}from"./CXgh2bVR.js";import{I as $e,Q as S,l as oe,Y as Ie,O as Le,N as O}from"./mpRoWkBO.js";import{i as _e,c as ke,d as Y,T as Oe}from"./Bj2b9i9X.js";import{m as Pe}from"./Bp3YSIOJ.js";import{E as Ae}from"./BUADUvnR.js";const De=te({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,badgeStyle:{type:I([String,Object,Array])},offset:{type:I(Array),default:[0,0]},badgeClass:{type:String}}),xe=L({name:"ElBadge"}),ze=L({...xe,props:De,setup(s,{expose:a}){const e=s,t=$e("badge"),i=d(()=>e.isDot?"":S(e.value)&&S(e.max)?e.max<e.value?`${e.max}+`:`${e.value}`:`${e.value}`),r=d(()=>{var n,p,y,C,m;return[{backgroundColor:e.color,marginRight:j(-((p=(n=e.offset)==null?void 0:n[0])!=null?p:0)),marginTop:j((C=(y=e.offset)==null?void 0:y[1])!=null?C:0)},(m=e.badgeStyle)!=null?m:{}]});return a({content:i}),(n,p)=>(g(),P("div",{class:v(o(t).b())},[A(n.$slots,"default"),z(X,{name:`${o(t).namespace.value}-zoom-in-center`,persisted:""},{default:$(()=>[J(D("sup",{class:v([o(t).e("content"),o(t).em("content",n.type),o(t).is("fixed",!!n.$slots.default),o(t).is("dot",n.isDot),o(t).is("hide-zero",!n.showZero&&e.value===0),n.badgeClass]),style:K(o(r))},[A(n.$slots,"content",{value:o(i)},()=>[ve(Q(o(i)),1)])],6),[[W,!n.hidden&&(o(i)||n.isDot||n.$slots.content)]])]),_:3},8,["name"])],2))}});var Fe=ne(ze,[["__file","badge.vue"]]);const He=Ne(Fe),ae=["primary","success","info","warning","error"],le=["top","top-left","top-right","bottom","bottom-left","bottom-right"],E="top",c=Pe({customClass:"",dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,placement:void 0,zIndex:0,grouping:!1,repeatNum:1,appendTo:oe?document.body:void 0}),Re=te({customClass:{type:String,default:c.customClass},dangerouslyUseHTMLString:{type:Boolean,default:c.dangerouslyUseHTMLString},duration:{type:Number,default:c.duration},icon:{type:_e,default:c.icon},id:{type:String,default:c.id},message:{type:I([String,Object,Function]),default:c.message},onClose:{type:I(Function),default:c.onClose},showClose:{type:Boolean,default:c.showClose},type:{type:String,values:ae,default:c.type},plain:{type:Boolean,default:c.plain},offset:{type:Number,default:c.offset},placement:{type:String,values:le,default:c.placement},zIndex:{type:Number,default:c.zIndex},grouping:{type:Boolean,default:c.grouping},repeatNum:{type:Number,default:c.repeatNum}}),Ue={destroy:()=>!0},f=ee({}),Ve=s=>(f[s]||(f[s]=ee([])),f[s]),Ze=(s,a)=>{const e=f[a]||[],t=e.findIndex(n=>n.id===s),i=e[t];let r;return t>0&&(r=e[t-1]),{current:i,prev:r}},qe=(s,a)=>{const{prev:e}=Ze(s,a);return e?e.vm.exposed.bottom.value:0},je=(s,a,e)=>(f[e]||[]).findIndex(r=>r.id===s)>0?16:a,Ge=L({name:"ElMessage"}),Ye=L({...Ge,props:Re,emits:Ue,setup(s,{expose:a,emit:e}){const t=s,{Close:i}=Oe,r=N(!1),{ns:n,zIndex:p}=ke("message"),{currentZIndex:y,nextZIndex:C}=p,m=N(),w=N(!1),H=N(0);let _;const ie=d(()=>t.type?t.type==="error"?"danger":t.type:"info"),ce=d(()=>{const l=t.type;return{[n.bm("icon",l)]:l&&Y[l]}}),R=d(()=>t.icon||Y[t.type]||""),b=d(()=>t.placement||E),ue=d(()=>qe(t.id,b.value)),U=d(()=>je(t.id,t.offset,b.value)+ue.value),pe=d(()=>H.value+U.value),de=d(()=>b.value.includes("left")?n.is("left"):b.value.includes("right")?n.is("right"):n.is("center")),V=d(()=>b.value.startsWith("top")?"top":"bottom"),fe=d(()=>({[V.value]:`${U.value}px`,zIndex:y.value}));function k(){t.duration!==0&&({stop:_}=Ie(()=>{B()},t.duration))}function Z(){_?.()}function B(){w.value=!1,Se(()=>{var l;r.value||((l=t.onClose)==null||l.call(t),e("destroy"))})}function me({code:l}){l===Ae.esc&&B()}return ye(()=>{k(),C(),w.value=!0}),he(()=>t.repeatNum,()=>{Z(),k()}),we(document,"keydown",me),Be(m,()=>{H.value=m.value.getBoundingClientRect().height}),a({visible:w,bottom:pe,close:B}),(l,ns)=>(g(),T(X,{name:o(n).b("fade"),onBeforeEnter:ge=>r.value=!0,onBeforeLeave:l.onClose,onAfterLeave:ge=>l.$emit("destroy"),persisted:""},{default:$(()=>[J(D("div",{id:l.id,ref_key:"messageRef",ref:m,class:v([o(n).b(),{[o(n).m(l.type)]:l.type},o(n).is("closable",l.showClose),o(n).is("plain",l.plain),o(n).is("bottom",o(V)==="bottom"),o(de),l.customClass]),style:K(o(fe)),role:"alert",onMouseenter:Z,onMouseleave:k},[l.repeatNum>1?(g(),T(o(He),{key:0,value:l.repeatNum,type:o(ie),class:v(o(n).e("badge"))},null,8,["value","type","class"])):M("v-if",!0),o(R)?(g(),T(o(G),{key:1,class:v([o(n).e("icon"),o(ce)])},{default:$(()=>[(g(),T(Ce(o(R))))]),_:1},8,["class"])):M("v-if",!0),A(l.$slots,"default",{},()=>[l.dangerouslyUseHTMLString?(g(),P(be,{key:1},[M(" Caution here, message could've been compromised, never use user's input as message "),D("p",{class:v(o(n).e("content")),innerHTML:l.message},null,10,["innerHTML"])],2112)):(g(),P("p",{key:0,class:v(o(n).e("content"))},Q(l.message),3))]),l.showClose?(g(),T(o(G),{key:2,class:v(o(n).e("closeBtn")),onClick:Te(B,["stop"])},{default:$(()=>[z(o(i))]),_:1},8,["class","onClick"])):M("v-if",!0)],46,["id"]),[[W,w.value]])]),_:3},8,["name","onBeforeEnter","onBeforeLeave","onAfterLeave"]))}});var Je=ne(Ye,[["__file","message.vue"]]);const u={placement:"top"};let Ke=1;const Qe=s=>{if(!s.appendTo)s.appendTo=document.body;else if(F(s.appendTo)){let e=document.querySelector(s.appendTo);Le(e)||(e=document.body),s.appendTo=e}},We=s=>{!s.placement&&F(u.placement)&&u.placement&&(s.placement=u.placement),s.placement||(s.placement=E),le.includes(s.placement)||(s.placement=E)},re=s=>{const a=!s||F(s)||se(s)||x(s)?{message:s}:s,e={...c,...a};return Qe(e),We(e),O(u.grouping)&&!e.grouping&&(e.grouping=u.grouping),S(u.duration)&&e.duration===3e3&&(e.duration=u.duration),S(u.offset)&&e.offset===16&&(e.offset=u.offset),O(u.showClose)&&!e.showClose&&(e.showClose=u.showClose),O(u.plain)&&!e.plain&&(e.plain=u.plain),e},Xe=s=>{const a=s.props.placement||E,e=f[a],t=e.indexOf(s);if(t===-1)return;e.splice(t,1);const{handler:i}=s;i.close()},es=({appendTo:s,...a},e)=>{const t=`message_${Ke++}`,i=a.onClose,r=document.createElement("div"),n={...a,id:t,onClose:()=>{i?.(),Xe(m)},onDestroy:()=>{q(null,r)}},p=z(Je,n,x(n.message)||se(n.message)?{default:x(n.message)?n.message:()=>n.message}:null);p.appContext=e||h._context,q(p,r),s.appendChild(r.firstElementChild);const y=p.component,m={id:t,vnode:p,vm:y,handler:{close:()=>{y.exposed.close()}},props:p.component.props};return m},h=(s={},a)=>{if(!oe)return{close:()=>{}};const e=re(s),t=Ve(e.placement||E);if(e.grouping&&t.length){const r=t.find(({vnode:n})=>{var p;return((p=n.props)==null?void 0:p.message)===e.message});if(r)return r.props.repeatNum+=1,r.props.type=e.type,r.handler}if(S(u.max)&&t.length>=u.max)return{close:()=>{}};const i=es(e,a);return t.push(i),i.handler};ae.forEach(s=>{h[s]=(a={},e)=>{const t=re(a);return h({...t,type:s},e)}});function ss(s){for(const a in f)if(Ee(f,a)){const e=[...f[a]];for(const t of e)(!s||s===t.props.type)&&t.handler.close()}}function ts(s){if(!f[s])return;[...f[s]].forEach(e=>e.handler.close())}h.closeAll=ss;h.closeAllByPlacement=ts;h._context=null;const ps=Me(h,"$message");export{ps as E};
