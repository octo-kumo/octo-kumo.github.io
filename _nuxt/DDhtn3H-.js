import{q as d,g as a,o as r,a as s}from"./5S_XvK3r.js";async function u(t){const n=await d("content",["title","description","created","updated","tags","solves","points","rank","team","readingTime"]).order("created","DESC"),e=o(n);return{nav:e,flat:l(e).map(f)}}function o(t,n){t.forEach(e=>{e.title=a(e)}),t=t.filter(e=>e.path!==n?.path);for(let e of t)e.children&&(e.path==="/ctf"&&e.children?.sort(h),e.children=o(e.children,e)),r(r(e.path))==="/ctf"&&e.children?.length&&(e.points=e.children.reduce((i,c)=>i+(c.points||0),0),e.challenges=e.children.length,n?.points&&(e.percent=Math.round(e.points/n?.points*100))),e._tags=[...new Set([...e.tags||[],s(e)].filter(Boolean))];return t}function f(t){return t={...t},delete t.children,t}function l(t){let n=[];for(let e of t)e.title=a(e),e.children&&n.push(...l(e.children)),n.push(e);return n}function h(t,n){return-t.created?.localeCompare(n.created)}export{u as q};
