import{k as so,l as Ft,P as He,h as la,W as nn,N as io,m as ua,n as lo,o as ca,p as Se,q as dt,O as da,r as Ot,s as pa,e as uo,c as ke,V as G,t as fa,u as co,D as mn,a as vt,v as Ze,T as st,w as po,x as ma,y as Fn,Q as hr,z as Lt,H as ha,L as ga,I as va,J as $t,R as ya,K as fo,U as ba,X as ln,Y as wa,f as xa,Z as _a,_ as mo,$ as Ma,a0 as Qn,a1 as ka,b as Ut,j as ho,a2 as Ta,d as Ea,a3 as Aa,a4 as pt,a5 as Ia,a6 as Ca,a7 as kn,a8 as go,a9 as Un,aa as ja,ab as gr,ac as Rt,ad as Dt,ae as Tn,af as Pa,ag as Sa,ah as Oa,ai as Ra,aj as Da,ak as Na,al as La,am as za,an as Ba,ao as Fa,E as vo}from"./6G4A7wwE.js";import{z as yo,A as bo,u as Y,e as F,w as ie,k as bt,o as Tt,n as wo,a1 as Qe,y as Ua,g as Mt,q as un,b as ce,l as et,v as Va,U as cn,d as Te,ao as hn,s as Ae,c as K,H as Je,a as q,aa as er,a3 as Ye,aE as $a,h as vr,p as rn,F as Ge,J as Pe,L as O,Z as Ha,r as ft,W as xo,ac as Ya,t as ot,M as zt,O as X,ai as Ga,P as se,$ as Wa,a0 as qa,Y as _o,as as Xa,K as W,_ as ct,N as ze,av as Ka,a6 as Za,aA as Ja}from"./Cdy4ovlM.js";import{_ as tt,a2 as Qa,B as es,D as ts}from"./BuICEgOE.js";import{u as ns}from"./D7ee5kX0.js";function We(t){return yo()?(bo(t),!0):!1}function Le(){const t=new Set,e=o=>{t.delete(o)};return{on:o=>{t.add(o);const a=()=>e(o);return We(a),{off:a}},off:e,trigger:(...o)=>Promise.all(Array.from(t).map(a=>a(...o)))}}function be(t){return typeof t=="function"?t():Y(t)}const Vn=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const rs=t=>t!=null,os=Object.prototype.toString,as=t=>os.call(t)==="[object Object]",$n=()=>{};function ss(t,e){function r(...n){return new Promise((o,a)=>{Promise.resolve(t(()=>e.apply(this,n),{fn:e,thisArg:this,args:n})).then(o).catch(a)})}return r}function is(t,e={}){let r,n,o=$n;const a=i=>{clearTimeout(i),o(),o=$n};return i=>{const d=be(t),l=be(e.maxWait);return r&&a(r),d<=0||l!==void 0&&l<=0?(n&&(a(n),n=null),Promise.resolve(i())):new Promise((v,y)=>{o=e.rejectOnCancel?y:v,l&&!n&&(n=setTimeout(()=>{r&&a(r),n=null,v(i())},l)),r=setTimeout(()=>{n&&a(n),n=null,v(i())},d)})}}function ls(t,e,r=!1){return e.reduce((n,o)=>(o in t&&(!r||t[o]!==void 0)&&(n[o]=t[o]),n),{})}function us(t){return Mt()}function cs(t,e=200,r={}){return ss(is(e,r),t)}function yr(t,e=200,r={}){const n=F(t.value),o=cs(()=>{n.value=t.value},e,r);return ie(t,()=>o()),n}function ds(t,e={}){if(!bt(t))return Qe(t);const r=Array.isArray(t.value)?Array.from({length:t.value.length}):{};for(const n in t.value)r[n]=Ua(()=>({get(){return t.value[n]},set(o){var a;if((a=be(e.replaceRef))!=null?a:!0)if(Array.isArray(t.value)){const i=[...t.value];i[n]=o,t.value=i}else{const i={...t.value,[n]:o};Object.setPrototypeOf(i,Object.getPrototypeOf(t.value)),t.value=i}else t.value[n]=o}}));return r}function tr(t,e=!0,r){us()?Tt(t,r):e?t():wo(t)}function ps(t,e=1e3,r={}){const{immediate:n=!0,immediateCallback:o=!1}=r;let a=null;const s=F(!1);function i(){a&&(clearInterval(a),a=null)}function d(){s.value=!1,i()}function l(){const v=be(e);v<=0||(s.value=!0,o&&t(),i(),s.value&&(a=setInterval(t,v)))}if(n&&Vn&&l(),bt(e)||typeof e=="function"){const v=ie(e,()=>{s.value&&Vn&&l()});We(v)}return We(d),{isActive:s,pause:d,resume:l}}const nt=Vn?window:void 0;function Fe(t){var e;const r=be(t);return(e=r?.$el)!=null?e:r}function Vt(...t){let e,r,n,o;if(typeof t[0]=="string"||Array.isArray(t[0])?([r,n,o]=t,e=nt):[e,r,n,o]=t,!e)return $n;Array.isArray(r)||(r=[r]),Array.isArray(n)||(n=[n]);const a=[],s=()=>{a.forEach(v=>v()),a.length=0},i=(v,y,f,w)=>(v.addEventListener(y,f,w),()=>v.removeEventListener(y,f,w)),d=ie(()=>[Fe(e),be(o)],([v,y])=>{if(s(),!v)return;const f=as(y)?{...y}:y;a.push(...r.flatMap(w=>n.map(b=>i(v,w,b,f))))},{immediate:!0,flush:"post"}),l=()=>{d(),s()};return We(l),l}function fs(){const t=F(!1),e=Mt();return e&&Tt(()=>{t.value=!0},e),t}function gn(t){const e=fs();return ce(()=>(e.value,!!t()))}function ms(t,e,r={}){const{window:n=nt,...o}=r;let a;const s=gn(()=>n&&"MutationObserver"in n),i=()=>{a&&(a.disconnect(),a=void 0)},d=ce(()=>{const f=be(t),w=(Array.isArray(f)?f:[f]).map(Fe).filter(rs);return new Set(w)}),l=ie(()=>d.value,f=>{i(),s.value&&f.size&&(a=new MutationObserver(e),f.forEach(w=>a.observe(w,o)))},{immediate:!0,flush:"post"}),v=()=>a?.takeRecords(),y=()=>{l(),i()};return We(y),{isSupported:s,stop:y,takeRecords:v}}function nr(t,e={}){const{immediate:r=!0,fpsLimit:n=void 0,window:o=nt}=e,a=F(!1),s=n?1e3/n:null;let i=0,d=null;function l(f){if(!a.value||!o)return;i||(i=f);const w=f-i;if(s&&w<s){d=o.requestAnimationFrame(l);return}i=f,t({delta:w,timestamp:f}),d=o.requestAnimationFrame(l)}function v(){!a.value&&o&&(a.value=!0,i=0,d=o.requestAnimationFrame(l))}function y(){a.value=!1,d!=null&&o&&(o.cancelAnimationFrame(d),d=null)}return r&&v(),We(y),{isActive:un(a),pause:y,resume:v}}function hs(t,e={}){const{window:r=nt}=e,n=gn(()=>r&&"matchMedia"in r&&typeof r.matchMedia=="function");let o;const a=F(!1),s=l=>{a.value=l.matches},i=()=>{o&&("removeEventListener"in o?o.removeEventListener("change",s):o.removeListener(s))},d=et(()=>{n.value&&(i(),o=r.matchMedia(be(t)),"addEventListener"in o?o.addEventListener("change",s):o.addListener(s),a.value=o.matches)});return We(()=>{d(),i(),o=void 0}),a}function gs(t={}){const{window:e=nt}=t,r=F(1);if(e){let n=function(){r.value=e.devicePixelRatio,o(),a=e.matchMedia(`(resolution: ${r.value}dppx)`),a.addEventListener("change",n,{once:!0})},o=function(){a?.removeEventListener("change",n)},a;n(),We(o)}return{pixelRatio:r}}function Mo(t,e,r={}){const{window:n=nt,...o}=r;let a;const s=gn(()=>n&&"ResizeObserver"in n),i=()=>{a&&(a.disconnect(),a=void 0)},d=ce(()=>{const y=be(t);return Array.isArray(y)?y.map(f=>Fe(f)):[Fe(y)]}),l=ie(d,y=>{if(i(),s.value&&n){a=new ResizeObserver(e);for(const f of y)f&&a.observe(f,o)}},{immediate:!0,flush:"post"}),v=()=>{i(),l()};return We(v),{isSupported:s,stop:v}}function vs(t,e={}){const{reset:r=!0,windowResize:n=!0,windowScroll:o=!0,immediate:a=!0,updateTiming:s="sync"}=e,i=F(0),d=F(0),l=F(0),v=F(0),y=F(0),f=F(0),w=F(0),b=F(0);function x(){const E=Fe(t);if(!E){r&&(i.value=0,d.value=0,l.value=0,v.value=0,y.value=0,f.value=0,w.value=0,b.value=0);return}const A=E.getBoundingClientRect();i.value=A.height,d.value=A.bottom,l.value=A.left,v.value=A.right,y.value=A.top,f.value=A.width,w.value=A.x,b.value=A.y}function p(){s==="sync"?x():s==="next-frame"&&requestAnimationFrame(()=>x())}return Mo(t,p),ie(()=>Fe(t),E=>!E&&p()),ms(t,p,{attributeFilter:["style","class"]}),o&&Vt("scroll",p,{capture:!0,passive:!0}),n&&Vt("resize",p,{passive:!0}),tr(()=>{a&&p()}),{height:i,bottom:d,left:l,right:v,top:y,width:f,x:w,y:b,update:p}}function ys(t,e={width:0,height:0},r={}){const{window:n=nt,box:o="content-box"}=r,a=ce(()=>{var y,f;return(f=(y=Fe(t))==null?void 0:y.namespaceURI)==null?void 0:f.includes("svg")}),s=F(e.width),i=F(e.height),{stop:d}=Mo(t,([y])=>{const f=o==="border-box"?y.borderBoxSize:o==="content-box"?y.contentBoxSize:y.devicePixelContentBoxSize;if(n&&a.value){const w=Fe(t);if(w){const b=w.getBoundingClientRect();s.value=b.width,i.value=b.height}}else if(f){const w=Array.isArray(f)?f:[f];s.value=w.reduce((b,{inlineSize:x})=>b+x,0),i.value=w.reduce((b,{blockSize:x})=>b+x,0)}else s.value=y.contentRect.width,i.value=y.contentRect.height},r);tr(()=>{const y=Fe(t);y&&(s.value="offsetWidth"in y?y.offsetWidth:e.width,i.value="offsetHeight"in y?y.offsetHeight:e.height)});const l=ie(()=>Fe(t),y=>{s.value=y?e.width:0,i.value=y?e.height:0});function v(){d(),l()}return{width:s,height:i,stop:v}}function bs(t){var e;const r=F(0);if(typeof performance>"u")return r;const n=(e=t?.every)!=null?e:10;let o=performance.now(),a=0;return nr(()=>{if(a+=1,a>=n){const s=performance.now(),i=s-o;r.value=Math.round(1e3/(i/a)),o=s,a=0}}),r}function ws(t={}){const e=F(),r=gn(()=>typeof performance<"u"&&"memory"in performance);if(r.value){const{interval:n=1e3}=t;ps(()=>{e.value=performance.memory},n,{immediate:t.immediate,immediateCallback:t.immediateCallback})}return{isSupported:r,memory:e}}const ko={x:0,y:0,pointerId:0,pressure:0,tiltX:0,tiltY:0,width:0,height:0,twist:0,pointerType:null},xs=Object.keys(ko);function _s(t={}){const{target:e=nt}=t,r=F(!1),n=F(t.initialValue||{});Object.assign(n.value,ko,n.value);const o=a=>{r.value=!0,!(t.pointerTypes&&!t.pointerTypes.includes(a.pointerType))&&(n.value=ls(a,xs,!1))};if(e){const a={passive:!0};Vt(e,["pointerdown","pointermove","pointerup"],o,a),Vt(e,"pointerleave",()=>r.value=!1,a)}return{...ds(n),isInside:r}}function Ms(t={}){const{window:e=nt,initialWidth:r=Number.POSITIVE_INFINITY,initialHeight:n=Number.POSITIVE_INFINITY,listenOrientation:o=!0,includeScrollbar:a=!0,type:s="inner"}=t,i=F(r),d=F(n),l=()=>{e&&(s==="outer"?(i.value=e.outerWidth,d.value=e.outerHeight):a?(i.value=e.innerWidth,d.value=e.innerHeight):(i.value=e.document.documentElement.clientWidth,d.value=e.document.documentElement.clientHeight))};if(l(),tr(l),Vt("resize",l,{passive:!0}),o){const v=hs("(orientation: portrait)");ie(v,()=>l())}return{width:i,height:d}}var ks=Object.defineProperty,Ts=(t,e,r)=>e in t?ks(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,br=(t,e,r)=>Ts(t,typeof e!="symbol"?e+"":e,r);const Es="@tresjs/core",As="module",Is="4.3.1",Cs="pnpm@9.1.4",js="Declarative ThreeJS using Vue Components",Ps="Alvaro Saburido <hola@alvarosaburido.dev> (https://github.com/alvarosabu/)",Ss="MIT",Os={type:"git",url:"git+https://github.com/Tresjs/tres.git"},Rs=["vue","3d","threejs","three","threejs-vue"],Ds=!1,Ns={".":{types:"./dist/index.d.ts",import:"./dist/tres.js",require:"./dist/tres.umd.cjs"},"./components":{types:"./dist/src/components/index.d.ts"},"./composables":{types:"./dist/src/composables/index.d.ts"},"./types":{types:"./dist/src/types/index.d.ts"},"./utils":{types:"./dist/src/utils/index.d.ts"},"./*":"./*"},Ls="./dist/tres.js",zs="./dist/tres.js",Bs="./dist/index.d.ts",Fs=["*.d.ts","dist"],Us={access:"public"},Vs={dev:"cd playground/vue && npm run dev","dev:nuxt":"cd playground/nuxt && npm run dev",build:"vite build",test:"vitest","test:ci":"vitest run","test:ui":"vitest --ui --coverage.enabled=true",release:"release-it",coverage:"vitest run --coverage",lint:"eslint .","lint:fix":"eslint . --fix","docs:dev":"vitepress dev docs","docs:build":"vitepress build docs","docs:serve":"vitepress serve docs","docs:preview":"vitepress preview docs","docs:contributors":"esno scripts/update-contributors.ts"},$s={three:">=0.133",vue:">=3.4"},Hs={"@alvarosabu/utils":"^3.2.0","@vue/devtools-api":"^6.6.3","@vueuse/core":"^11.1.0"},Ys={"@release-it/conventional-changelog":"^9.0.0","@stackblitz/sdk":"^1.11.0","@tresjs/cientos":"4.0.3","@tresjs/eslint-config":"^1.4.0","@types/three":"^0.169.0","@typescript-eslint/eslint-plugin":"^8.8.1","@typescript-eslint/parser":"^8.8.1","@vitejs/plugin-vue":"^5.1.4","@vitest/coverage-c8":"^0.33.0","@vitest/coverage-v8":"^2.1.2","@vitest/ui":"^2.1.2","@vue/test-utils":"^2.4.6",eslint:"^9.12.0","eslint-plugin-vue":"^9.29.0",esno:"^4.8.0",gsap:"^3.12.5",husky:"^9.1.6",jsdom:"^25.0.1",kolorist:"^1.8.0",ohmyfetch:"^0.4.21",pathe:"^1.1.2","release-it":"^17.8.2","rollup-plugin-analyzer":"^4.0.0","rollup-plugin-copy":"^3.5.0","rollup-plugin-visualizer":"^5.12.0",sponsorkit:"^0.15.5",three:"^0.169.0",unocss:"^0.63.4",unplugin:"^1.14.1","unplugin-vue-components":"^0.27.4",vite:"^5.4.8","vite-plugin-banner":"^0.8.0","vite-plugin-dts":"4.2.4","vite-plugin-inspect":"^0.8.7","vite-plugin-require-transform":"^1.0.21","vite-svg-loader":"^5.1.0",vitepress:"1.4.0",vitest:"^2.1.2",vue:"3.5.12","vue-demi":"^0.14.10"},Gs={name:Es,type:As,version:Is,packageManager:Cs,description:js,author:Ps,license:Ss,repository:Os,keywords:Rs,sideEffects:Ds,exports:Ns,main:Ls,module:zs,types:Bs,files:Fs,publishConfig:Us,scripts:Vs,peerDependencies:$s,dependencies:Hs,devDependencies:Ys};class Ws extends vt{constructor(...e){super(...e),br(this,"type","HightlightMesh"),br(this,"createTime"),this.createTime=Date.now()}onBeforeRender(){const e=(Date.now()-this.createTime)/1e3,r=1+.07*Math.sin(2.5*e);this.scale.set(r,r,r)}}function Hn(t){return typeof t>"u"}function dn(t){return Array.isArray(t)}function qs(t){return typeof t=="number"}function To(t){return typeof t=="string"}function gt(t){return typeof t=="function"}function rt(t){return t===Object(t)&&!dn(t)&&!gt(t)}function it(t){return rt(t)&&"isObject3D"in t&&!!t.isObject3D}function wr(t){return rt(t)&&"isCamera"in t&&!!t.isCamera}function Xs(t){return rt(t)&&"isBufferGeometry"in t&&!!t.isBufferGeometry}function Ks(t){return rt(t)&&"isMaterial"in t&&!!t.isMaterial}function Zs(t){return rt(t)&&"isLight"in t&&!!t.isLight}function Js(t){return rt(t)&&"isFog"in t&&!!t.isFog}function Qs(t){return rt(t)&&"isScene"in t&&!!t.isScene}function Xt(t){return it(t)||Xs(t)||Ks(t)||Js(t)}function ei(t){return rt(t)&&!!t.isPrimitive}const Eo=(t,e)=>{for(const r of Object.keys(e))e[r]instanceof Object&&Object.assign(e[r],Eo(t[r],e[r]));return Object.assign(t||{},e),t},ti="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",ni=ai(ti);function xr(t){return t&&t.nodeType===1}function Kt(t){return t.replace(/-([a-z])/g,(e,r)=>r.toUpperCase())}const ri=/\B([A-Z])/g;function oi(t){return t.replace(ri,"-$1").toLowerCase()}function ai(t,e){const r=Object.create(null),n=t.split(",");for(let o=0;o<n.length;o++)r[n[o]]=!0;return o=>!!r[o]}const _r=(t,e)=>{if(!e)return;const r=Array.isArray(e)?e:e.match(/([^[.\]])+/g);return r?.reduce((n,o)=>n&&n[o],t)},si=(t,e,r)=>{const n=Array.isArray(e)?e:e.match(/([^[.\]])+/g);n&&n.reduce((o,a,s)=>(o[a]===void 0&&(o[a]={}),s===n.length-1&&(o[a]=r),o[a]),t)};function Ao(t,e){if(xr(t)&&xr(e)){const o=t.attributes,a=e.attributes;return o.length!==a.length?!1:Array.from(o).every(({name:s,value:i})=>e.getAttribute(s)===i)}if(t===e)return!0;if(t===null||typeof t!="object"||e===null||typeof e!="object")return!1;const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const o of r)if(!n.includes(o)||!Ao(t[o],e[o]))return!1;return!0}function ii(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(!Ao(t[r],e[r]))return!1;return!0}function li(t,e,r,n){const o=d=>{if(d.uuid===e)return d;for(const l of d.children){const v=o(l);if(v)return v}},a=o(t);if(!a){console.warn("Object with UUID not found in the scene.");return}let s=a;for(let d=0;d<r.length-1;d++)if(s[r[d]]!==void 0)s=s[r[d]];else{console.warn(`Property path is not valid: ${r.join(".")}`);return}const i=r[r.length-1];s[i]!==void 0?s[i]=n:console.warn(`Property path is not valid: ${r.join(".")}`)}function ui(t){const e=new co({color:11003607,transparent:!0,opacity:.2,depthTest:!1,side:mn});return new Ws(t.geometry.clone(),e)}function ci(t){return"map"in t}function Mr(t){ci(t)&&t.map&&t.map.dispose(),t.dispose()}function Io(t){var e,r;if(t.parent&&((e=t.removeFromParent)==null||e.call(t)),delete t.__tres,[...t.children].forEach(n=>Io(n)),!(t instanceof Ft)){const n=t;t&&((r=t.dispose)==null||r.call(t)),n.geometry&&(n.geometry.dispose(),delete n.geometry),Array.isArray(n.material)?(n.material.forEach(o=>Mr(o)),delete n.material):n.material&&(Mr(n.material),delete n.material)}}function di(t,e){let r=0;for(let n=0;n<t.length;n++)e(t[n],n)&&(t[r]=t[n],r++);return t.length=r,t}function Yn(t,e){let r=t;if(e.includes("-")){const n=e.split("-");let o=n.shift();for(;r&&n.length;)o in r?(r=r[o],o=n.shift()):o=kr(o,n.shift());return{target:r,key:kr(o,...n)}}else return{target:r,key:e}}function kr(...t){return t.map((e,r)=>r===0?e:e.charAt(0).toUpperCase()+e.slice(1)).join("")}const Tr=/-\d+$/;function pi(t,e,r){if(To(r)){if(Tr.test(r)){const a=r.replace(Tr,""),{target:s,key:i}=Yn(t,a);if(!Array.isArray(s[i])){const d=s[i],l=[];l.__tresDetach=()=>{l.every(v=>Hn(v))&&(s[i]=d)},s[i]=l}}const{target:n,key:o}=Yn(t,r);e.__tres.previousAttach=n[o],n[o]=kt(e)}else e.__tres.previousAttach=r(t,e)}function fi(t,e,r){var n,o,a;if(To(r)){const{target:s,key:i}=Yn(t,r),d=e.__tres.previousAttach;d===void 0?delete s[i]:s[i]=d,"__tresDetach"in s&&s.__tresDetach()}else(o=(n=e.__tres)==null?void 0:n.previousAttach)==null||o.call(n,t,e);(a=e.__tres)==null||delete a.previousAttach}function ht(t,e,r){const n=t;return n.__tres={type:"unknown",eventCount:0,root:r,handlers:{},memoizedProps:{},objects:[],parent:null,previousAttach:null,...e},n.__tres.attach||(n.isMaterial?n.__tres.attach="material":n.isBufferGeometry?n.__tres.attach="geometry":n.isFog&&(n.__tres.attach="fog")),n}function Co(t){var e;const r=(e=t?.__tres)==null?void 0:e.root;r&&r.render&&r.render.canBeInvalidated.value&&r.invalidate()}function mi(t,e,r){var n;if(!gt(t.setPixelRatio))return;let o=0;if(dn(r)&&r.length>=2){const[a,s]=r;o=dt.clamp(e,a,s)}else qs(r)?o=r:o=e;o!==((n=t.getPixelRatio)==null?void 0:n.call(t))&&t.setPixelRatio(o)}function hi(t,e,r,n,o){const a=[...e.__tres.objects],s=kt(e);if(t=kt(t),s===t)return!0;const i=ht(t,e.__tres??{},o),d=e.parent??e.__tres.parent??null,l={...e.__tres.memoizedProps};delete l.object;for(const v of a)jo(v,o),Po(v,o);s.__tres.objects=[],n.remove(e);for(const[v,y]of Object.entries(l))n.patchProp(i,v,i[v],y);r(t),n.insert(e,d);for(const v of a)n.insert(v,e);return!0}function kt(t){return ei(t)?(t.object.__tres=t.__tres,t.object):t}function jo(t,e){var r,n,o,a;const s=((r=t.__tres)==null?void 0:r.parent)||e.scene.value;t.__tres&&(t.__tres.parent=null),s&&s.__tres&&"objects"in s.__tres&&di(s.__tres.objects,i=>i!==t),(n=t.__tres)!=null&&n.attach?fi(s,t,t.__tres.attach):((a=(o=t.parent)==null?void 0:o.remove)==null||a.call(o,kt(t)),t.parent=null)}function Po(t,e){var r;(r=t.traverse)==null||r.call(t,n=>{var o;e.deregisterCamera(n),(o=e.eventManager)==null||o.deregisterPointerMissedObject(n)}),e.deregisterCamera(t),Co(t)}const gi=({sizes:t})=>{const e=F([]),r=ce(()=>e.value[0]),n=s=>{const i=s instanceof pa?s:e.value.find(l=>l.uuid===s);if(!i)return;const d=e.value.filter(({uuid:l})=>l!==i.uuid);e.value=[i,...d]},o=(s,i=!1)=>{if(wr(s)){const d=s;if(e.value.some(({uuid:l})=>l===d.uuid))return;i?n(d):e.value.push(d)}},a=s=>{if(wr(s)){const i=s;e.value=e.value.filter(({uuid:d})=>d!==i.uuid)}};return et(()=>{t.aspectRatio.value&&e.value.forEach(s=>{!s.manual&&(s instanceof He||vi(s))&&(s instanceof He?s.aspect=t.aspectRatio.value:(s.left=t.width.value*-.5,s.right=t.width.value*.5,s.top=t.height.value*.5,s.bottom=t.height.value*-.5),s.updateProjectionMatrix())})}),Je(()=>{e.value=[]}),{camera:r,cameras:e,registerCamera:o,deregisterCamera:a,setCameraActive:n}};function vi(t){return t.hasOwnProperty("isOrthographicCamera")&&t.isOrthographicCamera}const pn="[TresJS â–² â–  â—] ";function yi(...t){typeof t[0]=="string"?t[0]=pn+t[0]:t.unshift(pn),console.error(...t)}function bi(...t){typeof t[0]=="string"?t[0]=pn+t[0]:t.unshift(pn),console.warn(...t)}function wi(t,e){}function vn(){return{logError:yi,logWarning:bi,logMessage:wi}}const Gn=F({}),Wn=t=>Object.assign(Gn.value,t);function En(){const t=new Map,e=new Set;let r=0,n=!1;const o=()=>{const s=Array.from(t.entries()).sort((i,d)=>{const l=i[1].priority-d[1].priority;return l===0?i[1].addI-d[1].addI:l});e.clear(),s.forEach(i=>e.add(i[0]))},a=s=>{t.delete(s),e.delete(s)};return{on:(s,i=0)=>{t.set(s,{priority:i,addI:r++});const d=()=>a(s);return We(d),n=!0,{off:d}},off:a,trigger:(...s)=>{n&&(o(),n=!1),e.forEach(i=>i(...s))},dispose:()=>{t.clear(),e.clear()},get count(){return t.size}}}function xi(){let t=!0,e=!0,r=!1;const n=new so(!1),o=F(n.running),a=F(!1);let s;const i=dt.generateUUID();let d=null;const l=En(),v=En(),y=En();g();let f={};function w(_){f=_}function b(_,m,c=0){switch(m){case"before":return l.on(_,c);case"render":return d||(d=_),v.dispose(),v.on(_);case"after":return y.on(_,c)}}function x(){e&&(e=!1,g(),P())}function p(){e=!0,g(),cancelAnimationFrame(s)}function E(){r=!1,g()}function A(){r=!0,g()}function T(){a.value=!0}function C(){a.value=!1}function P(){if(!t){s=requestAnimationFrame(P);return}const _=n.getDelta(),m=n.getElapsedTime(),c={camera:Y(f.camera),scene:Y(f.scene),renderer:Y(f.renderer),raycaster:Y(f.raycaster),controls:Y(f.controls),invalidate:f.invalidate,advance:f.advance},u={delta:_,elapsed:m,clock:n,...c};o.value&&l.trigger(u),a.value||(v.count?v.trigger(u):d&&d(u)),o.value&&y.trigger(u),s=requestAnimationFrame(P)}function g(){const _=!e&&!r;n.running!==_&&(n.running?n.stop():n.start()),o.value=n.running}return{loopId:i,register:(_,m,c)=>b(_,m,c),start:x,stop:p,pause:A,resume:E,pauseRender:T,resumeRender:C,isRenderPaused:a,isActive:o,setContext:w,setReady:_=>t=_}}function rr(t){let e=0;return t.traverse(r=>{if(r.isMesh&&r.geometry&&r.type!=="HightlightMesh"){const n=r.geometry,o=n.attributes.position.count*3*Float32Array.BYTES_PER_ELEMENT,a=n.index?n.index.count*Uint32Array.BYTES_PER_ELEMENT:0,s=n.attributes.normal?n.attributes.normal.count*3*Float32Array.BYTES_PER_ELEMENT:0,i=n.attributes.uv?n.attributes.uv.count*2*Float32Array.BYTES_PER_ELEMENT:0,d=o+a+s+i;e+=d}}),e}function _i(t){return(t/1024).toFixed(2)}const Mi=Number.parseInt(uo.replace("dev",""));function ki(t){return t instanceof Se?t:Array.isArray(t)?new Se(...t):new Se(t)}const Zt={realistic:{shadows:!0,physicallyCorrectLights:!0,outputColorSpace:ca,toneMapping:lo,toneMappingExposure:3,shadowMap:{enabled:!0,type:ua}},flat:{toneMapping:io,toneMappingExposure:1}};function Ti({canvas:t,options:e,contextParts:{sizes:r,render:n,invalidate:o,advance:a}}){const s=ce(()=>({alpha:be(e.alpha)??!0,depth:be(e.depth),canvas:Fe(t),context:be(e.context),stencil:be(e.stencil),antialias:be(e.antialias)??!0,precision:be(e.precision),powerPreference:be(e.powerPreference),premultipliedAlpha:be(e.premultipliedAlpha),preserveDrawingBuffer:be(e.preserveDrawingBuffer),logarithmicDepthBuffer:be(e.logarithmicDepthBuffer),failIfMajorPerformanceCaveat:be(e.failIfMajorPerformanceCaveat)})),i=Ae(new nn(s.value));function d(){e.renderMode==="on-demand"&&o()}ie(s,()=>{i.value.dispose(),i.value=new nn(s.value),d()}),ie([r.width,r.height],()=>{i.value.setSize(r.width.value,r.height.value),d()},{immediate:!0}),ie(()=>e.clearColor,d);const{pixelRatio:l}=gs(),{logError:v}=vn(),y=(()=>{const w=new nn,b={shadowMap:{enabled:w.shadowMap.enabled,type:w.shadowMap.type},toneMapping:w.toneMapping,toneMappingExposure:w.toneMappingExposure,outputColorSpace:w.outputColorSpace};return w.dispose(),b})(),f=be(e.renderMode);return f==="on-demand"&&o(),f==="manual"&&setTimeout(()=>{a()},100),et(()=>{const w=be(e.preset);w&&(w in Zt||v(`Renderer Preset must be one of these: ${Object.keys(Zt).join(", ")}`),Eo(i.value,Zt[w])),mi(i.value,l.value,be(e.dpr)),f==="always"&&(n.frames.value=Math.max(1,n.frames.value));const b=(E,A)=>{const T=be(E),C=()=>{if(w)return _r(Zt[w],A)};if(T!==void 0)return T;const P=C();return P!==void 0?P:_r(y,A)},x=(E,A)=>si(i.value,A,b(E,A));x(e.shadows,"shadowMap.enabled"),x(e.toneMapping??lo,"toneMapping"),x(e.shadowMapType,"shadowMap.type"),Mi<150&&x(!e.useLegacyLights,"physicallyCorrectLights"),x(e.outputColorSpace,"outputColorSpace"),x(e.toneMappingExposure,"toneMappingExposure");const p=b(e.clearColor,"clearColor");p&&i.value.setClearColor(p?ki(p):new Se(0))}),Je(()=>{i.value.dispose(),i.value.forceContextLoss()}),{renderer:i}}function Ei(t,e,r=10){const n=be(t)?Ms():ys(ce(()=>be(e).parentElement)),o=un(yr(n.width,r)),a=un(yr(n.height,r)),s=ce(()=>o.value/a.value);return{height:a,width:o,aspectRatio:s}}const Ai=(t,e)=>{const r=ce(()=>e.renderer.value.domElement),n=Ae([]),{x:o,y:a}=_s({target:r});let s=0;const{width:i,height:d,top:l,left:v}=vs(r),y=({x:V,y:ue})=>{if(r.value)return{x:(V-v.value)/i.value*2-1,y:-((ue-l.value)/d.value)*2+1}},f=({x:V,y:ue})=>{if(e.camera.value)return e.raycaster.value.setFromCamera(new ke(V,ue),e.camera.value),n.value=e.raycaster.value.intersectObjects(t.value,!0),n.value},w=V=>{const ue=y({x:V?.clientX??o.value,y:V?.clientY??a.value});return ue?f(ue)||[]:[]},b=Le(),x=Le(),p=Le(),E=Le(),A=Le(),T=Le(),C=Le(),P=Le();function g(V){const ue={};for(const _e in V)typeof _e!="function"&&(ue[_e]=V[_e]);return ue}const _=(V,ue)=>{var _e,ve,xe;const Ee=g(ue),Ie=new G(ue?.clientX,ue?.clientY,0).unproject((_e=e.camera)==null?void 0:_e.value);V.trigger({...Ee,intersections:n.value,unprojectedPoint:Ie,ray:(ve=e.raycaster)==null?void 0:ve.value.ray,camera:(xe=e.camera)==null?void 0:xe.value,sourceEvent:ue,delta:s,stopPropagating:!1})};let m;const c=V=>{w(V),_(p,V),m=V},u=()=>{m&&c(m)};let M,I,D;const L=V=>{var ue;M=(ue=n.value[0])==null?void 0:ue.object,s=0,I=new ke(V?.clientX??o.value,V?.clientY??a.value),_(A,V)};let B,N=!1;const re=V=>{var ue,_e,ve;V instanceof PointerEvent&&(n.value.length===0&&_(T,V),M===((ue=n.value[0])==null?void 0:ue.object)&&(D=new ke(V?.clientX??o.value,V?.clientY??a.value),s=I?.distanceTo(D),V.button===0?(_(b,V),B===((_e=n.value[0])==null?void 0:_e.object)?N=!0:(B=(ve=n.value[0])==null?void 0:ve.object,N=!1)):V.button===2&&_(C,V)),_(E,V))},ae=V=>{N&&(_(x,V),B=void 0,N=!1)},Q=V=>_(p,V),ne=V=>_(P,V);return r.value.addEventListener("pointerup",re),r.value.addEventListener("pointerdown",L),r.value.addEventListener("pointermove",c),r.value.addEventListener("pointerleave",Q),r.value.addEventListener("dblclick",ae),r.value.addEventListener("wheel",ne),Je(()=>{r!=null&&r.value&&(r.value.removeEventListener("pointerup",re),r.value.removeEventListener("pointerdown",L),r.value.removeEventListener("pointermove",c),r.value.removeEventListener("pointerleave",Q),r.value.removeEventListener("dblclick",ae),r.value.removeEventListener("wheel",ne))}),{intersects:n,onClick:V=>b.on(V).off,onDblClick:V=>x.on(V).off,onContextMenu:V=>C.on(V).off,onPointerMove:V=>p.on(V).off,onPointerUp:V=>E.on(V).off,onPointerDown:V=>A.on(V).off,onPointerMissed:V=>T.on(V).off,onWheel:V=>P.on(V).off,forceUpdate:u}};function An(t,e){if(Array.isArray(t))for(const r of t)r(e);typeof t=="function"&&t(e)}function Ii(t,e,r){var n;const o=Ae(),a=Ae();t&&(o.value=t),e&&(a.value=e);const s=c=>{var u;return((u=c.__tres)==null?void 0:u.eventCount)>0},i=c=>{var u;return((u=c.children)==null?void 0:u.some(M=>i(M)))||s(c)},d=Ae(((n=o.value)==null?void 0:n.children).filter(i)||[]);function l(c,u){const M=[],I=()=>u.stopPropagating=!0;u.stopPropagation=I;for(const D of u?.intersections){if(u.stopPropagating)return;u={...u,...D};const{object:L}=D;u.eventObject=L,An(L[c],u),M.push(L);let B=L.parent;for(;B!==null&&!u.stopPropagating&&!M.includes(B);)u.eventObject=B,An(B[c],u),M.push(B),B=B.parent;const N=oi(c.slice(2));r(N,{intersection:D,event:u})}}const{onClick:v,onDblClick:y,onContextMenu:f,onPointerMove:w,onPointerDown:b,onPointerUp:x,onPointerMissed:p,onWheel:E,forceUpdate:A}=Ai(d,e);x(c=>l("onPointerUp",c)),b(c=>l("onPointerDown",c)),v(c=>l("onClick",c)),y(c=>l("onDoubleClick",c)),f(c=>l("onContextMenu",c)),E(c=>l("onWheel",c));let T=[];w(c=>{const u=c.intersections.map(({object:I})=>I),M=c.intersections;T.forEach(({object:I})=>{u.includes(I)||(c.intersections=T,l("onPointerLeave",c),l("onPointerOut",c))}),c.intersections=M,c.intersections.forEach(({object:I})=>{T.includes(I)||(l("onPointerEnter",c),l("onPointerOver",c))}),l("onPointerMove",c),T=c.intersections});const C=[];p(c=>{const u=()=>c.stopPropagating=!0;c.stopPropagation=u,C.forEach(M=>{c.stopPropagating||(c.eventObject=M,An(M.onPointerMissed,c))}),r("pointer-missed",{event:c})});function P(c){Xt(c)&&it(c)&&d.value.push(c)}function g(c){if(Xt(c)&&it(c)){const u=d.value.indexOf(c);u>-1&&d.value.splice(u,1)}}function _(c){Xt(c)&&it(c)&&c.onPointerMissed&&C.push(c)}function m(c){if(Xt(c)&&it(c)){const u=C.indexOf(c);u>-1&&C.splice(u,1)}}return e.eventManager={forceUpdate:A,registerObject:P,deregisterObject:g,registerPointerMissedObject:_,deregisterPointerMissedObject:m},{forceUpdate:A,registerObject:P,deregisterObject:g,registerPointerMissedObject:_,deregisterPointerMissedObject:m}}function Ci(t,e,r=100){r=r<=0?100:r;const n=Le(),o=new Set;let a=!1,s=!1,i=null;function d(){i&&clearTimeout(i),!s&&!a&&t()?(n.trigger(e),o.forEach(y=>y()),o.clear(),a=!0):!s&&!a&&(i=setTimeout(d,r))}function l(){s=!0,i&&clearTimeout(i)}d();const v=(y,...f)=>{y(...f)};return{on:y=>{if(a)return v(y,e),{off:()=>{}};{const f=n.on(y);return o.add(f.off),n.on(y)}},off:n.off,trigger:n.trigger,cancel:l}}const In=new WeakMap;function ji(t){if(t=t||Ve(),In.has(t))return In.get(t);const e=100,r=Date.now(),n=Ci(()=>{if(Date.now()-r>=e)return!0;{const o=t.renderer.value,a=o?.domElement||{width:0,height:0};return!!(o&&a.width>0&&a.height>0)}},t);return In.set(t,n),n}function Pi({scene:t,canvas:e,windowSize:r,rendererOptions:n,emit:o}){const a=Ae(t),s=Ei(r,e),{camera:i,cameras:d,registerCamera:l,deregisterCamera:v,setCameraActive:y}=gi({sizes:s}),f={mode:F(n.renderMode||"always"),priority:F(0),frames:F(0),maxFrames:60,canBeInvalidated:ce(()=>f.mode.value==="on-demand"&&f.frames.value===0)};function w(D=1){n.renderMode==="on-demand"&&(f.frames.value=Math.min(f.maxFrames,f.frames.value+D))}function b(){n.renderMode==="manual"&&(f.frames.value=1)}const{renderer:x}=Ti({canvas:e,options:n,contextParts:{sizes:s,render:f,invalidate:w,advance:b}}),p={sizes:s,scene:a,camera:i,cameras:un(d),renderer:x,raycaster:Ae(new la),controls:F(null),perf:{maxFrames:160,fps:{value:0,accumulator:[]},memory:{currentMem:0,allocatedMem:0,accumulator:[]}},render:f,advance:b,extend:Wn,invalidate:w,registerCamera:l,setCameraActive:y,deregisterCamera:v,loop:xi()};rn("useTres",p),p.scene.value.__tres={root:p},p.loop.register(()=>{i.value&&f.frames.value>0&&(x.value.render(t,i.value),o("render",p.renderer.value)),f.priority.value=0,f.mode.value==="always"?f.frames.value=1:f.frames.value=Math.max(0,f.frames.value-1)},"render");const{on:E,cancel:A}=ji(p);p.loop.setReady(!1),p.loop.start(),E(()=>{o("ready",p),p.loop.setReady(!0),Ii(t,p,o)}),Je(()=>{A(),p.loop.stop()});const T=100,C=bs({every:T}),{isSupported:P,memory:g}=ws({interval:T}),_=160;let m=performance.now();const c=({timestamp:D})=>{p.scene.value&&(p.perf.memory.allocatedMem=rr(p.scene.value)),D-m>=T&&(m=D,p.perf.fps.accumulator.push(C.value),p.perf.fps.accumulator.length>_&&p.perf.fps.accumulator.shift(),p.perf.fps.value=C.value,P.value&&g.value&&(p.perf.memory.accumulator.push(g.value.usedJSHeapSize/1024/1024),p.perf.memory.accumulator.length>_&&p.perf.memory.accumulator.shift(),p.perf.memory.currentMem=p.perf.memory.accumulator.reduce((L,B)=>L+B,0)/p.perf.memory.accumulator.length))};let u=0;const M=1,{pause:I}=nr(({delta:D})=>{window.__TRES__DEVTOOLS__&&(c({timestamp:performance.now()}),u+=D,u>=M&&(window.__TRES__DEVTOOLS__.cb(p),u=0))},{immediate:!0});return Je(()=>{I()}),p}function Ve(){const t=Va("useTres");if(!t)throw new Error("useTresContext must be used together with useTresContextProvider");return t}function yn(){const{camera:t,scene:e,renderer:r,loop:n,raycaster:o,controls:a,invalidate:s,advance:i}=Ve();n.setContext({camera:t,scene:e,renderer:r,raycaster:o,controls:a,invalidate:s,advance:i});function d(y,f=0){return n.register(y,"before",f)}function l(y){return n.register(y,"render")}function v(y,f=0){return n.register(y,"after",f)}return{pause:n.pause,resume:n.resume,pauseRender:n.pauseRender,resumeRender:n.resumeRender,isActive:n.isActive,onBeforeRender:d,render:l,onAfterRender:v}}const So=Le(),Oo=Le(),or=Le(),Bt=new so;let on=0,an=0;const{pause:Si,resume:Er,isActive:Oi}=nr(()=>{So.trigger({delta:on,elapsed:an,clock:Bt}),Oo.trigger({delta:on,elapsed:an,clock:Bt}),or.trigger({delta:on,elapsed:an,clock:Bt})},{immediate:!1});or.on(()=>{on=Bt.getDelta(),an=Bt.getElapsedTime()});let Ar=!1;const Ri=()=>(Ar||(Ar=!0,Er()),{onBeforeLoop:So.on,onLoop:Oo.on,onAfterLoop:or.on,pause:Si,resume:Er,isActive:Oi});function Di(t,e={},r={}){let n=t;const o=i=>{n=i};let a=new Proxy({},{});const s={has(i,d){return d in e||d in n},get(i,d,l){return d in e?e[d](n):n[d]},set(i,d,l){return r[d]?r[d](l,n,a,o):n[d]=l,!0}};return a=new Proxy({},s),a}const{logError:Ir}=vn(),Cr=["onClick","onContextMenu","onPointerMove","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut","onDoubleClick","onPointerDown","onPointerUp","onPointerCancel","onPointerMissed","onLostPointerCapture","onWheel"],Ni=t=>{const e=t.scene.value;function r(l,v,y,f){if(f||(f={}),f.args||(f.args=[]),l==="template"||ni(l))return null;let w=l.replace("Tres",""),b;if(l==="primitive"){(!rt(f.object)||bt(f.object))&&Ir("Tres primitives need an 'object' prop, whose value is an object or shallowRef<object>"),w=f.object.type;const x={};b=Di(f.object,{object:p=>p,isPrimitive:()=>!0,__tres:()=>x},{object:(p,E,A,T)=>{hi(p,A,T,{patchProp:a,remove:o,insert:n},t)},__tres:p=>{Object.assign(x,p)}})}else{const x=Gn.value[w];x||Ir(`${w} is not defined on the THREE namespace. Use extend to add it to the catalog.`),b=new x(...f.args)}return b?(b.isCamera&&(f!=null&&f.position||b.position.set(3,3,3),f!=null&&f.lookAt||b.lookAt(0,0,0)),b=ht(b,{...b.__tres,type:w,memoizedProps:f,eventCount:0,primitive:l==="primitive",attach:f.attach},t),b):null}function n(l,v){var y,f,w;if(!l)return;v=v||e;const b=l.__tres?l:ht(l,{},t),x=v.__tres?v:ht(v,{},t);l=kt(b),v=kt(x),l.__tres&&((y=l.__tres)==null?void 0:y.eventCount)>0&&((f=t.eventManager)==null||f.registerObject(l)),t.registerCamera(l),(w=t.eventManager)==null||w.registerPointerMissedObject(l),b.__tres.attach?pi(x,b,b.__tres.attach):it(l)&&it(x)&&(x.add(l),l.dispatchEvent({type:"added"})),b.__tres.parent=x,x.__tres.objects&&!x.__tres.objects.includes(b)&&x.__tres.objects.push(b)}function o(l,v){var y,f,w,b;if(!l)return;l!=null&&l.__tres&&((y=l.__tres)==null?void 0:y.eventCount)>0&&((f=t.eventManager)==null||f.deregisterObject(l)),v=Hn(v)?"default":v;const x=(w=l.__tres)==null?void 0:w.dispose;Hn(x)||(x===null?v=!1:v=x);const p=(b=l.__tres)==null?void 0:b.primitive,E=v==="default"?!p:!!v;if(l.__tres&&"objects"in l.__tres&&[...l.__tres.objects].forEach(A=>o(A,v)),E&&l.children&&[...l.children].forEach(A=>o(A,v)),jo(l,t),Po(l,t),E&&!Qs(l)){if(gt(v))v(l);else if(gt(l.dispose))try{l.dispose()}catch{}}"__tres"in l&&delete l.__tres}function a(l,v,y,f){var w,b;if(!l)return;let x=l,p=v;if(l.__tres&&(l.__tres.memoizedProps[v]=f),v==="attach"){const C=((w=l.__tres)==null?void 0:w.parent)||l.parent;o(l),ht(l,{attach:f},t),C&&n(l,C);return}if(v==="dispose"){l.__tres||(l=ht(l,{},t)),l.__tres.dispose=f;return}if(it(l)&&p==="blocks-pointer-events"){f||f===""?l[p]=f:delete l[p];return}Cr.includes(v)&&l.__tres&&(l.__tres.eventCount+=1);let E=Kt(p),A=x?.[E];if(p==="args"){const C=l,P=y??[],g=f??[],_=((b=l.__tres)==null?void 0:b.type)||l.type;_&&P.length&&!ii(P,g)&&(x=Object.assign(C,new Gn.value[_](...f)));return}if(x.type==="BufferGeometry"){if(p==="args")return;x.setAttribute(Kt(p),new Ot(...f));return}if(p.includes("-")&&A===void 0){const C=p.split("-");A=C.reduce((P,g)=>P[Kt(g)],x),p=C.pop(),E=p,A!=null&&A.set||(x=C.reduce((P,g)=>P[Kt(g)],x))}let T=f;if(T===""&&(T=!0),gt(A)){Cr.includes(v)||(dn(T)?l[E](...T):l[E](T)),E.startsWith("on")&&gt(T)&&(x[E]=T);return}!(A!=null&&A.set)&&!gt(A)?x[E]=T:A.constructor===T.constructor&&A!=null&&A.copy?A?.copy(T):dn(T)?A.set(...T):!A.isColor&&A.setScalar?A.setScalar(T):A.set(T),Co(l)}function s(l){var v;return((v=l?.__tres)==null?void 0:v.parent)||null}function i(l){const v=ht(new da,{type:"Comment"},t);return v.name=l,v}function d(l){var v;const y=s(l),f=((v=y?.__tres)==null?void 0:v.objects)||[],w=f.indexOf(l);return w<0||w>=f.length-1?null:f[w+1]}return{insert:n,remove:o,createElement:r,patchProp:a,parentNode:s,createText:()=>{},createComment:i,setText:()=>{},setElementText:()=>{},nextSibling:d,querySelector:()=>{},setScopeId:()=>{},cloneNode:()=>{},insertStaticContent:()=>{}}};function Li(){return Ro().__VUE_DEVTOOLS_GLOBAL_HOOK__}function Ro(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const zi=typeof Proxy=="function",Bi="devtools-plugin:setup",Fi="plugin:settings:set";let Pt,qn;function Ui(){var t;return Pt!==void 0||(typeof window<"u"&&window.performance?(Pt=!0,qn=window.performance):typeof globalThis<"u"&&!((t=globalThis.perf_hooks)===null||t===void 0)&&t.performance?(Pt=!0,qn=globalThis.perf_hooks.performance):Pt=!1),Pt}function Vi(){return Ui()?qn.now():Date.now()}class $i{constructor(e,r){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=r;const n={};if(e.settings)for(const s in e.settings){const i=e.settings[s];n[s]=i.defaultValue}const o=`__vue-devtools-plugin-settings__${e.id}`;let a=Object.assign({},n);try{const s=localStorage.getItem(o),i=JSON.parse(s);Object.assign(a,i)}catch{}this.fallbacks={getSettings(){return a},setSettings(s){try{localStorage.setItem(o,JSON.stringify(s))}catch{}a=s},now(){return Vi()}},r&&r.on(Fi,(s,i)=>{s===this.plugin.id&&this.fallbacks.setSettings(i)}),this.proxiedOn=new Proxy({},{get:(s,i)=>this.target?this.target.on[i]:(...d)=>{this.onQueue.push({method:i,args:d})}}),this.proxiedTarget=new Proxy({},{get:(s,i)=>this.target?this.target[i]:i==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(i)?(...d)=>(this.targetQueue.push({method:i,args:d,resolve:()=>{}}),this.fallbacks[i](...d)):(...d)=>new Promise(l=>{this.targetQueue.push({method:i,args:d,resolve:l})})})}async setRealTarget(e){this.target=e;for(const r of this.onQueue)this.target.on[r.method](...r.args);for(const r of this.targetQueue)r.resolve(await this.target[r.method](...r.args))}}function Hi(t,e){const r=t,n=Ro(),o=Li(),a=zi&&r.enableEarlyProxy;if(o&&(n.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!a))o.emit(Bi,t,e);else{const s=a?new $i(r,o):null;(n.__VUE_DEVTOOLS_PLUGINS__=n.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:r,setupFn:e,proxy:s}),s&&e(s.proxiedTarget)}}function Yi(t,e){const r=`â–² â–  â—${t}`;typeof jr=="function"?jr(r,e):console.log(r)}function jr(t,e){throw new Error(t+e)}const Do=t=>{const e={id:t.uuid,label:t.type,children:[],tags:[]};t.name!==""&&e.tags.push({label:t.name,textColor:5750629,backgroundColor:15793395});const r=rr(t);return r>0&&e.tags.push({label:`${_i(r)} KB`,textColor:15707189,backgroundColor:16775644,tooltip:"Memory usage"}),t.type.includes("Light")&&(Zs(t)&&e.tags.push({label:`${t.intensity}`,textColor:9738662,backgroundColor:16316922,tooltip:"Intensity"}),e.tags.push({label:`#${new Se(t.color).getHexString()}`,textColor:9738662,backgroundColor:16316922,tooltip:"Color"})),t.type.includes("Camera")&&(e.tags.push({label:`${t.fov}Â°`,textColor:9738662,backgroundColor:16316922,tooltip:"Field of view"}),e.tags.push({label:`x: ${Math.round(t.position.x)} y: ${Math.round(t.position.y)} z: ${Math.round(t.position.z)}`,textColor:9738662,backgroundColor:16316922,tooltip:"Position"})),e};function No(t,e,r=""){t.children.forEach(n=>{if(n.type==="HightlightMesh"||r&&!n.type.includes(r)&&!n.name.includes(r))return;const o=Do(n);e.children.push(o),No(n,o,r)})}const Gi=[],St="tres:inspector",Wi=cn({sceneGraph:null});function qi(t,e){Hi({id:"dev.esm.tres",label:"TresJS ðŸª",logo:"https://raw.githubusercontent.com/Tresjs/tres/main/public/favicon.svg",packageName:"tresjs",homepage:"https://tresjs.org",componentStateTypes:Gi,app:t},r=>{typeof r.now!="function"&&Yi("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),r.addInspector({id:St,label:"TresJS ðŸª",icon:"account_tree",treeFilterPlaceholder:"Search instances"}),setInterval(()=>{r.sendInspectorTree(St)},1e3),setInterval(()=>{r.notifyComponentUpdate()},5e3),r.on.getInspectorTree(a=>{if(a.inspectorId===St){const s=Do(e.scene.value);No(e.scene.value,s,a.filter),Wi.sceneGraph=s,a.rootNodes=[s]}});let n=null,o=null;r.on.getInspectorState(a=>{var s;if(a.inspectorId===St){const[i]=e.scene.value.getObjectsByProperty("uuid",a.nodeId);if(!i)return;if(o&&n&&n.parent&&o.remove(n),i.isMesh){const d=ui(i);i.add(d),n=d,o=i}a.state={object:Object.entries(i).map(([d,l])=>d==="children"?{key:d,value:l.filter(v=>v.type!=="HightlightMesh")}:{key:d,value:l,editable:!0}).filter(({key:d})=>d!=="parent")},i.isScene&&(a.state.info={objects:i.children.length,memory:rr(i),calls:e.renderer.value.info.render.calls,triangles:e.renderer.value.info.render.triangles,points:e.renderer.value.info.render.points,lines:e.renderer.value.info.render.lines},a.state.programs=((s=e.renderer.value.info.programs)==null?void 0:s.map(d=>({key:d.name,value:{...d,vertexShader:d.vertexShader,attributes:d.getAttributes(),uniforms:d.getUniforms()}})))||[])}}),r.on.editInspectorState(a=>{a.inspectorId===St&&li(e.scene.value,a.nodeId,a.path,a.state.value)})})}const Xi=["data-scene","data-tres"],Ki=Te({__name:"TresCanvas",props:{shadows:{type:Boolean,default:void 0},clearColor:{},toneMapping:{},shadowMapType:{},useLegacyLights:{type:Boolean,default:void 0},outputColorSpace:{},toneMappingExposure:{},renderMode:{default:"always"},dpr:{},camera:{},preset:{},windowSize:{type:Boolean,default:void 0},enableProvideBridge:{type:Boolean,default:!0},context:{},alpha:{type:Boolean,default:void 0},premultipliedAlpha:{type:Boolean},antialias:{type:Boolean,default:void 0},stencil:{type:Boolean,default:void 0},preserveDrawingBuffer:{type:Boolean,default:void 0},powerPreference:{},depth:{type:Boolean,default:void 0},failIfMajorPerformanceCaveat:{type:Boolean,default:void 0},precision:{},logarithmicDepthBuffer:{type:Boolean,default:void 0},reverseDepthBuffer:{type:Boolean}},emits:["render","click","double-click","context-menu","pointer-move","pointer-up","pointer-down","pointer-enter","pointer-leave","pointer-over","pointer-out","pointer-missed","wheel","ready"],setup(t,{expose:e,emit:r}){const n=t,o=r,a=hn(),{logWarning:s}=vn(),i=F(),d=Ae(new Ft),l=Mt();Wn(fa);const v=(x,p=!1)=>Te({setup(){var E;const A=(E=Mt())==null?void 0:E.appContext;A&&(A.app=l?.appContext.app);const T={};function C(P){P&&(P.parent&&C(P.parent),P.provides&&Object.assign(T,P.provides))}return l!=null&&l.parent&&n.enableProvideBridge&&(C(l.parent),Reflect.ownKeys(T).forEach(P=>{rn(P,T[P])})),rn("useTres",x),rn("extend",Wn),typeof window<"u"&&qi(A?.app,x),()=>vr(Ge,null,p?[]:a.default())}}),y=(x,p=!1)=>{const E=v(x,p),{render:A}=$a(Ni(x));A(vr(E),d.value)},f=(x,p=!1)=>{Io(x.scene.value),p&&(x.renderer.value.dispose(),x.renderer.value.renderLists.dispose(),x.renderer.value.forceContextLoss()),d.value.__tres={root:x}},w=Ae(null);e({context:w,dispose:()=>f(w.value,!0)});const b=()=>{f(w.value),y(w.value,!0)};return Tt(()=>{const x=i;w.value=Pi({scene:d.value,canvas:x,windowSize:n.windowSize??!1,rendererOptions:n,emit:o});const{registerCamera:p,camera:E,cameras:A,deregisterCamera:T}=w.value;y(w.value);const C=()=>{const P=new He(45,window.innerWidth/window.innerHeight,.1,1e3);P.position.set(3,3,3),P.lookAt(0,0,0),p(P);const g=et(()=>{A.value.length>=2&&(P.removeFromParent(),T(P),g?.())})};ie(()=>n.camera,(P,g)=>{P&&p(P),g&&(g.removeFromParent(),T(g))},{immediate:!0}),E.value||(s("No camera found. Creating a default perspective camera. To have full control over a camera, please add one to the scene."),C())}),Je(b),(x,p)=>(q(),K("canvas",{ref_key:"canvas",ref:i,"data-scene":d.value.uuid,class:Ye(x.$attrs.class),"data-tres":`tresjs ${Y(Gs).version}`,style:er({display:"block",width:"100%",height:"100%",position:x.windowSize?"fixed":"relative",top:0,left:0,pointerEvents:"auto",touchAction:"none",...x.$attrs.style})},null,14,Xi))}});var Zi=Object.defineProperty,Ji=(t,e,r)=>e in t?Zi(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Qi=(t,e,r)=>Ji(t,e+"",r);function ar(t){return yo()?(bo(t),!0):!1}function Re(t){return typeof t=="function"?t():Y(t)}const el=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const tl=Object.prototype.toString,nl=t=>tl.call(t)==="[object Object]",yt=()=>{};function Lo(t,e){function r(...n){return new Promise((o,a)=>{Promise.resolve(t(()=>e.apply(this,n),{fn:e,thisArg:this,args:n})).then(o).catch(a)})}return r}function rl(t,e={}){let r,n,o=yt;const a=s=>{clearTimeout(s),o(),o=yt};return s=>{const i=Re(t),d=Re(e.maxWait);return r&&a(r),i<=0||d!==void 0&&d<=0?(n&&(a(n),n=null),Promise.resolve(s())):new Promise((l,v)=>{o=e.rejectOnCancel?v:l,d&&!n&&(n=setTimeout(()=>{r&&a(r),n=null,l(s())},d)),r=setTimeout(()=>{n&&a(n),n=null,l(s())},i)})}}function ol(...t){let e=0,r,n=!0,o=yt,a,s,i,d,l;!bt(t[0])&&typeof t[0]=="object"?{delay:s,trailing:i=!0,leading:d=!0,rejectOnCancel:l=!1}=t[0]:[s,i=!0,d=!0,l=!1]=t;const v=()=>{r&&(clearTimeout(r),r=void 0,o(),o=yt)};return y=>{const f=Re(s),w=Date.now()-e,b=()=>a=y();return v(),f<=0?(e=Date.now(),b()):(w>f&&(d||!n)?(e=Date.now(),b()):i&&(a=new Promise((x,p)=>{o=l?p:x,r=setTimeout(()=>{e=Date.now(),n=!0,x(b()),v()},Math.max(0,f-w))})),!d&&!r&&(r=setTimeout(()=>n=!0,f)),n=!1,a)}}function al(t){return Mt()}function sl(t,e=200,r={}){return Lo(rl(e,r),t)}function il(t,e=200,r=!1,n=!0,o=!1){return Lo(ol(e,r,n,o),t)}function sr(t,e=!0,r){al()?Tt(t,r):e?t():wo(t)}const mt=el?window:void 0;function lt(t){var e;const r=Re(t);return(e=r?.$el)!=null?e:r}function Ue(...t){let e,r,n,o;if(typeof t[0]=="string"||Array.isArray(t[0])?([r,n,o]=t,e=mt):[e,r,n,o]=t,!e)return yt;Array.isArray(r)||(r=[r]),Array.isArray(n)||(n=[n]);const a=[],s=()=>{a.forEach(v=>v()),a.length=0},i=(v,y,f,w)=>(v.addEventListener(y,f,w),()=>v.removeEventListener(y,f,w)),d=ie(()=>[lt(e),Re(o)],([v,y])=>{if(s(),!v)return;const f=nl(y)?{...y}:y;a.push(...r.flatMap(w=>n.map(b=>i(v,w,b,f))))},{immediate:!0,flush:"post"}),l=()=>{d(),s()};return ar(l),l}function ll(){const t=F(!1),e=Mt();return e&&Tt(()=>{t.value=!0},e),t}function zo(t){const e=ll();return ce(()=>(e.value,!!t()))}function ul(t,e={}){const{window:r=mt}=e,n=zo(()=>r&&"matchMedia"in r&&typeof r.matchMedia=="function");let o;const a=F(!1),s=l=>{a.value=l.matches},i=()=>{o&&("removeEventListener"in o?o.removeEventListener("change",s):o.removeListener(s))},d=et(()=>{n.value&&(i(),o=r.matchMedia(Re(t)),"addEventListener"in o?o.addEventListener("change",s):o.addListener(s),a.value=o.matches)});return ar(()=>{d(),i(),o=void 0}),a}function cl(t,e,r={}){const{window:n=mt,...o}=r;let a;const s=zo(()=>n&&"ResizeObserver"in n),i=()=>{a&&(a.disconnect(),a=void 0)},d=ce(()=>{const y=Re(t);return Array.isArray(y)?y.map(f=>lt(f)):[lt(y)]}),l=ie(d,y=>{if(i(),s.value&&n){a=new ResizeObserver(e);for(const f of y)f&&a.observe(f,o)}},{immediate:!0,flush:"post"}),v=()=>{i(),l()};return ar(v),{isSupported:s,stop:v}}function dl(t,e={width:0,height:0},r={}){const{window:n=mt,box:o="content-box"}=r,a=ce(()=>{var y,f;return(f=(y=lt(t))==null?void 0:y.namespaceURI)==null?void 0:f.includes("svg")}),s=F(e.width),i=F(e.height),{stop:d}=cl(t,([y])=>{const f=o==="border-box"?y.borderBoxSize:o==="content-box"?y.contentBoxSize:y.devicePixelContentBoxSize;if(n&&a.value){const w=lt(t);if(w){const b=w.getBoundingClientRect();s.value=b.width,i.value=b.height}}else if(f){const w=Array.isArray(f)?f:[f];s.value=w.reduce((b,{inlineSize:x})=>b+x,0),i.value=w.reduce((b,{blockSize:x})=>b+x,0)}else s.value=y.contentRect.width,i.value=y.contentRect.height},r);sr(()=>{const y=lt(t);y&&(s.value="offsetWidth"in y?y.offsetWidth:e.width,i.value="offsetHeight"in y?y.offsetHeight:e.height)});const l=ie(()=>lt(t),y=>{s.value=y?e.width:0,i.value=y?e.height:0});function v(){d(),l()}return{width:s,height:i,stop:v}}const Pr=1;function pl(t,e={}){const{throttle:r=0,idle:n=200,onStop:o=yt,onScroll:a=yt,offset:s={left:0,right:0,top:0,bottom:0},eventListenerOptions:i={capture:!1,passive:!0},behavior:d="auto",window:l=mt,onError:v=_=>{console.error(_)}}=e,y=F(0),f=F(0),w=ce({get(){return y.value},set(_){x(_,void 0)}}),b=ce({get(){return f.value},set(_){x(void 0,_)}});function x(_,m){var c,u,M,I;if(!l)return;const D=Re(t);if(!D)return;(M=D instanceof Document?l.document.body:D)==null||M.scrollTo({top:(c=Re(m))!=null?c:b.value,left:(u=Re(_))!=null?u:w.value,behavior:Re(d)});const L=((I=D?.document)==null?void 0:I.documentElement)||D?.documentElement||D;w!=null&&(y.value=L.scrollLeft),b!=null&&(f.value=L.scrollTop)}const p=F(!1),E=cn({left:!0,right:!1,top:!0,bottom:!1}),A=cn({left:!1,right:!1,top:!1,bottom:!1}),T=_=>{p.value&&(p.value=!1,A.left=!1,A.right=!1,A.top=!1,A.bottom=!1,o(_))},C=sl(T,r+n),P=_=>{var m;if(!l)return;const c=((m=_?.document)==null?void 0:m.documentElement)||_?.documentElement||lt(_),{display:u,flexDirection:M}=getComputedStyle(c),I=c.scrollLeft;A.left=I<y.value,A.right=I>y.value;const D=Math.abs(I)<=(s.left||0),L=Math.abs(I)+c.clientWidth>=c.scrollWidth-(s.right||0)-Pr;u==="flex"&&M==="row-reverse"?(E.left=L,E.right=D):(E.left=D,E.right=L),y.value=I;let B=c.scrollTop;_===l.document&&!B&&(B=l.document.body.scrollTop),A.top=B<f.value,A.bottom=B>f.value;const N=Math.abs(B)<=(s.top||0),re=Math.abs(B)+c.clientHeight>=c.scrollHeight-(s.bottom||0)-Pr;u==="flex"&&M==="column-reverse"?(E.top=re,E.bottom=N):(E.top=N,E.bottom=re),f.value=B},g=_=>{var m;if(!l)return;const c=(m=_.target.documentElement)!=null?m:_.target;P(c),p.value=!0,C(_),a(_)};return Ue(t,"scroll",r?il(g,r,!0,!1):g,i),sr(()=>{try{const _=Re(t);if(!_)return;P(_)}catch(_){v(_)}}),Ue(t,"scrollend",T,i),{x:w,y:b,isScrolling:p,arrivedState:E,directions:A,measure(){const _=Re(t);l&&_&&P(_)}}}const fl={page:t=>[t.pageX,t.pageY],client:t=>[t.clientX,t.clientY],screen:t=>[t.screenX,t.screenY],movement:t=>t instanceof Touch?null:[t.movementX,t.movementY]};function ml(t={}){const{type:e="page",touch:r=!0,resetOnTouchEnds:n=!1,initialValue:o={x:0,y:0},window:a=mt,target:s=a,scroll:i=!0,eventFilter:d}=t;let l=null,v=0,y=0;const f=F(o.x),w=F(o.y),b=F(null),x=typeof e=="function"?e:fl[e],p=_=>{const m=x(_);l=_,m&&([f.value,w.value]=m,b.value="mouse"),a&&(v=a.scrollX,y=a.scrollY)},E=_=>{if(_.touches.length>0){const m=x(_.touches[0]);m&&([f.value,w.value]=m,b.value="touch")}},A=()=>{if(!l||!a)return;const _=x(l);l instanceof MouseEvent&&_&&(f.value=_[0]+a.scrollX-v,w.value=_[1]+a.scrollY-y)},T=()=>{f.value=o.x,w.value=o.y},C=d?_=>d(()=>p(_),{}):_=>p(_),P=d?_=>d(()=>E(_),{}):_=>E(_),g=d?()=>d(()=>A(),{}):()=>A();if(s){const _={passive:!0};Ue(s,["mousemove","dragover"],C,_),r&&e!=="movement"&&(Ue(s,["touchstart","touchmove"],P,_),n&&Ue(s,"touchend",T,_)),i&&e==="page"&&Ue(a,"scroll",g,{passive:!0})}return{x:f,y:w,sourceType:b}}function hl(t={}){const{window:e=mt,behavior:r="auto"}=t;if(!e)return{x:F(0),y:F(0)};const n=F(e.scrollX),o=F(e.scrollY),a=ce({get(){return n.value},set(i){scrollTo({left:i,behavior:r})}}),s=ce({get(){return o.value},set(i){scrollTo({top:i,behavior:r})}});return Ue(e,"scroll",()=>{n.value=e.scrollX,o.value=e.scrollY},{capture:!1,passive:!0}),{x:a,y:s}}function Bo(t={}){const{window:e=mt,initialWidth:r=Number.POSITIVE_INFINITY,initialHeight:n=Number.POSITIVE_INFINITY,listenOrientation:o=!0,includeScrollbar:a=!0,type:s="inner"}=t,i=F(r),d=F(n),l=()=>{e&&(s==="outer"?(i.value=e.outerWidth,d.value=e.outerHeight):a?(i.value=e.innerWidth,d.value=e.innerHeight):(i.value=e.document.documentElement.clientWidth,d.value=e.document.documentElement.clientHeight))};if(l(),sr(l),Ue("resize",l,{passive:!0}),o){const v=ul("(orientation: portrait)");ie(v,()=>l())}return{width:i,height:d}}function Fo(t,e,r,n){const o=class extends $t{constructor(a={}){const s=Object.entries(t);super({uniforms:s.reduce((i,[d,l])=>{const v=Qn.clone({[d]:{value:l}});return{...i,...v}},{}),vertexShader:e,fragmentShader:r}),Qi(this,"key",""),s.forEach(([i])=>Object.defineProperty(this,i,{get:()=>this.uniforms[i].value,set:d=>this.uniforms[i].value=d})),Object.assign(this,a)}};return o.key=dt.generateUUID(),o}Fo({color:new Se("white"),scale:new ke(1,1),imageBounds:new ke(1,1),resolution:1024,map:null,zoom:1,radius:0,grayscale:0,opacity:1},`
    varying vec2 vUv;
    varying vec2 vPos;
    void main() {
      gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);
      vUv = uv;
      vPos = position.xy;
    }
  `,`
    // mostly from https://gist.github.com/statico/df64c5d167362ecf7b34fca0b1459a44
    varying vec2 vUv;
    varying vec2 vPos;
    uniform vec2 scale;
    uniform vec2 imageBounds;
    uniform float resolution;
    uniform vec3 color;
    uniform sampler2D map;
    uniform float radius;
    uniform float zoom;
    uniform float grayscale;
    uniform float opacity;
    const vec3 luma = vec3(.299, 0.587, 0.114);
    vec4 toGrayscale(vec4 color, float intensity) {
      return vec4(mix(color.rgb, vec3(dot(color.rgb, luma)), intensity), color.a);
    }
    vec2 aspect(vec2 size) {
      return size / min(size.x, size.y);
    }
    
    const float PI = 3.14159265;
      
    // from https://iquilezles.org/articles/distfunctions
    float udRoundBox( vec2 p, vec2 b, float r ) {
      return length(max(abs(p)-b+r,0.0))-r;
    }
  
    void main() {
      vec2 s = aspect(scale);
      vec2 i = aspect(imageBounds);
      float rs = s.x / s.y;
      float ri = i.x / i.y;
      vec2 new = rs < ri ? vec2(i.x * s.y / i.y, s.y) : vec2(s.x, i.y * s.x / i.x);
      vec2 offset = (rs < ri ? vec2((new.x - s.x) / 2.0, 0.0) : vec2(0.0, (new.y - s.y) / 2.0)) / new;
      vec2 uv = vUv * s / new + offset;
      vec2 zUv = (uv - vec2(0.5, 0.5)) / zoom + vec2(0.5, 0.5);
  
      vec2 res = vec2(scale * resolution);
      vec2 halfRes = 0.5 * res;
      float b = udRoundBox(vUv.xy * res - halfRes, halfRes, resolution * radius);    
        vec3 a = mix(vec3(1.0,0.0,0.0), vec3(0.0,0.0,0.0), smoothstep(0.0, 1.0, b));
      gl_FragColor = toGrayscale(texture2D(map, zUv) * vec4(color, opacity * a), grayscale);
      
      #include <tonemapping_fragment>
      #include <colorspace_fragment>
    }
  `);const ir=parseInt(uo.replace(/\D+/g,""));var gl=Object.defineProperty,vl=(t,e,r)=>e in t?gl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,yl=(t,e,r)=>(vl(t,e+"",r),r);async function Sr(t){const e=await t.arrayBuffer(),r=btoa(String.fromCharCode(...new Uint8Array(e)));return`data:${t.type||""};base64,${r}`}let Jt,Cn,wt,Qt;function jn(t,e=1/0,r=null){Cn||(Cn=new po(2,2,1,1)),wt||(wt=new $t({uniforms:{blitTexture:new Oa(t)},vertexShader:`
        varying vec2 vUv;
        void main(){
            vUv = uv;
            gl_Position = vec4(position.xy * 1.0,0.,.999999);
        }
      `,fragmentShader:`
          uniform sampler2D blitTexture; 
          varying vec2 vUv;

          void main(){ 
              gl_FragColor = vec4(vUv.xy, 0, 1);
              
              #ifdef IS_SRGB
              gl_FragColor = LinearTosRGB( texture2D( blitTexture, vUv) );
              #else
              gl_FragColor = texture2D( blitTexture, vUv);
              #endif
          }
      `})),wt.uniforms.blitTexture.value=t,wt.defines.IS_SRGB="colorSpace"in t?t.colorSpace==="srgb":t.encoding===3001,wt.needsUpdate=!0,Qt||(Qt=new vt(Cn,wt),Qt.frustrumCulled=!1);const n=new He,o=new Ft;o.add(Qt),r||(r=Jt=new nn({antialias:!1})),r.setSize(Math.min(t.image.width,e),Math.min(t.image.height,e)),r.clear(),r.render(o,n);const a=new go(r.domElement);return a.minFilter=t.minFilter,a.magFilter=t.magFilter,a.wrapS=t.wrapS,a.wrapT=t.wrapT,a.name=t.name,Jt&&(Jt.dispose(),Jt=null),a}const Or={POSITION:["byte","byte normalized","unsigned byte","unsigned byte normalized","short","short normalized","unsigned short","unsigned short normalized"],NORMAL:["byte normalized","short normalized"],TANGENT:["byte normalized","short normalized"],TEXCOORD:["byte","byte normalized","unsigned byte","short","short normalized","unsigned short"]};class Uo{constructor(){this.pluginCallbacks=[],this.register(function(e){return new Il(e)}),this.register(function(e){return new Cl(e)}),this.register(function(e){return new Sl(e)}),this.register(function(e){return new Ol(e)}),this.register(function(e){return new Rl(e)}),this.register(function(e){return new Dl(e)}),this.register(function(e){return new jl(e)}),this.register(function(e){return new Pl(e)}),this.register(function(e){return new Nl(e)}),this.register(function(e){return new Ll(e)}),this.register(function(e){return new zl(e)})}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,r,n,o){const a=new Al,s=[];for(let i=0,d=this.pluginCallbacks.length;i<d;i++)s.push(this.pluginCallbacks[i](a));a.setPlugins(s),a.write(e,r,o).catch(n)}parseAsync(e,r){const n=this;return new Promise(function(o,a){n.parse(e,o,a,r)})}}yl(Uo,"Utils",{insertKeyframe:function(t,e){const r=t.getValueSize(),n=new t.TimeBufferType(t.times.length+1),o=new t.ValueBufferType(t.values.length+r),a=t.createInterpolant(new t.ValueBufferType(r));let s;if(t.times.length===0){n[0]=e;for(let i=0;i<r;i++)o[i]=0;s=0}else if(e<t.times[0]){if(Math.abs(t.times[0]-e)<.001)return 0;n[0]=e,n.set(t.times,1),o.set(a.evaluate(e),0),o.set(t.values,r),s=0}else if(e>t.times[t.times.length-1]){if(Math.abs(t.times[t.times.length-1]-e)<.001)return t.times.length-1;n[n.length-1]=e,n.set(t.times,0),o.set(t.values,0),o.set(a.evaluate(e),t.values.length),s=n.length-1}else for(let i=0;i<t.times.length;i++){if(Math.abs(t.times[i]-e)<.001)return i;if(t.times[i]<e&&t.times[i+1]>e){n.set(t.times.slice(0,i+1),0),n[i+1]=e,n.set(t.times.slice(i+1),i+2),o.set(t.values.slice(0,(i+1)*r),0),o.set(a.evaluate(e),(i+1)*r),o.set(t.values.slice((i+1)*r),(i+2)*r),s=i+1;break}}return t.times=n,t.values=o,s},mergeMorphTargetTracks:function(t,e){const r=[],n={},o=t.tracks;for(let a=0;a<o.length;++a){let s=o[a];const i=ln.parseTrackName(s.name),d=ln.findNode(e,i.nodeName);if(i.propertyName!=="morphTargetInfluences"||i.propertyIndex===void 0){r.push(s);continue}if(s.createInterpolant!==s.InterpolantFactoryMethodDiscrete&&s.createInterpolant!==s.InterpolantFactoryMethodLinear){if(s.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline)throw new Error("THREE.GLTFExporter: Cannot merge tracks with glTF CUBICSPLINE interpolation.");console.warn("THREE.GLTFExporter: Morph target interpolation mode not yet supported. Using LINEAR instead."),s=s.clone(),s.setInterpolation(wa)}const l=d.morphTargetInfluences.length,v=d.morphTargetDictionary[i.propertyIndex];if(v===void 0)throw new Error("THREE.GLTFExporter: Morph target name not found: "+i.propertyIndex);let y;if(n[d.uuid]===void 0){y=s.clone();const w=new y.ValueBufferType(l*y.times.length);for(let b=0;b<y.times.length;b++)w[b*l+v]=y.values[b];y.name=(i.nodeName||"")+".morphTargetInfluences",y.values=w,n[d.uuid]=y,r.push(y);continue}const f=s.createInterpolant(new s.ValueBufferType(1));y=n[d.uuid];for(let w=0;w<y.times.length;w++)y.values[w*l+v]=f.evaluate(y.times[w]);for(let w=0;w<s.times.length;w++){const b=this.insertKeyframe(y,s.times[w]);y.values[b*l+v]=s.values[w]}}return t.tracks=r,t}});const le={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,REPEAT:10497},Pn="KHR_mesh_quantization",De={};De[Rt]=le.NEAREST;De[Ra]=le.NEAREST_MIPMAP_NEAREST;De[Da]=le.NEAREST_MIPMAP_LINEAR;De[Na]=le.LINEAR;De[La]=le.LINEAR_MIPMAP_NEAREST;De[za]=le.LINEAR_MIPMAP_LINEAR;De[Dt]=le.CLAMP_TO_EDGE;De[Ba]=le.REPEAT;De[Fa]=le.MIRRORED_REPEAT;const Rr={scale:"scale",position:"translation",quaternion:"rotation",morphTargetInfluences:"weights"},bl=new Se,Dr=12,wl=1179937895,xl=2,Nr=8,_l=1313821514,Ml=5130562;function Nt(t,e){return t.length===e.length&&t.every(function(r,n){return r===e[n]})}function kl(t){return new TextEncoder().encode(t).buffer}function Tl(t){return Nt(t.elements,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}function El(t,e,r){const n={min:new Array(t.itemSize).fill(Number.POSITIVE_INFINITY),max:new Array(t.itemSize).fill(Number.NEGATIVE_INFINITY)};for(let o=e;o<e+r;o++)for(let a=0;a<t.itemSize;a++){let s;t.itemSize>4?s=t.array[o*t.itemSize+a]:(a===0?s=t.getX(o):a===1?s=t.getY(o):a===2?s=t.getZ(o):a===3&&(s=t.getW(o)),t.normalized===!0&&(s=dt.normalize(s,t.array))),n.min[a]=Math.min(n.min[a],s),n.max[a]=Math.max(n.max[a],s)}return n}function Vo(t){return Math.ceil(t/4)*4}function Sn(t,e=0){const r=Vo(t.byteLength);if(r!==t.byteLength){const n=new Uint8Array(r);if(n.set(new Uint8Array(t)),e!==0)for(let o=t.byteLength;o<r;o++)n[o]=e;return n.buffer}return t}function Lr(){return typeof document>"u"&&typeof OffscreenCanvas<"u"?new OffscreenCanvas(1,1):document.createElement("canvas")}function zr(t,e){if(t.toBlob!==void 0)return new Promise(n=>t.toBlob(n,e));let r;return e==="image/jpeg"?r=.92:e==="image/webp"&&(r=.8),t.convertToBlob({type:e,quality:r})}class Al{constructor(){this.plugins=[],this.options={},this.pending=[],this.buffers=[],this.byteOffset=0,this.buffers=[],this.nodeMap=new Map,this.skins=[],this.extensionsUsed={},this.extensionsRequired={},this.uids=new Map,this.uid=0,this.json={asset:{version:"2.0",generator:"THREE.GLTFExporter"}},this.cache={meshes:new Map,attributes:new Map,attributesNormalized:new Map,materials:new Map,textures:new Map,images:new Map}}setPlugins(e){this.plugins=e}async write(e,r,n={}){this.options=Object.assign({binary:!1,trs:!1,onlyVisible:!0,maxTextureSize:1/0,animations:[],includeCustomExtensions:!1},n),this.options.animations.length>0&&(this.options.trs=!0),this.processInput(e),await Promise.all(this.pending);const o=this,a=o.buffers,s=o.json;n=o.options;const i=o.extensionsUsed,d=o.extensionsRequired,l=new Blob(a,{type:"application/octet-stream"}),v=Object.keys(i),y=Object.keys(d);v.length>0&&(s.extensionsUsed=v),y.length>0&&(s.extensionsRequired=y),s.buffers&&s.buffers.length>0&&(s.buffers[0].byteLength=l.size),n.binary===!0?l.arrayBuffer().then(f=>{const w=Sn(f),b=new DataView(new ArrayBuffer(Nr));b.setUint32(0,w.byteLength,!0),b.setUint32(4,Ml,!0);const x=Sn(kl(JSON.stringify(s)),32),p=new DataView(new ArrayBuffer(Nr));p.setUint32(0,x.byteLength,!0),p.setUint32(4,_l,!0);const E=new ArrayBuffer(Dr),A=new DataView(E);A.setUint32(0,wl,!0),A.setUint32(4,xl,!0);const T=Dr+p.byteLength+x.byteLength+b.byteLength+w.byteLength;A.setUint32(8,T,!0),new Blob([E,p,x,b,w],{type:"application/octet-stream"}).arrayBuffer().then(r)}):s.buffers&&s.buffers.length>0?Sr(l).then(f=>{s.buffers[0].uri=f,r(s)}):r(s)}serializeUserData(e,r){if(Object.keys(e.userData).length===0)return;const n=this.options,o=this.extensionsUsed;try{const a=JSON.parse(JSON.stringify(e.userData));if(n.includeCustomExtensions&&a.gltfExtensions){r.extensions===void 0&&(r.extensions={});for(const s in a.gltfExtensions)r.extensions[s]=a.gltfExtensions[s],o[s]=!0;delete a.gltfExtensions}Object.keys(a).length>0&&(r.extras=a)}catch(a){console.warn("THREE.GLTFExporter: userData of '"+e.name+"' won't be serialized because of JSON.stringify error - "+a.message)}}getUID(e,r=!1){if(this.uids.has(e)===!1){const n=new Map;n.set(!0,this.uid++),n.set(!1,this.uid++),this.uids.set(e,n)}return this.uids.get(e).get(r)}isNormalizedNormalAttribute(e){if(this.cache.attributesNormalized.has(e))return!1;const r=new G;for(let n=0,o=e.count;n<o;n++)if(Math.abs(r.fromBufferAttribute(e,n).length()-1)>5e-4)return!1;return!0}createNormalizedNormalAttribute(e){const r=this.cache;if(r.attributesNormalized.has(e))return r.attributesNormalized.get(e);const n=e.clone(),o=new G;for(let a=0,s=n.count;a<s;a++)o.fromBufferAttribute(n,a),o.x===0&&o.y===0&&o.z===0?o.setX(1):o.normalize(),n.setXYZ(a,o.x,o.y,o.z);return r.attributesNormalized.set(e,n),n}applyTextureTransform(e,r){let n=!1;const o={};(r.offset.x!==0||r.offset.y!==0)&&(o.offset=r.offset.toArray(),n=!0),r.rotation!==0&&(o.rotation=r.rotation,n=!0),(r.repeat.x!==1||r.repeat.y!==1)&&(o.scale=r.repeat.toArray(),n=!0),n&&(e.extensions=e.extensions||{},e.extensions.KHR_texture_transform=o,this.extensionsUsed.KHR_texture_transform=!0)}buildMetalRoughTexture(e,r){if(e===r)return e;function n(f){return("colorSpace"in f?f.colorSpace==="srgb":f.encoding===3001)?function(w){return w<.04045?w*.0773993808:Math.pow(w*.9478672986+.0521327014,2.4)}:function(w){return w}}console.warn("THREE.GLTFExporter: Merged metalnessMap and roughnessMap textures."),e instanceof kn&&(e=jn(e)),r instanceof kn&&(r=jn(r));const o=e?e.image:null,a=r?r.image:null,s=Math.max(o?o.width:0,a?a.width:0),i=Math.max(o?o.height:0,a?a.height:0),d=Lr();d.width=s,d.height=i;const l=d.getContext("2d");l.fillStyle="#00ffff",l.fillRect(0,0,s,i);const v=l.getImageData(0,0,s,i);if(o){l.drawImage(o,0,0,s,i);const f=n(e),w=l.getImageData(0,0,s,i).data;for(let b=2;b<w.length;b+=4)v.data[b]=f(w[b]/256)*256}if(a){l.drawImage(a,0,0,s,i);const f=n(r),w=l.getImageData(0,0,s,i).data;for(let b=1;b<w.length;b+=4)v.data[b]=f(w[b]/256)*256}l.putImageData(v,0,0);const y=(e||r).clone();return y.source=new go(d).source,"colorSpace"in y?y.colorSpace="":y.encoding=3e3,y.channel=(e||r).channel,e&&r&&e.channel!==r.channel&&console.warn("THREE.GLTFExporter: UV channels for metalnessMap and roughnessMap textures must match."),y}processBuffer(e){const r=this.json,n=this.buffers;return r.buffers||(r.buffers=[{byteLength:0}]),n.push(e),0}processBufferView(e,r,n,o,a){const s=this.json;s.bufferViews||(s.bufferViews=[]);let i;switch(r){case le.BYTE:case le.UNSIGNED_BYTE:i=1;break;case le.SHORT:case le.UNSIGNED_SHORT:i=2;break;default:i=4}const d=Vo(o*e.itemSize*i),l=new DataView(new ArrayBuffer(d));let v=0;for(let f=n;f<n+o;f++)for(let w=0;w<e.itemSize;w++){let b;e.itemSize>4?b=e.array[f*e.itemSize+w]:(w===0?b=e.getX(f):w===1?b=e.getY(f):w===2?b=e.getZ(f):w===3&&(b=e.getW(f)),e.normalized===!0&&(b=dt.normalize(b,e.array))),r===le.FLOAT?l.setFloat32(v,b,!0):r===le.INT?l.setInt32(v,b,!0):r===le.UNSIGNED_INT?l.setUint32(v,b,!0):r===le.SHORT?l.setInt16(v,b,!0):r===le.UNSIGNED_SHORT?l.setUint16(v,b,!0):r===le.BYTE?l.setInt8(v,b):r===le.UNSIGNED_BYTE&&l.setUint8(v,b),v+=i}const y={buffer:this.processBuffer(l.buffer),byteOffset:this.byteOffset,byteLength:d};return a!==void 0&&(y.target=a),a===le.ARRAY_BUFFER&&(y.byteStride=e.itemSize*i),this.byteOffset+=d,s.bufferViews.push(y),{id:s.bufferViews.length-1,byteLength:0}}processBufferViewImage(e){const r=this,n=r.json;return n.bufferViews||(n.bufferViews=[]),e.arrayBuffer().then(o=>{const a=Sn(o),s={buffer:r.processBuffer(a),byteOffset:r.byteOffset,byteLength:a.byteLength};return r.byteOffset+=a.byteLength,n.bufferViews.push(s)-1})}processAccessor(e,r,n,o){const a=this.json,s={1:"SCALAR",2:"VEC2",3:"VEC3",4:"VEC4",9:"MAT3",16:"MAT4"};let i;if(e.array.constructor===Float32Array)i=le.FLOAT;else if(e.array.constructor===Int32Array)i=le.INT;else if(e.array.constructor===Uint32Array)i=le.UNSIGNED_INT;else if(e.array.constructor===Int16Array)i=le.SHORT;else if(e.array.constructor===Uint16Array)i=le.UNSIGNED_SHORT;else if(e.array.constructor===Int8Array)i=le.BYTE;else if(e.array.constructor===Uint8Array)i=le.UNSIGNED_BYTE;else throw new Error("THREE.GLTFExporter: Unsupported bufferAttribute component type: "+e.array.constructor.name);if(n===void 0&&(n=0),o===void 0&&(o=e.count),o===0)return null;const d=El(e,n,o);let l;r!==void 0&&(l=e===r.index?le.ELEMENT_ARRAY_BUFFER:le.ARRAY_BUFFER);const v=this.processBufferView(e,i,n,o,l),y={bufferView:v.id,byteOffset:v.byteOffset,componentType:i,count:o,max:d.max,min:d.min,type:s[e.itemSize]};return e.normalized===!0&&(y.normalized=!0),a.accessors||(a.accessors=[]),a.accessors.push(y)-1}processImage(e,r,n,o="image/png"){if(e!==null){const a=this,s=a.cache,i=a.json,d=a.options,l=a.pending;s.images.has(e)||s.images.set(e,{});const v=s.images.get(e),y=o+":flipY/"+n.toString();if(v[y]!==void 0)return v[y];i.images||(i.images=[]);const f={mimeType:o},w=Lr();w.width=Math.min(e.width,d.maxTextureSize),w.height=Math.min(e.height,d.maxTextureSize);const b=w.getContext("2d");if(n===!0&&(b.translate(0,w.height),b.scale(1,-1)),e.data!==void 0){r!==Un&&console.error("GLTFExporter: Only RGBAFormat is supported.",r),(e.width>d.maxTextureSize||e.height>d.maxTextureSize)&&console.warn("GLTFExporter: Image size is bigger than maxTextureSize",e);const p=new Uint8ClampedArray(e.height*e.width*4);for(let E=0;E<p.length;E+=4)p[E+0]=e.data[E+0],p[E+1]=e.data[E+1],p[E+2]=e.data[E+2],p[E+3]=e.data[E+3];b.putImageData(new ImageData(p,e.width,e.height),0,0)}else b.drawImage(e,0,0,w.width,w.height);d.binary===!0?l.push(zr(w,o).then(p=>a.processBufferViewImage(p)).then(p=>{f.bufferView=p})):w.toDataURL!==void 0?f.uri=w.toDataURL(o):l.push(zr(w,o).then(Sr).then(p=>{f.uri=p}));const x=i.images.push(f)-1;return v[y]=x,x}else throw new Error("THREE.GLTFExporter: No valid image data found. Unable to process texture.")}processSampler(e){const r=this.json;r.samplers||(r.samplers=[]);const n={magFilter:De[e.magFilter],minFilter:De[e.minFilter],wrapS:De[e.wrapS],wrapT:De[e.wrapT]};return r.samplers.push(n)-1}processTexture(e){const r=this.options,n=this.cache,o=this.json;if(n.textures.has(e))return n.textures.get(e);o.textures||(o.textures=[]),e instanceof kn&&(e=jn(e,r.maxTextureSize));let a=e.userData.mimeType;a==="image/webp"&&(a="image/png");const s={sampler:this.processSampler(e),source:this.processImage(e.image,e.format,e.flipY,a)};e.name&&(s.name=e.name),this._invokeAll(function(d){d.writeTexture&&d.writeTexture(e,s)});const i=o.textures.push(s)-1;return n.textures.set(e,i),i}processMaterial(e){const r=this.cache,n=this.json;if(r.materials.has(e))return r.materials.get(e);if(e.isShaderMaterial)return console.warn("GLTFExporter: THREE.ShaderMaterial not supported."),null;n.materials||(n.materials=[]);const o={pbrMetallicRoughness:{}};e.isMeshStandardMaterial!==!0&&e.isMeshBasicMaterial!==!0&&console.warn("GLTFExporter: Use MeshStandardMaterial or MeshBasicMaterial for best results.");const a=e.color.toArray().concat([e.opacity]);if(Nt(a,[1,1,1,1])||(o.pbrMetallicRoughness.baseColorFactor=a),e.isMeshStandardMaterial?(o.pbrMetallicRoughness.metallicFactor=e.metalness,o.pbrMetallicRoughness.roughnessFactor=e.roughness):(o.pbrMetallicRoughness.metallicFactor=.5,o.pbrMetallicRoughness.roughnessFactor=.5),e.metalnessMap||e.roughnessMap){const i=this.buildMetalRoughTexture(e.metalnessMap,e.roughnessMap),d={index:this.processTexture(i),channel:i.channel};this.applyTextureTransform(d,i),o.pbrMetallicRoughness.metallicRoughnessTexture=d}if(e.map){const i={index:this.processTexture(e.map),texCoord:e.map.channel};this.applyTextureTransform(i,e.map),o.pbrMetallicRoughness.baseColorTexture=i}if(e.emissive){const i=e.emissive;if(Math.max(i.r,i.g,i.b)>0&&(o.emissiveFactor=e.emissive.toArray()),e.emissiveMap){const d={index:this.processTexture(e.emissiveMap),texCoord:e.emissiveMap.channel};this.applyTextureTransform(d,e.emissiveMap),o.emissiveTexture=d}}if(e.normalMap){const i={index:this.processTexture(e.normalMap),texCoord:e.normalMap.channel};e.normalScale&&e.normalScale.x!==1&&(i.scale=e.normalScale.x),this.applyTextureTransform(i,e.normalMap),o.normalTexture=i}if(e.aoMap){const i={index:this.processTexture(e.aoMap),texCoord:e.aoMap.channel};e.aoMapIntensity!==1&&(i.strength=e.aoMapIntensity),this.applyTextureTransform(i,e.aoMap),o.occlusionTexture=i}e.transparent?o.alphaMode="BLEND":e.alphaTest>0&&(o.alphaMode="MASK",o.alphaCutoff=e.alphaTest),e.side===mn&&(o.doubleSided=!0),e.name!==""&&(o.name=e.name),this.serializeUserData(e,o),this._invokeAll(function(i){i.writeMaterial&&i.writeMaterial(e,o)});const s=n.materials.push(o)-1;return r.materials.set(e,s),s}processMesh(e){const r=this.cache,n=this.json,o=[e.geometry.uuid];if(Array.isArray(e.material))for(let T=0,C=e.material.length;T<C;T++)o.push(e.material[T].uuid);else o.push(e.material.uuid);const a=o.join(":");if(r.meshes.has(a))return r.meshes.get(a);const s=e.geometry;let i;e.isLineSegments?i=le.LINES:e.isLineLoop?i=le.LINE_LOOP:e.isLine?i=le.LINE_STRIP:e.isPoints?i=le.POINTS:i=e.material.wireframe?le.LINES:le.TRIANGLES;const d={},l={},v=[],y=[],f={...ir>=152?{uv:"TEXCOORD_0",uv1:"TEXCOORD_1",uv2:"TEXCOORD_2",uv3:"TEXCOORD_3"}:{uv:"TEXCOORD_0",uv2:"TEXCOORD_1"},color:"COLOR_0",skinWeight:"WEIGHTS_0",skinIndex:"JOINTS_0"},w=s.getAttribute("normal");w!==void 0&&!this.isNormalizedNormalAttribute(w)&&(console.warn("THREE.GLTFExporter: Creating normalized normal attribute from the non-normalized one."),s.setAttribute("normal",this.createNormalizedNormalAttribute(w)));let b=null;for(let T in s.attributes){if(T.slice(0,5)==="morph")continue;const C=s.attributes[T];if(T=f[T]||T.toUpperCase(),/^(POSITION|NORMAL|TANGENT|TEXCOORD_\d+|COLOR_\d+|JOINTS_\d+|WEIGHTS_\d+)$/.test(T)||(T="_"+T),r.attributes.has(this.getUID(C))){l[T]=r.attributes.get(this.getUID(C));continue}b=null;const P=C.array;T==="JOINTS_0"&&!(P instanceof Uint16Array)&&!(P instanceof Uint8Array)&&(console.warn('GLTFExporter: Attribute "skinIndex" converted to type UNSIGNED_SHORT.'),b=new Ot(new Uint16Array(P),C.itemSize,C.normalized));const g=this.processAccessor(b||C,s);g!==null&&(T.startsWith("_")||this.detectMeshQuantization(T,C),l[T]=g,r.attributes.set(this.getUID(C),g))}if(w!==void 0&&s.setAttribute("normal",w),Object.keys(l).length===0)return null;if(e.morphTargetInfluences!==void 0&&e.morphTargetInfluences.length>0){const T=[],C=[],P={};if(e.morphTargetDictionary!==void 0)for(const g in e.morphTargetDictionary)P[e.morphTargetDictionary[g]]=g;for(let g=0;g<e.morphTargetInfluences.length;++g){const _={};let m=!1;for(const c in s.morphAttributes){if(c!=="position"&&c!=="normal"){m||(console.warn("GLTFExporter: Only POSITION and NORMAL morph are supported."),m=!0);continue}const u=s.morphAttributes[c][g],M=c.toUpperCase(),I=s.attributes[c];if(r.attributes.has(this.getUID(u,!0))){_[M]=r.attributes.get(this.getUID(u,!0));continue}const D=u.clone();if(!s.morphTargetsRelative)for(let L=0,B=u.count;L<B;L++)for(let N=0;N<u.itemSize;N++)N===0&&D.setX(L,u.getX(L)-I.getX(L)),N===1&&D.setY(L,u.getY(L)-I.getY(L)),N===2&&D.setZ(L,u.getZ(L)-I.getZ(L)),N===3&&D.setW(L,u.getW(L)-I.getW(L));_[M]=this.processAccessor(D,s),r.attributes.set(this.getUID(I,!0),_[M])}y.push(_),T.push(e.morphTargetInfluences[g]),e.morphTargetDictionary!==void 0&&C.push(P[g])}d.weights=T,C.length>0&&(d.extras={},d.extras.targetNames=C)}const x=Array.isArray(e.material);if(x&&s.groups.length===0)return null;const p=x?e.material:[e.material],E=x?s.groups:[{materialIndex:0,start:void 0,count:void 0}];for(let T=0,C=E.length;T<C;T++){const P={mode:i,attributes:l};if(this.serializeUserData(s,P),y.length>0&&(P.targets=y),s.index!==null){let _=this.getUID(s.index);(E[T].start!==void 0||E[T].count!==void 0)&&(_+=":"+E[T].start+":"+E[T].count),r.attributes.has(_)?P.indices=r.attributes.get(_):(P.indices=this.processAccessor(s.index,s,E[T].start,E[T].count),r.attributes.set(_,P.indices)),P.indices===null&&delete P.indices}const g=this.processMaterial(p[E[T].materialIndex]);g!==null&&(P.material=g),v.push(P)}d.primitives=v,n.meshes||(n.meshes=[]),this._invokeAll(function(T){T.writeMesh&&T.writeMesh(e,d)});const A=n.meshes.push(d)-1;return r.meshes.set(a,A),A}detectMeshQuantization(e,r){if(this.extensionsUsed[Pn])return;let n;switch(r.array.constructor){case Int8Array:n="byte";break;case Uint8Array:n="unsigned byte";break;case Int16Array:n="short";break;case Uint16Array:n="unsigned short";break;default:return}r.normalized&&(n+=" normalized");const o=e.split("_",1)[0];Or[o]&&Or[o].includes(n)&&(this.extensionsUsed[Pn]=!0,this.extensionsRequired[Pn]=!0)}processCamera(e){const r=this.json;r.cameras||(r.cameras=[]);const n=e.isOrthographicCamera,o={type:n?"orthographic":"perspective"};return n?o.orthographic={xmag:e.right*2,ymag:e.top*2,zfar:e.far<=0?.001:e.far,znear:e.near<0?0:e.near}:o.perspective={aspectRatio:e.aspect,yfov:dt.degToRad(e.fov),zfar:e.far<=0?.001:e.far,znear:e.near<0?0:e.near},e.name!==""&&(o.name=e.type),r.cameras.push(o)-1}processAnimation(e,r){const n=this.json,o=this.nodeMap;n.animations||(n.animations=[]),e=Uo.Utils.mergeMorphTargetTracks(e.clone(),r);const a=e.tracks,s=[],i=[];for(let d=0;d<a.length;++d){const l=a[d],v=ln.parseTrackName(l.name);let y=ln.findNode(r,v.nodeName);const f=Rr[v.propertyName];if(v.objectName==="bones"&&(y.isSkinnedMesh===!0?y=y.skeleton.getBoneByName(v.objectIndex):y=void 0),!y||!f)return console.warn('THREE.GLTFExporter: Could not export animation track "%s".',l.name),null;const w=1;let b=l.values.length/l.times.length;f===Rr.morphTargetInfluences&&(b/=y.morphTargetInfluences.length);let x;l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline===!0?(x="CUBICSPLINE",b/=3):l.getInterpolation()===ja?x="STEP":x="LINEAR",i.push({input:this.processAccessor(new Ot(l.times,w)),output:this.processAccessor(new Ot(l.values,b)),interpolation:x}),s.push({sampler:i.length-1,target:{node:o.get(y),path:f}})}return n.animations.push({name:e.name||"clip_"+n.animations.length,samplers:i,channels:s}),n.animations.length-1}processSkin(e){const r=this.json,n=this.nodeMap,o=r.nodes[n.get(e)],a=e.skeleton;if(a===void 0)return null;const s=e.skeleton.bones[0];if(s===void 0)return null;const i=[],d=new Float32Array(a.bones.length*16),l=new Ut;for(let v=0;v<a.bones.length;++v)i.push(n.get(a.bones[v])),l.copy(a.boneInverses[v]),l.multiply(e.bindMatrix).toArray(d,v*16);return r.skins===void 0&&(r.skins=[]),r.skins.push({inverseBindMatrices:this.processAccessor(new Ot(d,16)),joints:i,skeleton:n.get(s)}),o.skin=r.skins.length-1}processNode(e){const r=this.json,n=this.options,o=this.nodeMap;r.nodes||(r.nodes=[]);const a={};if(n.trs){const i=e.quaternion.toArray(),d=e.position.toArray(),l=e.scale.toArray();Nt(i,[0,0,0,1])||(a.rotation=i),Nt(d,[0,0,0])||(a.translation=d),Nt(l,[1,1,1])||(a.scale=l)}else e.matrixAutoUpdate&&e.updateMatrix(),Tl(e.matrix)===!1&&(a.matrix=e.matrix.elements);if(e.name!==""&&(a.name=String(e.name)),this.serializeUserData(e,a),e.isMesh||e.isLine||e.isPoints){const i=this.processMesh(e);i!==null&&(a.mesh=i)}else e.isCamera&&(a.camera=this.processCamera(e));if(e.isSkinnedMesh&&this.skins.push(e),e.children.length>0){const i=[];for(let d=0,l=e.children.length;d<l;d++){const v=e.children[d];if(v.visible||n.onlyVisible===!1){const y=this.processNode(v);y!==null&&i.push(y)}}i.length>0&&(a.children=i)}this._invokeAll(function(i){i.writeNode&&i.writeNode(e,a)});const s=r.nodes.push(a)-1;return o.set(e,s),s}processScene(e){const r=this.json,n=this.options;r.scenes||(r.scenes=[],r.scene=0);const o={};e.name!==""&&(o.name=e.name),r.scenes.push(o);const a=[];for(let s=0,i=e.children.length;s<i;s++){const d=e.children[s];if(d.visible||n.onlyVisible===!1){const l=this.processNode(d);l!==null&&a.push(l)}}a.length>0&&(o.nodes=a),this.serializeUserData(e,o)}processObjects(e){const r=new Ft;r.name="AuxScene";for(let n=0;n<e.length;n++)r.children.push(e[n]);this.processScene(r)}processInput(e){const r=this.options;e=e instanceof Array?e:[e],this._invokeAll(function(o){o.beforeParse&&o.beforeParse(e)});const n=[];for(let o=0;o<e.length;o++)e[o]instanceof Ft?this.processScene(e[o]):n.push(e[o]);n.length>0&&this.processObjects(n);for(let o=0;o<this.skins.length;++o)this.processSkin(this.skins[o]);for(let o=0;o<r.animations.length;++o)this.processAnimation(r.animations[o],e[0]);this._invokeAll(function(o){o.afterParse&&o.afterParse(e)})}_invokeAll(e){for(let r=0,n=this.plugins.length;r<n;r++)e(this.plugins[r])}}class Il{constructor(e){this.writer=e,this.name="KHR_lights_punctual"}writeNode(e,r){if(!e.isLight)return;if(!e.isDirectionalLight&&!e.isPointLight&&!e.isSpotLight){console.warn("THREE.GLTFExporter: Only directional, point, and spot lights are supported.",e);return}const n=this.writer,o=n.json,a=n.extensionsUsed,s={};e.name&&(s.name=e.name),s.color=e.color.toArray(),s.intensity=e.intensity,e.isDirectionalLight?s.type="directional":e.isPointLight?(s.type="point",e.distance>0&&(s.range=e.distance)):e.isSpotLight&&(s.type="spot",e.distance>0&&(s.range=e.distance),s.spot={},s.spot.innerConeAngle=(e.penumbra-1)*e.angle*-1,s.spot.outerConeAngle=e.angle),e.decay!==void 0&&e.decay!==2&&console.warn("THREE.GLTFExporter: Light decay may be lost. glTF is physically-based, and expects light.decay=2."),e.target&&(e.target.parent!==e||e.target.position.x!==0||e.target.position.y!==0||e.target.position.z!==-1)&&console.warn("THREE.GLTFExporter: Light direction may be lost. For best results, make light.target a child of the light with position 0,0,-1."),a[this.name]||(o.extensions=o.extensions||{},o.extensions[this.name]={lights:[]},a[this.name]=!0);const i=o.extensions[this.name].lights;i.push(s),r.extensions=r.extensions||{},r.extensions[this.name]={light:i.length-1}}}let Cl=class{constructor(t){this.writer=t,this.name="KHR_materials_unlit"}writeMaterial(t,e){if(!t.isMeshBasicMaterial)return;const r=this.writer.extensionsUsed;e.extensions=e.extensions||{},e.extensions[this.name]={},r[this.name]=!0,e.pbrMetallicRoughness.metallicFactor=0,e.pbrMetallicRoughness.roughnessFactor=.9}},jl=class{constructor(t){this.writer=t,this.name="KHR_materials_clearcoat"}writeMaterial(t,e){if(!t.isMeshPhysicalMaterial||t.clearcoat===0)return;const r=this.writer,n=r.extensionsUsed,o={};if(o.clearcoatFactor=t.clearcoat,t.clearcoatMap){const a={index:r.processTexture(t.clearcoatMap),texCoord:t.clearcoatMap.channel};r.applyTextureTransform(a,t.clearcoatMap),o.clearcoatTexture=a}if(o.clearcoatRoughnessFactor=t.clearcoatRoughness,t.clearcoatRoughnessMap){const a={index:r.processTexture(t.clearcoatRoughnessMap),texCoord:t.clearcoatRoughnessMap.channel};r.applyTextureTransform(a,t.clearcoatRoughnessMap),o.clearcoatRoughnessTexture=a}if(t.clearcoatNormalMap){const a={index:r.processTexture(t.clearcoatNormalMap),texCoord:t.clearcoatNormalMap.channel};r.applyTextureTransform(a,t.clearcoatNormalMap),o.clearcoatNormalTexture=a}e.extensions=e.extensions||{},e.extensions[this.name]=o,n[this.name]=!0}},Pl=class{constructor(t){this.writer=t,this.name="KHR_materials_iridescence"}writeMaterial(t,e){if(!t.isMeshPhysicalMaterial||t.iridescence===0)return;const r=this.writer,n=r.extensionsUsed,o={};if(o.iridescenceFactor=t.iridescence,t.iridescenceMap){const a={index:r.processTexture(t.iridescenceMap),texCoord:t.iridescenceMap.channel};r.applyTextureTransform(a,t.iridescenceMap),o.iridescenceTexture=a}if(o.iridescenceIor=t.iridescenceIOR,o.iridescenceThicknessMinimum=t.iridescenceThicknessRange[0],o.iridescenceThicknessMaximum=t.iridescenceThicknessRange[1],t.iridescenceThicknessMap){const a={index:r.processTexture(t.iridescenceThicknessMap),texCoord:t.iridescenceThicknessMap.channel};r.applyTextureTransform(a,t.iridescenceThicknessMap),o.iridescenceThicknessTexture=a}e.extensions=e.extensions||{},e.extensions[this.name]=o,n[this.name]=!0}},Sl=class{constructor(t){this.writer=t,this.name="KHR_materials_transmission"}writeMaterial(t,e){if(!t.isMeshPhysicalMaterial||t.transmission===0)return;const r=this.writer,n=r.extensionsUsed,o={};if(o.transmissionFactor=t.transmission,t.transmissionMap){const a={index:r.processTexture(t.transmissionMap),texCoord:t.transmissionMap.channel};r.applyTextureTransform(a,t.transmissionMap),o.transmissionTexture=a}e.extensions=e.extensions||{},e.extensions[this.name]=o,n[this.name]=!0}},Ol=class{constructor(t){this.writer=t,this.name="KHR_materials_volume"}writeMaterial(t,e){if(!t.isMeshPhysicalMaterial||t.transmission===0)return;const r=this.writer,n=r.extensionsUsed,o={};if(o.thicknessFactor=t.thickness,t.thicknessMap){const a={index:r.processTexture(t.thicknessMap),texCoord:t.thicknessMap.channel};r.applyTextureTransform(a,t.thicknessMap),o.thicknessTexture=a}o.attenuationDistance=t.attenuationDistance,o.attenuationColor=t.attenuationColor.toArray(),e.extensions=e.extensions||{},e.extensions[this.name]=o,n[this.name]=!0}},Rl=class{constructor(t){this.writer=t,this.name="KHR_materials_ior"}writeMaterial(t,e){if(!t.isMeshPhysicalMaterial||t.ior===1.5)return;const r=this.writer.extensionsUsed,n={};n.ior=t.ior,e.extensions=e.extensions||{},e.extensions[this.name]=n,r[this.name]=!0}},Dl=class{constructor(t){this.writer=t,this.name="KHR_materials_specular"}writeMaterial(t,e){if(!t.isMeshPhysicalMaterial||t.specularIntensity===1&&t.specularColor.equals(bl)&&!t.specularIntensityMap&&!t.specularColorTexture)return;const r=this.writer,n=r.extensionsUsed,o={};if(t.specularIntensityMap){const a={index:r.processTexture(t.specularIntensityMap),texCoord:t.specularIntensityMap.channel};r.applyTextureTransform(a,t.specularIntensityMap),o.specularTexture=a}if(t.specularColorMap){const a={index:r.processTexture(t.specularColorMap),texCoord:t.specularColorMap.channel};r.applyTextureTransform(a,t.specularColorMap),o.specularColorTexture=a}o.specularFactor=t.specularIntensity,o.specularColorFactor=t.specularColor.toArray(),e.extensions=e.extensions||{},e.extensions[this.name]=o,n[this.name]=!0}},Nl=class{constructor(t){this.writer=t,this.name="KHR_materials_sheen"}writeMaterial(t,e){if(!t.isMeshPhysicalMaterial||t.sheen==0)return;const r=this.writer,n=r.extensionsUsed,o={};if(t.sheenRoughnessMap){const a={index:r.processTexture(t.sheenRoughnessMap),texCoord:t.sheenRoughnessMap.channel};r.applyTextureTransform(a,t.sheenRoughnessMap),o.sheenRoughnessTexture=a}if(t.sheenColorMap){const a={index:r.processTexture(t.sheenColorMap),texCoord:t.sheenColorMap.channel};r.applyTextureTransform(a,t.sheenColorMap),o.sheenColorTexture=a}o.sheenRoughnessFactor=t.sheenRoughness,o.sheenColorFactor=t.sheenColor.toArray(),e.extensions=e.extensions||{},e.extensions[this.name]=o,n[this.name]=!0}},Ll=class{constructor(t){this.writer=t,this.name="KHR_materials_anisotropy"}writeMaterial(t,e){if(!t.isMeshPhysicalMaterial||t.anisotropy==0)return;const r=this.writer,n=r.extensionsUsed,o={};if(t.anisotropyMap){const a={index:r.processTexture(t.anisotropyMap)};r.applyTextureTransform(a,t.anisotropyMap),o.anisotropyTexture=a}o.anisotropyStrength=t.anisotropy,o.anisotropyRotation=t.anisotropyRotation,e.extensions=e.extensions||{},e.extensions[this.name]=o,n[this.name]=!0}},zl=class{constructor(t){this.writer=t,this.name="KHR_materials_emissive_strength"}writeMaterial(t,e){if(!t.isMeshStandardMaterial||t.emissiveIntensity===1)return;const r=this.writer.extensionsUsed,n={};n.emissiveStrength=t.emissiveIntensity,e.extensions=e.extensions||{},e.extensions[this.name]=n,r[this.name]=!0}};var Ht=Uint8Array,$o=Uint16Array,Bl=Uint32Array,Fl=new Ht([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ul=new Ht([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Ho=function(t,e){for(var r=new $o(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var o=new Bl(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)o[a]=a-r[n]<<5|n;return[r,o]},Yo=Ho(Fl,2),Vl=Yo[0],$l=Yo[1];Vl[28]=258,$l[258]=28;Ho(Ul,0);var Hl=new $o(32768);for(var we=0;we<32768;++we){var at=(we&43690)>>>1|(we&21845)<<1;at=(at&52428)>>>2|(at&13107)<<2,at=(at&61680)>>>4|(at&3855)<<4,Hl[we]=((at&65280)>>>8|(at&255)<<8)>>>1}var bn=new Ht(288);for(var we=0;we<144;++we)bn[we]=8;for(var we=144;we<256;++we)bn[we]=9;for(var we=256;we<280;++we)bn[we]=7;for(var we=280;we<288;++we)bn[we]=8;var Yl=new Ht(32);for(var we=0;we<32;++we)Yl[we]=5;var Gl=new Ht(0),Wl=typeof TextDecoder<"u"&&new TextDecoder,ql=0;try{Wl.decode(Gl,{stream:!0}),ql=1}catch{}var Xl=Object.defineProperty,Kl=(t,e,r)=>e in t?Xl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Zl=(t,e,r)=>(Kl(t,e+"",r),r);const Go=class extends vt{constructor(t,e={}){super(t),this.isReflector=!0,this.type="Reflector",this.camera=new He;const r=this,n=e.color!==void 0?new Se(e.color):new Se(8355711),o=e.textureWidth||512,a=e.textureHeight||512,s=e.clipBias||0,i=e.shader||Go.ReflectorShader,d=e.multisample!==void 0?e.multisample:4,l=new fo,v=new G,y=new G,f=new G,w=new Ut,b=new G(0,0,-1),x=new pt,p=new G,E=new G,A=new pt,T=new Ut,C=this.camera,P=new Ia(o,a,{samples:d,type:Ca}),g=new $t({uniforms:Qn.clone(i.uniforms),fragmentShader:i.fragmentShader,vertexShader:i.vertexShader});g.uniforms.tDiffuse.value=P.texture,g.uniforms.color.value=n,g.uniforms.textureMatrix.value=T,this.material=g,this.onBeforeRender=function(_,m,c){if(y.setFromMatrixPosition(r.matrixWorld),f.setFromMatrixPosition(c.matrixWorld),w.extractRotation(r.matrixWorld),v.set(0,0,1),v.applyMatrix4(w),p.subVectors(y,f),p.dot(v)>0)return;p.reflect(v).negate(),p.add(y),w.extractRotation(c.matrixWorld),b.set(0,0,-1),b.applyMatrix4(w),b.add(f),E.subVectors(y,b),E.reflect(v).negate(),E.add(y),C.position.copy(p),C.up.set(0,1,0),C.up.applyMatrix4(w),C.up.reflect(v),C.lookAt(E),C.far=c.far,C.updateMatrixWorld(),C.projectionMatrix.copy(c.projectionMatrix),T.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),T.multiply(C.projectionMatrix),T.multiply(C.matrixWorldInverse),T.multiply(r.matrixWorld),l.setFromNormalAndCoplanarPoint(v,y),l.applyMatrix4(C.matrixWorldInverse),x.set(l.normal.x,l.normal.y,l.normal.z,l.constant);const u=C.projectionMatrix;A.x=(Math.sign(x.x)+u.elements[8])/u.elements[0],A.y=(Math.sign(x.y)+u.elements[9])/u.elements[5],A.z=-1,A.w=(1+u.elements[10])/u.elements[14],x.multiplyScalar(2/x.dot(A)),u.elements[2]=x.x,u.elements[6]=x.y,u.elements[10]=x.z+1-s,u.elements[14]=x.w,r.visible=!1;const M=_.getRenderTarget(),I=_.xr.enabled,D=_.shadowMap.autoUpdate,L=_.toneMapping;let B=!1;"outputColorSpace"in _?B=_.outputColorSpace==="srgb":B=_.outputEncoding===3001,_.xr.enabled=!1,_.shadowMap.autoUpdate=!1,"outputColorSpace"in _?_.outputColorSpace="srgb-linear":_.outputEncoding=3e3,_.toneMapping=io,_.setRenderTarget(P),_.state.buffers.depth.setMask(!0),_.autoClear===!1&&_.clear(),_.render(m,C),_.xr.enabled=I,_.shadowMap.autoUpdate=D,_.toneMapping=L,"outputColorSpace"in _?_.outputColorSpace=B?"srgb":"srgb-linear":_.outputEncoding=B?3001:3e3,_.setRenderTarget(M);const N=c.viewport;N!==void 0&&_.state.viewport(N),r.visible=!0},this.getRenderTarget=function(){return P},this.dispose=function(){P.dispose(),r.material.dispose()}}};let Xn=Go;Zl(Xn,"ReflectorShader",{uniforms:{color:{value:null},tDiffuse:{value:null},textureMatrix:{value:null}},vertexShader:`
		uniform mat4 textureMatrix;
		varying vec4 vUv;

		#include <common>
		#include <logdepthbuf_pars_vertex>

		void main() {

			vUv = textureMatrix * vec4( position, 1.0 );

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

			#include <logdepthbuf_vertex>

		}`,fragmentShader:`
		uniform vec3 color;
		uniform sampler2D tDiffuse;
		varying vec4 vUv;

		#include <logdepthbuf_pars_fragment>

		float blendOverlay( float base, float blend ) {

			return( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );

		}

		vec3 blendOverlay( vec3 base, vec3 blend ) {

			return vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );

		}

		void main() {

			#include <logdepthbuf_fragment>

			vec4 base = texture2DProj( tDiffuse, vUv );
			gl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );

			#include <tonemapping_fragment>
			#include <${ir>=154?"colorspace_fragment":"encodings_fragment"}>

		}`});var Jl=Object.defineProperty,Ql=(t,e,r)=>e in t?Jl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Wo=(t,e,r)=>(Ql(t,typeof e!="symbol"?e+"":e,r),r);const wn=new xa,eu=new Float32Array([-1,-1,0,0,0,1,-1,0,1,0,1,1,0,1,1,-1,1,0,0,1]),qo=new _a(eu,5);wn.setIndex([0,1,2,0,2,3]);wn.setAttribute("position",new mo(qo,3,0,!1));wn.setAttribute("uv",new mo(qo,2,3,!1));const Kn=class extends vt{constructor(){super(Kn.Geometry,new co({opacity:0,transparent:!0})),this.isLensflare=!0,this.type="Lensflare",this.frustumCulled=!1,this.renderOrder=1/0;const t=new G,e=new G,r=new gr(new Uint8Array(256*3),16,16,Un);r.minFilter=Rt,r.magFilter=Rt,r.wrapS=Dt,r.wrapT=Dt;const n=new gr(new Uint8Array(256*3),16,16,Un);n.minFilter=Rt,n.magFilter=Rt,n.wrapS=Dt,n.wrapT=Dt;const o=Kn.Geometry,a=new Tn({uniforms:{scale:{value:null},screenPosition:{value:null}},vertexShader:`

				precision highp float;

				uniform vec3 screenPosition;
				uniform vec2 scale;

				attribute vec3 position;

				void main() {

					gl_Position = vec4( position.xy * scale + screenPosition.xy, screenPosition.z, 1.0 );

				}`,fragmentShader:`

				precision highp float;

				void main() {

					gl_FragColor = vec4( 1.0, 0.0, 1.0, 1.0 );

				}`,depthTest:!0,depthWrite:!1,transparent:!1}),s=new Tn({uniforms:{map:{value:r},scale:{value:null},screenPosition:{value:null}},vertexShader:`

				precision highp float;

				uniform vec3 screenPosition;
				uniform vec2 scale;

				attribute vec3 position;
				attribute vec2 uv;

				varying vec2 vUV;

				void main() {

					vUV = uv;

					gl_Position = vec4( position.xy * scale + screenPosition.xy, screenPosition.z, 1.0 );

				}`,fragmentShader:`

				precision highp float;

				uniform sampler2D map;

				varying vec2 vUV;

				void main() {

					gl_FragColor = texture2D( map, vUV );

				}`,depthTest:!1,depthWrite:!1,transparent:!1}),i=new vt(o,a),d=[],l=Xo.Shader,v=new Tn({uniforms:{map:{value:null},occlusionMap:{value:n},color:{value:new Se(16777215)},scale:{value:new ke},screenPosition:{value:new G}},vertexShader:l.vertexShader,fragmentShader:l.fragmentShader,blending:Pa,transparent:!0,depthWrite:!1}),y=new vt(o,v);this.addElement=function(p){d.push(p)};const f=new ke,w=new ke,b=new Sa,x=new pt;this.onBeforeRender=function(p,E,A){p.getCurrentViewport(x);const T=x.w/x.z,C=x.z/2,P=x.w/2;let g=16/x.w;if(f.set(g*T,g),b.min.set(x.x,x.y),b.max.set(x.x+(x.z-16),x.y+(x.w-16)),e.setFromMatrixPosition(this.matrixWorld),e.applyMatrix4(A.matrixWorldInverse),!(e.z>0)&&(t.copy(e).applyMatrix4(A.projectionMatrix),w.x=x.x+t.x*C+C-8,w.y=x.y+t.y*P+P-8,b.containsPoint(w))){p.copyFramebufferToTexture(w,r);let _=a.uniforms;_.scale.value=f,_.screenPosition.value=t,p.renderBufferDirect(A,null,o,a,i,null),p.copyFramebufferToTexture(w,n),_=s.uniforms,_.scale.value=f,_.screenPosition.value=t,p.renderBufferDirect(A,null,o,s,i,null);const m=-t.x*2,c=-t.y*2;for(let u=0,M=d.length;u<M;u++){const I=d[u],D=v.uniforms;D.color.value.copy(I.color),D.map.value=I.texture,D.screenPosition.value.x=t.x+m*I.distance,D.screenPosition.value.y=t.y+c*I.distance,g=I.size/x.w;const L=x.w/x.z;D.scale.value.set(g*L,g),v.uniformsNeedUpdate=!0,p.renderBufferDirect(A,null,o,v,y,null)}}},this.dispose=function(){a.dispose(),s.dispose(),v.dispose(),r.dispose(),n.dispose();for(let p=0,E=d.length;p<E;p++)d[p].texture.dispose()}}};let tu=Kn;Wo(tu,"Geometry",wn);class Xo{constructor(e,r=1,n=0,o=new Se(16777215)){this.texture=e,this.size=r,this.distance=n,this.color=o}}Wo(Xo,"Shader",{uniforms:{map:{value:null},occlusionMap:{value:null},color:{value:null},scale:{value:null},screenPosition:{value:null}},vertexShader:`

		precision highp float;

		uniform vec3 screenPosition;
		uniform vec2 scale;

		uniform sampler2D occlusionMap;

		attribute vec3 position;
		attribute vec2 uv;

		varying vec2 vUV;
		varying float vVisibility;

		void main() {

			vUV = uv;

			vec2 pos = position.xy;

			vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );
			visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );
			visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );
			visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );
			visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );
			visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );
			visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );
			visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );
			visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );

			vVisibility =        visibility.r / 9.0;
			vVisibility *= 1.0 - visibility.g / 9.0;
			vVisibility *=       visibility.b / 9.0;

			gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );

		}`,fragmentShader:`

		precision highp float;

		uniform sampler2D map;
		uniform vec3 color;

		varying vec2 vUV;
		varying float vVisibility;

		void main() {

			vec4 texture = texture2D( map, vUV );
			texture.a *= vVisibility;
			gl_FragColor = texture;
			gl_FragColor.rgb *= color;

		}`});var nu=Object.defineProperty,ru=(t,e,r)=>e in t?nu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ko=(t,e,r)=>(ru(t,typeof e!="symbol"?e+"":e,r),r);const sn={uniforms:{turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new G},up:{value:new G(0,1,0)}},vertexShader:`
      uniform vec3 sunPosition;
      uniform float rayleigh;
      uniform float turbidity;
      uniform float mieCoefficient;
      uniform vec3 up;

      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      // constants for atmospheric scattering
      const float e = 2.71828182845904523536028747135266249775724709369995957;
      const float pi = 3.141592653589793238462643383279502884197169;

      // wavelength of used primaries, according to preetham
      const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );
      // this pre-calcuation replaces older TotalRayleigh(vec3 lambda) function:
      // (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))
      const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );

      // mie stuff
      // K coefficient for the primaries
      const float v = 4.0;
      const vec3 K = vec3( 0.686, 0.678, 0.666 );
      // MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K
      const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );

      // earth shadow hack
      // cutoffAngle = pi / 1.95;
      const float cutoffAngle = 1.6110731556870734;
      const float steepness = 1.5;
      const float EE = 1000.0;

      float sunIntensity( float zenithAngleCos ) {
        zenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );
        return EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );
      }

      vec3 totalMie( float T ) {
        float c = ( 0.2 * T ) * 10E-18;
        return 0.434 * c * MieConst;
      }

      void main() {

        vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
        vWorldPosition = worldPosition.xyz;

        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        gl_Position.z = gl_Position.w; // set z to camera.far

        vSunDirection = normalize( sunPosition );

        vSunE = sunIntensity( dot( vSunDirection, up ) );

        vSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );

        float rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );

      // extinction (absorbtion + out scattering)
      // rayleigh coefficients
        vBetaR = totalRayleigh * rayleighCoefficient;

      // mie coefficients
        vBetaM = totalMie( turbidity ) * mieCoefficient;

      }
    `,fragmentShader:`
      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      uniform float mieDirectionalG;
      uniform vec3 up;

      const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );

      // constants for atmospheric scattering
      const float pi = 3.141592653589793238462643383279502884197169;

      const float n = 1.0003; // refractive index of air
      const float N = 2.545E25; // number of molecules per unit volume for air at 288.15K and 1013mb (sea level -45 celsius)

      // optical length at zenith for molecules
      const float rayleighZenithLength = 8.4E3;
      const float mieZenithLength = 1.25E3;
      // 66 arc seconds -> degrees, and the cosine of that
      const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;

      // 3.0 / ( 16.0 * pi )
      const float THREE_OVER_SIXTEENPI = 0.05968310365946075;
      // 1.0 / ( 4.0 * pi )
      const float ONE_OVER_FOURPI = 0.07957747154594767;

      float rayleighPhase( float cosTheta ) {
        return THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );
      }

      float hgPhase( float cosTheta, float g ) {
        float g2 = pow( g, 2.0 );
        float inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );
        return ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );
      }

      void main() {

        vec3 direction = normalize( vWorldPosition - cameraPos );

      // optical length
      // cutoff angle at 90 to avoid singularity in next formula.
        float zenithAngle = acos( max( 0.0, dot( up, direction ) ) );
        float inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );
        float sR = rayleighZenithLength * inverse;
        float sM = mieZenithLength * inverse;

      // combined extinction factor
        vec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );

      // in scattering
        float cosTheta = dot( direction, vSunDirection );

        float rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );
        vec3 betaRTheta = vBetaR * rPhase;

        float mPhase = hgPhase( cosTheta, mieDirectionalG );
        vec3 betaMTheta = vBetaM * mPhase;

        vec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );
        Lin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );

      // nightsky
        float theta = acos( direction.y ); // elevation --> y-axis, [-pi/2, pi/2]
        float phi = atan( direction.z, direction.x ); // azimuth --> x-axis [-pi/2, pi/2]
        vec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );
        vec3 L0 = vec3( 0.1 ) * Fex;

      // composition + solar disc
        float sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );
        L0 += ( vSunE * 19000.0 * Fex ) * sundisk;

        vec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );

        vec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );

        gl_FragColor = vec4( retColor, 1.0 );

      #include <tonemapping_fragment>
      #include <${ir>=154?"colorspace_fragment":"encodings_fragment"}>

      }
    `},Zo=new $t({name:"SkyShader",fragmentShader:sn.fragmentShader,vertexShader:sn.vertexShader,uniforms:Qn.clone(sn.uniforms),side:Ma,depthWrite:!1});class Jo extends vt{constructor(){super(new Aa(1,1,1),Zo)}}Ko(Jo,"SkyShader",sn);Ko(Jo,"material",Zo);new ka;new G;new vo(0,0,0,"YXZ");new G;var ou=Object.defineProperty,au=(t,e,r)=>e in t?ou(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Z=(t,e,r)=>(au(t,typeof e!="symbol"?e+"":e,r),r);const en=new ya,Br=new fo,su=Math.cos(70*(Math.PI/180)),Fr=(t,e)=>(t%e+e)%e;class iu extends ma{constructor(e,r){super(),Z(this,"object"),Z(this,"domElement"),Z(this,"enabled",!0),Z(this,"target",new G),Z(this,"minDistance",0),Z(this,"maxDistance",1/0),Z(this,"minZoom",0),Z(this,"maxZoom",1/0),Z(this,"minPolarAngle",0),Z(this,"maxPolarAngle",Math.PI),Z(this,"minAzimuthAngle",-1/0),Z(this,"maxAzimuthAngle",1/0),Z(this,"enableDamping",!1),Z(this,"dampingFactor",.05),Z(this,"enableZoom",!0),Z(this,"zoomSpeed",1),Z(this,"enableRotate",!0),Z(this,"rotateSpeed",1),Z(this,"enablePan",!0),Z(this,"panSpeed",1),Z(this,"screenSpacePanning",!0),Z(this,"keyPanSpeed",7),Z(this,"zoomToCursor",!1),Z(this,"autoRotate",!1),Z(this,"autoRotateSpeed",2),Z(this,"reverseOrbit",!1),Z(this,"reverseHorizontalOrbit",!1),Z(this,"reverseVerticalOrbit",!1),Z(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Z(this,"mouseButtons",{LEFT:Ze.ROTATE,MIDDLE:Ze.DOLLY,RIGHT:Ze.PAN}),Z(this,"touches",{ONE:st.ROTATE,TWO:st.DOLLY_PAN}),Z(this,"target0"),Z(this,"position0"),Z(this,"zoom0"),Z(this,"_domElementKeyEvents",null),Z(this,"getPolarAngle"),Z(this,"getAzimuthalAngle"),Z(this,"setPolarAngle"),Z(this,"setAzimuthalAngle"),Z(this,"getDistance"),Z(this,"getZoomScale"),Z(this,"listenToKeyEvents"),Z(this,"stopListenToKeyEvents"),Z(this,"saveState"),Z(this,"reset"),Z(this,"update"),Z(this,"connect"),Z(this,"dispose"),Z(this,"dollyIn"),Z(this,"dollyOut"),Z(this,"getScale"),Z(this,"setScale"),this.object=e,this.domElement=r,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>v.phi,this.getAzimuthalAngle=()=>v.theta,this.setPolarAngle=S=>{let H=Fr(S,2*Math.PI),ee=v.phi;ee<0&&(ee+=2*Math.PI),H<0&&(H+=2*Math.PI);let me=Math.abs(H-ee);2*Math.PI-me<me&&(H<ee?H+=2*Math.PI:ee+=2*Math.PI),y.phi=H-ee,n.update()},this.setAzimuthalAngle=S=>{let H=Fr(S,2*Math.PI),ee=v.theta;ee<0&&(ee+=2*Math.PI),H<0&&(H+=2*Math.PI);let me=Math.abs(H-ee);2*Math.PI-me<me&&(H<ee?H+=2*Math.PI:ee+=2*Math.PI),y.theta=H-ee,n.update()},this.getDistance=()=>n.object.position.distanceTo(n.target),this.listenToKeyEvents=S=>{S.addEventListener("keydown",Et),this._domElementKeyEvents=S},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Et),this._domElementKeyEvents=null},this.saveState=()=>{n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=()=>{n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(o),n.update(),d=i.NONE},this.update=(()=>{const S=new G,H=new G(0,1,0),ee=new hr().setFromUnitVectors(e.up,H),me=ee.clone().invert(),Oe=new G,Be=new hr,Wt=2*Math.PI;return function(){const mr=n.object.position;ee.setFromUnitVectors(e.up,H),me.copy(ee).invert(),S.copy(mr).sub(n.target),S.applyQuaternion(ee),v.setFromVector3(S),n.autoRotate&&d===i.NONE&&L(I()),n.enableDamping?(v.theta+=y.theta*n.dampingFactor,v.phi+=y.phi*n.dampingFactor):(v.theta+=y.theta,v.phi+=y.phi);let Xe=n.minAzimuthAngle,Ke=n.maxAzimuthAngle;isFinite(Xe)&&isFinite(Ke)&&(Xe<-Math.PI?Xe+=Wt:Xe>Math.PI&&(Xe-=Wt),Ke<-Math.PI?Ke+=Wt:Ke>Math.PI&&(Ke-=Wt),Xe<=Ke?v.theta=Math.max(Xe,Math.min(Ke,v.theta)):v.theta=v.theta>(Xe+Ke)/2?Math.max(Xe,v.theta):Math.min(Ke,v.theta)),v.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,v.phi)),v.makeSafe(),n.enableDamping===!0?n.target.addScaledVector(w,n.dampingFactor):n.target.add(w),n.zoomToCursor&&c||n.object.isOrthographicCamera?v.radius=_e(v.radius):v.radius=_e(v.radius*f),S.setFromSpherical(v),S.applyQuaternion(me),mr.copy(n.target).add(S),n.object.matrixAutoUpdate||n.object.updateMatrix(),n.object.lookAt(n.target),n.enableDamping===!0?(y.theta*=1-n.dampingFactor,y.phi*=1-n.dampingFactor,w.multiplyScalar(1-n.dampingFactor)):(y.set(0,0,0),w.set(0,0,0));let It=!1;if(n.zoomToCursor&&c){let Ct=null;if(n.object instanceof He&&n.object.isPerspectiveCamera){const jt=S.length();Ct=_e(jt*f);const qt=jt-Ct;n.object.position.addScaledVector(_,qt),n.object.updateMatrixWorld()}else if(n.object.isOrthographicCamera){const jt=new G(m.x,m.y,0);jt.unproject(n.object),n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/f)),n.object.updateProjectionMatrix(),It=!0;const qt=new G(m.x,m.y,0);qt.unproject(n.object),n.object.position.sub(qt).add(jt),n.object.updateMatrixWorld(),Ct=S.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),n.zoomToCursor=!1;Ct!==null&&(n.screenSpacePanning?n.target.set(0,0,-1).transformDirection(n.object.matrix).multiplyScalar(Ct).add(n.object.position):(en.origin.copy(n.object.position),en.direction.set(0,0,-1).transformDirection(n.object.matrix),Math.abs(n.object.up.dot(en.direction))<su?e.lookAt(n.target):(Br.setFromNormalAndCoplanarPoint(n.object.up,n.target),en.intersectPlane(Br,n.target))))}else n.object instanceof Lt&&n.object.isOrthographicCamera&&(It=f!==1,It&&(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/f)),n.object.updateProjectionMatrix()));return f=1,c=!1,It||Oe.distanceToSquared(n.object.position)>l||8*(1-Be.dot(n.object.quaternion))>l?(n.dispatchEvent(o),Oe.copy(n.object.position),Be.copy(n.object.quaternion),It=!1,!0):!1}})(),this.connect=S=>{n.domElement=S,n.domElement.style.touchAction="none",n.domElement.addEventListener("contextmenu",pr),n.domElement.addEventListener("pointerdown",ye),n.domElement.addEventListener("pointercancel",$e),n.domElement.addEventListener("wheel",Gt)},this.dispose=()=>{var S,H,ee,me,Oe,Be;n.domElement&&(n.domElement.style.touchAction="auto"),(S=n.domElement)==null||S.removeEventListener("contextmenu",pr),(H=n.domElement)==null||H.removeEventListener("pointerdown",ye),(ee=n.domElement)==null||ee.removeEventListener("pointercancel",$e),(me=n.domElement)==null||me.removeEventListener("wheel",Gt),(Oe=n.domElement)==null||Oe.ownerDocument.removeEventListener("pointermove",Ne),(Be=n.domElement)==null||Be.ownerDocument.removeEventListener("pointerup",$e),n._domElementKeyEvents!==null&&n._domElementKeyEvents.removeEventListener("keydown",Et)};const n=this,o={type:"change"},a={type:"start"},s={type:"end"},i={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let d=i.NONE;const l=1e-6,v=new Fn,y=new Fn;let f=1;const w=new G,b=new ke,x=new ke,p=new ke,E=new ke,A=new ke,T=new ke,C=new ke,P=new ke,g=new ke,_=new G,m=new ke;let c=!1;const u=[],M={};function I(){return 2*Math.PI/60/60*n.autoRotateSpeed}function D(){return Math.pow(.95,n.zoomSpeed)}function L(S){n.reverseOrbit||n.reverseHorizontalOrbit?y.theta+=S:y.theta-=S}function B(S){n.reverseOrbit||n.reverseVerticalOrbit?y.phi+=S:y.phi-=S}const N=(()=>{const S=new G;return function(H,ee){S.setFromMatrixColumn(ee,0),S.multiplyScalar(-H),w.add(S)}})(),re=(()=>{const S=new G;return function(H,ee){n.screenSpacePanning===!0?S.setFromMatrixColumn(ee,1):(S.setFromMatrixColumn(ee,0),S.crossVectors(n.object.up,S)),S.multiplyScalar(H),w.add(S)}})(),ae=(()=>{const S=new G;return function(H,ee){const me=n.domElement;if(me&&n.object instanceof He&&n.object.isPerspectiveCamera){const Oe=n.object.position;S.copy(Oe).sub(n.target);let Be=S.length();Be*=Math.tan(n.object.fov/2*Math.PI/180),N(2*H*Be/me.clientHeight,n.object.matrix),re(2*ee*Be/me.clientHeight,n.object.matrix)}else me&&n.object instanceof Lt&&n.object.isOrthographicCamera?(N(H*(n.object.right-n.object.left)/n.object.zoom/me.clientWidth,n.object.matrix),re(ee*(n.object.top-n.object.bottom)/n.object.zoom/me.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}})();function Q(S){n.object instanceof He&&n.object.isPerspectiveCamera||n.object instanceof Lt&&n.object.isOrthographicCamera?f=S:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function ne(S){Q(f/S)}function V(S){Q(f*S)}function ue(S){if(!n.zoomToCursor||!n.domElement)return;c=!0;const H=n.domElement.getBoundingClientRect(),ee=S.clientX-H.left,me=S.clientY-H.top,Oe=H.width,Be=H.height;m.x=ee/Oe*2-1,m.y=-(me/Be)*2+1,_.set(m.x,m.y,1).unproject(n.object).sub(n.object.position).normalize()}function _e(S){return Math.max(n.minDistance,Math.min(n.maxDistance,S))}function ve(S){b.set(S.clientX,S.clientY)}function xe(S){ue(S),C.set(S.clientX,S.clientY)}function Ee(S){E.set(S.clientX,S.clientY)}function Ie(S){x.set(S.clientX,S.clientY),p.subVectors(x,b).multiplyScalar(n.rotateSpeed);const H=n.domElement;H&&(L(2*Math.PI*p.x/H.clientHeight),B(2*Math.PI*p.y/H.clientHeight)),b.copy(x),n.update()}function $(S){P.set(S.clientX,S.clientY),g.subVectors(P,C),g.y>0?ne(D()):g.y<0&&V(D()),C.copy(P),n.update()}function h(S){A.set(S.clientX,S.clientY),T.subVectors(A,E).multiplyScalar(n.panSpeed),ae(T.x,T.y),E.copy(A),n.update()}function k(S){ue(S),S.deltaY<0?V(D()):S.deltaY>0&&ne(D()),n.update()}function j(S){let H=!1;switch(S.code){case n.keys.UP:ae(0,n.keyPanSpeed),H=!0;break;case n.keys.BOTTOM:ae(0,-n.keyPanSpeed),H=!0;break;case n.keys.LEFT:ae(n.keyPanSpeed,0),H=!0;break;case n.keys.RIGHT:ae(-n.keyPanSpeed,0),H=!0;break}H&&(S.preventDefault(),n.update())}function z(){if(u.length==1)b.set(u[0].pageX,u[0].pageY);else{const S=.5*(u[0].pageX+u[1].pageX),H=.5*(u[0].pageY+u[1].pageY);b.set(S,H)}}function R(){if(u.length==1)E.set(u[0].pageX,u[0].pageY);else{const S=.5*(u[0].pageX+u[1].pageX),H=.5*(u[0].pageY+u[1].pageY);E.set(S,H)}}function U(){const S=u[0].pageX-u[1].pageX,H=u[0].pageY-u[1].pageY,ee=Math.sqrt(S*S+H*H);C.set(0,ee)}function J(){n.enableZoom&&U(),n.enablePan&&R()}function de(){n.enableZoom&&U(),n.enableRotate&&z()}function he(S){if(u.length==1)x.set(S.pageX,S.pageY);else{const ee=Mn(S),me=.5*(S.pageX+ee.x),Oe=.5*(S.pageY+ee.y);x.set(me,Oe)}p.subVectors(x,b).multiplyScalar(n.rotateSpeed);const H=n.domElement;H&&(L(2*Math.PI*p.x/H.clientHeight),B(2*Math.PI*p.y/H.clientHeight)),b.copy(x)}function oe(S){if(u.length==1)A.set(S.pageX,S.pageY);else{const H=Mn(S),ee=.5*(S.pageX+H.x),me=.5*(S.pageY+H.y);A.set(ee,me)}T.subVectors(A,E).multiplyScalar(n.panSpeed),ae(T.x,T.y),E.copy(A)}function pe(S){const H=Mn(S),ee=S.pageX-H.x,me=S.pageY-H.y,Oe=Math.sqrt(ee*ee+me*me);P.set(0,Oe),g.set(0,Math.pow(P.y/C.y,n.zoomSpeed)),ne(g.y),C.copy(P)}function Me(S){n.enableZoom&&pe(S),n.enablePan&&oe(S)}function fe(S){n.enableZoom&&pe(S),n.enableRotate&&he(S)}function ye(S){var H,ee;n.enabled!==!1&&(u.length===0&&((H=n.domElement)==null||H.ownerDocument.addEventListener("pointermove",Ne),(ee=n.domElement)==null||ee.ownerDocument.addEventListener("pointerup",$e)),sa(S),S.pointerType==="touch"?qe(S):xn(S))}function Ne(S){n.enabled!==!1&&(S.pointerType==="touch"?At(S):_n(S))}function $e(S){var H,ee,me;ia(S),u.length===0&&((H=n.domElement)==null||H.releasePointerCapture(S.pointerId),(ee=n.domElement)==null||ee.ownerDocument.removeEventListener("pointermove",Ne),(me=n.domElement)==null||me.ownerDocument.removeEventListener("pointerup",$e)),n.dispatchEvent(s),d=i.NONE}function xn(S){let H;switch(S.button){case 0:H=n.mouseButtons.LEFT;break;case 1:H=n.mouseButtons.MIDDLE;break;case 2:H=n.mouseButtons.RIGHT;break;default:H=-1}switch(H){case Ze.DOLLY:if(n.enableZoom===!1)return;xe(S),d=i.DOLLY;break;case Ze.ROTATE:if(S.ctrlKey||S.metaKey||S.shiftKey){if(n.enablePan===!1)return;Ee(S),d=i.PAN}else{if(n.enableRotate===!1)return;ve(S),d=i.ROTATE}break;case Ze.PAN:if(S.ctrlKey||S.metaKey||S.shiftKey){if(n.enableRotate===!1)return;ve(S),d=i.ROTATE}else{if(n.enablePan===!1)return;Ee(S),d=i.PAN}break;default:d=i.NONE}d!==i.NONE&&n.dispatchEvent(a)}function _n(S){if(n.enabled!==!1)switch(d){case i.ROTATE:if(n.enableRotate===!1)return;Ie(S);break;case i.DOLLY:if(n.enableZoom===!1)return;$(S);break;case i.PAN:if(n.enablePan===!1)return;h(S);break}}function Gt(S){n.enabled===!1||n.enableZoom===!1||d!==i.NONE&&d!==i.ROTATE||(S.preventDefault(),n.dispatchEvent(a),k(S),n.dispatchEvent(s))}function Et(S){n.enabled===!1||n.enablePan===!1||j(S)}function qe(S){switch(fr(S),u.length){case 1:switch(n.touches.ONE){case st.ROTATE:if(n.enableRotate===!1)return;z(),d=i.TOUCH_ROTATE;break;case st.PAN:if(n.enablePan===!1)return;R(),d=i.TOUCH_PAN;break;default:d=i.NONE}break;case 2:switch(n.touches.TWO){case st.DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;J(),d=i.TOUCH_DOLLY_PAN;break;case st.DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;de(),d=i.TOUCH_DOLLY_ROTATE;break;default:d=i.NONE}break;default:d=i.NONE}d!==i.NONE&&n.dispatchEvent(a)}function At(S){switch(fr(S),d){case i.TOUCH_ROTATE:if(n.enableRotate===!1)return;he(S),n.update();break;case i.TOUCH_PAN:if(n.enablePan===!1)return;oe(S),n.update();break;case i.TOUCH_DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;Me(S),n.update();break;case i.TOUCH_DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;fe(S),n.update();break;default:d=i.NONE}}function pr(S){n.enabled!==!1&&S.preventDefault()}function sa(S){u.push(S)}function ia(S){delete M[S.pointerId];for(let H=0;H<u.length;H++)if(u[H].pointerId==S.pointerId){u.splice(H,1);return}}function fr(S){let H=M[S.pointerId];H===void 0&&(H=new ke,M[S.pointerId]=H),H.set(S.pageX,S.pageY)}function Mn(S){const H=S.pointerId===u[0].pointerId?u[1]:u[0];return M[H.pointerId]}this.dollyIn=(S=D())=>{V(S),n.update()},this.dollyOut=(S=D())=>{ne(S),n.update()},this.getScale=()=>f,this.setScale=S=>{Q(S),n.update()},this.getZoomScale=()=>D(),r!==void 0&&this.connect(r),this.update()}}new Ut;new G;class Ur extends ha{constructor(e,r={}){const{bevelEnabled:n=!1,bevelSize:o=8,bevelThickness:a=10,font:s,height:i=50,size:d=100,lineHeight:l=1,letterSpacing:v=0,...y}=r;if(s===void 0)super();else{const f=s.generateShapes(e,d,{lineHeight:l,letterSpacing:v});super(f,{...y,bevelEnabled:n,bevelSize:o,bevelThickness:a,depth:i})}this.type="TextGeometry"}}new vo;new G;var lu=Object.defineProperty,uu=(t,e,r)=>e in t?lu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,lr=(t,e,r)=>(uu(t,typeof e!="symbol"?e+"":e,r),r);class cu extends ga{constructor(e){super(e)}load(e,r,n,o){const a=new va(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,s=>{if(typeof s!="string")throw new Error("unsupported data type");const i=JSON.parse(s),d=this.parse(i);r&&r(d)},n,o)}loadAsync(e,r){return super.loadAsync(e,r)}parse(e){return new ur(e)}}class ur{constructor(e){lr(this,"data"),this.data=e}generateShapes(e,r=100,n){const o=[],a={letterSpacing:0,lineHeight:1,...n},s=du(e,r,this.data,a);for(let i=0,d=s.length;i<d;i++)Array.prototype.push.apply(o,s[i].toShapes(!1));return o}}lr(ur,"isFont");lr(ur,"type");function du(t,e,r,n){const o=Array.from(t),a=e/r.resolution,s=(r.boundingBox.yMax-r.boundingBox.yMin+r.underlineThickness)*a,i=[];let d=0,l=0;for(let v=0;v<o.length;v++){const y=o[v];if(y===`
`)d=0,l-=s*n.lineHeight;else{const f=pu(y,a,d,l,r);f&&(d+=f.offsetX+n.letterSpacing,i.push(f.path))}}return i}function pu(t,e,r,n,o){const a=o.glyphs[t]||o.glyphs["?"];if(!a){console.error('THREE.Font: character "'+t+'" does not exists in font family '+o.familyName+".");return}const s=new ba;let i,d,l,v,y,f,w,b;if(a.o){const x=a._cachedOutline||(a._cachedOutline=a.o.split(" "));for(let p=0,E=x.length;p<E;)switch(x[p++]){case"m":i=parseInt(x[p++])*e+r,d=parseInt(x[p++])*e+n,s.moveTo(i,d);break;case"l":i=parseInt(x[p++])*e+r,d=parseInt(x[p++])*e+n,s.lineTo(i,d);break;case"q":l=parseInt(x[p++])*e+r,v=parseInt(x[p++])*e+n,y=parseInt(x[p++])*e+r,f=parseInt(x[p++])*e+n,s.quadraticCurveTo(y,f,l,v);break;case"b":l=parseInt(x[p++])*e+r,v=parseInt(x[p++])*e+n,y=parseInt(x[p++])*e+r,f=parseInt(x[p++])*e+n,w=parseInt(x[p++])*e+r,b=parseInt(x[p++])*e+n,s.bezierCurveTo(y,f,w,b,l,v);break}}return{offsetX:a.ha*e,path:s}}new ho;new G;new pt;new G;new G;new pt;new pt;new pt;new G;new Ut;new Ta;new G;new ho;new Ea;new pt;dt.clamp;dt.lerp;const fu=Te({__name:"MouseParallax",props:{disabled:{type:Boolean,default:!1},factor:{default:2.5},ease:{default:.1},local:{type:Boolean,default:!1}},setup(t){const e=t,{camera:r,renderer:n}=Ve(),{disabled:o,factor:a,ease:s,local:i}=Qe(e),d={};i.value&&(d.target=n.value.domElement,d.type="client");const{x:l,y:v}=ml(d),{width:y,height:f}=i.value?dl(n.value.domElement):Bo(),w=Ae(),b=F(),x=F();ie([a,s],()=>{b.value=Array.isArray(a.value)?a.value:[a.value,a.value],x.value=Array.isArray(s.value)?s.value:[s.value,s.value]},{immediate:!0});const p=ce(()=>(l.value/y.value-.5)*b.value[0]),E=ce(()=>-(v.value/f.value-.5)*b.value[1]),{onBeforeRender:A}=yn();return A(({delta:T,invalidate:C})=>{o.value||!w.value||Number.isNaN(p.value)||Number.isNaN(E.value)||(w.value.position.x+=(p.value-w.value.position.x)*x.value[0]*T,w.value.position.y+=(E.value-w.value.position.y)*x.value[1]*T,C())}),ie(()=>w.value,T=>T?.add(r.value)),(T,C)=>(q(),K("TresGroup",{ref_key:"cameraGroupRef",ref:w},null,512))}});Fo({screenspace:!1,color:new Se("black"),opacity:1,thickness:.05,size:new ke(1,1)},`#include <common>
   #include <morphtarget_pars_vertex>
   #include <skinning_pars_vertex>
   uniform float thickness;
   uniform bool screenspace;
   uniform vec2 size;
   void main() {
     #if defined (USE_SKINNING)
       #include <beginnormal_vertex>
       #include <morphnormal_vertex>
       #include <skinbase_vertex>
       #include <skinnormal_vertex>
       #include <defaultnormal_vertex>
     #endif
     #include <begin_vertex>
     #include <morphtarget_vertex>
     #include <skinning_vertex>
     #include <project_vertex>
     vec4 tNormal = vec4(normal, 0.0);
     vec4 tPosition = vec4(transformed, 1.0);
     #ifdef USE_INSTANCING
       tNormal = instanceMatrix * tNormal;
       tPosition = instanceMatrix * tPosition;
     #endif
     if (screenspace) {
       vec3 newPosition = tPosition.xyz + tNormal.xyz * thickness;
       gl_Position = projectionMatrix * modelViewMatrix * vec4(newPosition, 1.0); 
     } else {
       vec4 clipPosition = projectionMatrix * modelViewMatrix * tPosition;
       vec4 clipNormal = projectionMatrix * modelViewMatrix * tNormal;
       vec2 offset = normalize(clipNormal.xy) * thickness / size * clipPosition.w * 2.0;
       clipPosition.xy += offset;
       gl_Position = clipPosition;
     }
   }`,`uniform vec3 color;
   uniform float opacity;
   void main(){
     gl_FragColor = vec4(color, opacity);
     #include <tonemapping_fragment>
     #include <colorspace_fragment>
   }`);const mu=["args","material-uniforms-color-value"];Xn.ReflectorShader;const hu=["args","center"],gu=Te({__name:"Text3D",props:{font:{},text:{},size:{default:.5},height:{default:.2},curveSegments:{default:5},bevelEnabled:{type:Boolean,default:!0},bevelThickness:{default:.05},bevelSize:{default:.02},bevelOffset:{default:0},bevelSegments:{default:4},center:{type:Boolean,default:!1},needUpdates:{type:Boolean,default:!1}},async setup(t,{expose:e}){let r,n;const o=t,{center:a,font:s,text:i,needUpdates:d,size:l,height:v,curveSegments:y,bevelEnabled:f,bevelThickness:w,bevelSize:b,bevelOffset:x,bevelSegments:p}=Qe(o),{extend:E,invalidate:A}=Ve();ie(o,()=>A()),E({TextGeometry:Ur});const T=new cu,C=hn(),P=ce(()=>{var c;return i!=null&&i.value?i.value:C.default?(c=C.default()[0].children)==null?void 0:c.trim():d.value?"":"TresJS"}),g=Ae();e({instance:g});const _=([r,n]=Ha(()=>new Promise((c,u)=>{try{typeof s.value=="string"?T.load(s.value,M=>{c(M)}):c(s.value)}catch(M){u(console.error("cientos",M))}})),r=await r,n(),r),m=ce(()=>({font:_,size:ot(l),height:ot(v),curveSegments:ot(y),bevelEnabled:ot(f),bevelThickness:ot(w),bevelSize:ot(b),bevelOffset:ot(x),bevelSegments:ot(p)}));return et(()=>{g.value&&d.value&&(g.value.geometry.dispose(),g.value.geometry=new Ur(P.value,m.value),a.value&&g.value.geometry.center())}),(c,u)=>Y(s)?(q(),K("TresMesh",{key:0,ref_key:"text3DRef",ref:g},[P.value?(q(),K("TresTextGeometry",{key:0,args:[P.value,m.value],center:Y(a)},null,8,hu)):Pe("",!0),ft(c.$slots,"default")],512)):Pe("",!0)}});new G;new G;new G;var On;/Mac/.test((On=globalThis?.navigator)===null||On===void 0?void 0:On.platform);const vu=["target","auto-rotate","auto-rotate-speed","enable-damping","damping-factor","enable-pan","key-pan-speed","keys","max-azimuth-angle","min-azimuth-angle","max-polar-angle","min-polar-angle","min-distance","max-distance","min-zoom","max-zoom","touches","enable-zoom","zoom-speed","enable-rotate","rotate-speed","mouse-buttons","args"],yu=Te({__name:"OrbitControls",props:{makeDefault:{type:Boolean,default:!1},camera:{},domElement:{},target:{default:()=>[0,0,0]},enableDamping:{type:Boolean,default:!0},dampingFactor:{default:.05},autoRotate:{type:Boolean,default:!1},autoRotateSpeed:{default:2},enablePan:{type:Boolean,default:!0},keyPanSpeed:{default:7},keys:{},maxAzimuthAngle:{default:Number.POSITIVE_INFINITY},minAzimuthAngle:{default:Number.NEGATIVE_INFINITY},maxPolarAngle:{default:Math.PI},minPolarAngle:{default:0},minDistance:{default:0},maxDistance:{default:Number.POSITIVE_INFINITY},minZoom:{default:0},maxZoom:{default:Number.POSITIVE_INFINITY},touches:{default:()=>({ONE:st.ROTATE,TWO:st.DOLLY_PAN})},enableZoom:{type:Boolean,default:!0},zoomSpeed:{default:1},enableRotate:{type:Boolean,default:!0},rotateSpeed:{default:1},mouseButtons:{default:()=>({LEFT:Ze.ROTATE,MIDDLE:Ze.DOLLY,RIGHT:Ze.PAN})}},emits:["change","start","end"],setup(t,{expose:e,emit:r}){const n=t,o=r,{makeDefault:a,autoRotate:s,autoRotateSpeed:i,enableDamping:d,dampingFactor:l,enablePan:v,keyPanSpeed:y,maxAzimuthAngle:f,minAzimuthAngle:w,maxPolarAngle:b,minPolarAngle:x,minDistance:p,maxDistance:E,minZoom:A,maxZoom:T,enableZoom:C,zoomSpeed:P,enableRotate:g,touches:_,rotateSpeed:m,target:c,mouseButtons:u}=Qe(n),{camera:M,renderer:I,extend:D,controls:L,invalidate:B}=Ve(),N=Ae(null);D({OrbitControls:iu}),ie(N,Q=>{re(),Q&&a.value?L.value=Q:L.value=null});function re(){Ue(N.value,"change",()=>{o("change",N.value),B()}),Ue(N.value,"start",()=>o("start",N.value)),Ue(N.value,"end",()=>o("end",N.value))}const{onBeforeRender:ae}=yn();return ae(({invalidate:Q})=>{N.value&&(d.value||s.value)&&(N.value.update(),s.value&&Q())}),Je(()=>{N.value&&N.value.dispose()}),e({instance:N}),(Q,ne)=>(Q.camera||Y(M))&&(Q.domElement||Y(I))?(q(),K("TresOrbitControls",{key:0,ref_key:"controlsRef",ref:N,target:Y(c),"auto-rotate":Y(s),"auto-rotate-speed":Y(i),"enable-damping":Y(d),"damping-factor":Y(l),"enable-pan":Y(v),"key-pan-speed":Y(y),keys:Q.keys,"max-azimuth-angle":Y(f),"min-azimuth-angle":Y(w),"max-polar-angle":Y(b),"min-polar-angle":Y(x),"min-distance":Y(p),"max-distance":Y(E),"min-zoom":Y(A),"max-zoom":Y(T),touches:Y(_),"enable-zoom":Y(C),"zoom-speed":Y(P),"enable-rotate":Y(g),"rotate-speed":Y(m),"mouse-buttons":Y(u),args:[Q.camera||Y(M),Q.domElement||Y(I).domElement]},null,8,vu)):Pe("",!0)}}),bu=Te({__name:"ScrollControls",props:{pages:{default:4},distance:{default:4},smoothScroll:{default:.1},horizontal:{type:Boolean,default:!1},htmlScroll:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(t,{expose:e,emit:r}){const n=t,o=r,{logWarning:a}=vn();n.smoothScroll<0&&a("SmoothControl must be greater than zero"),n.pages<0&&a("Pages must be greater than zero");const{camera:s,controls:i,renderer:d,invalidate:l}=Ve();ie(n,()=>{l()});const v=Ae(),y=document.createElement("div"),{y:f}=hl(),{x:w,y:b,isScrolling:x}=pl(y),{height:p,width:E}=Bo();let A=0;const T=F(!1),C=F(0),P=F(0),g=F(0),_=n.horizontal?"x":"y",m=ie(s,u=>{if(T.value){m();return}A=n.horizontal?u?.position.x||0:u?.position.y||0,T.value=!0},{immediate:!0});ie(x,u=>{i.value&&(i.value.enabled=!u)},{immediate:!0}),ie(f,u=>{!x.value&&!n.htmlScroll||(P.value=u/p.value/(g.value/p.value-1),C.value=-1*P.value,o("update:modelValue",P.value))}),ie(b,u=>{P.value=u/p.value/(g.value/p.value),C.value=-1*P.value,o("update:modelValue",P.value)}),ie(w,u=>{P.value=u/E.value/(g.value/E.value-1),C.value=+P.value,o("update:modelValue",P.value)}),ie(d,u=>{var M,I;const D=u?.domElement;if(n.htmlScroll&&u!=null&&u.domElement)D!=null&&D.style.width&&D!=null&&D.style.position&&D!=null&&D.style.top&&D!=null&&D.style.left&&(D.style.width="100%",D.style.position="fixed",D.style.zIndex=" -99999",D.style.top="0",D.style.left="0"),g.value=document.body.scrollHeight;else{const L=document.createElement("div"),B=document.createElement("div");y.style[n.horizontal?"overflowX":"overflowY"]="auto",y.style[n.horizontal?"overflowY":"overflowX"]="hidden",y.style.position="absolute",y.style.width="100%",y.style.height=" 100%",y.style.top="0",y.style.left="0",y.classList.add("scrollContainer"),L.style.position="sticky",L.style.top="0px",L.style.left="0px",L.style.width="100%",L.style.height="100%",L.style.overflow="hidden",y.appendChild(L),B.style.height=n.horizontal?"100%":`${p.value*n.pages}px`,B.style.width=n.horizontal?`${E.value*n.pages}px`:"100vw",B.style.pointerEvents="none",D.style.position="fixed",D.style.zIndex="0",D!=null&&D.style.width&&(D.style.width="100%"),y.appendChild(B),u!=null&&u.domElement.parentNode&&(u.domElement.parentNode.style.position="relative"),(I=(M=u?.domElement)==null?void 0:M.parentNode)==null||I.appendChild(y),g.value=n.horizontal?E.value*n.pages:p.value*n.pages}},{immediate:!0});const{onBeforeRender:c}=yn();return c(({invalidate:u})=>{var M;if((M=s.value)!=null&&M.position){const I=(C.value*n.distance-s.value.position[_]+A)*n.smoothScroll;s.value.position[_]+=I,v.value.children.length>0&&(v.value.position[_]+=I),u()}}),e({instance:v}),(u,M)=>(q(),K("TresGroup",{ref_key:"wrapperRef",ref:v},[ft(u.$slots,"default")],512))}});function tn(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Vr={exports:{}},$r;function wu(){return $r||($r=1,(function(t,e){(function(r){t.exports=r()})(function(){return(function r(n,o,a){function s(l,v){if(!o[l]){if(!n[l]){var y=typeof tn=="function"&&tn;if(!v&&y)return y(l,!0);if(i)return i(l,!0);throw new Error("Cannot find module '"+l+"'")}v=o[l]={exports:{}},n[l][0].call(v.exports,function(f){var w=n[l][1][f];return s(w||f)},v,v.exports,r,n,o,a)}return o[l].exports}for(var i=typeof tn=="function"&&tn,d=0;d<a.length;d++)s(a[d]);return s})({1:[function(r,n,o){(function(a,s,i,d,l,v,y,f,w){var b=r("crypto");function x(g,_){_=A(g,_);var m;return(m=_.algorithm!=="passthrough"?b.createHash(_.algorithm):new P).write===void 0&&(m.write=m.update,m.end=m.update),C(_,m).dispatch(g),m.update||m.end(""),m.digest?m.digest(_.encoding==="buffer"?void 0:_.encoding):(g=m.read(),_.encoding!=="buffer"?g.toString(_.encoding):g)}(o=n.exports=x).sha1=function(g){return x(g)},o.keys=function(g){return x(g,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},o.MD5=function(g){return x(g,{algorithm:"md5",encoding:"hex"})},o.keysMD5=function(g){return x(g,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var p=b.getHashes?b.getHashes().slice():["sha1","md5"],E=(p.push("passthrough"),["buffer","hex","binary","base64"]);function A(g,_){var m={};if(m.algorithm=(_=_||{}).algorithm||"sha1",m.encoding=_.encoding||"hex",m.excludeValues=!!_.excludeValues,m.algorithm=m.algorithm.toLowerCase(),m.encoding=m.encoding.toLowerCase(),m.ignoreUnknown=_.ignoreUnknown===!0,m.respectType=_.respectType!==!1,m.respectFunctionNames=_.respectFunctionNames!==!1,m.respectFunctionProperties=_.respectFunctionProperties!==!1,m.unorderedArrays=_.unorderedArrays===!0,m.unorderedSets=_.unorderedSets!==!1,m.unorderedObjects=_.unorderedObjects!==!1,m.replacer=_.replacer||void 0,m.excludeKeys=_.excludeKeys||void 0,g===void 0)throw new Error("Object argument required.");for(var c=0;c<p.length;++c)p[c].toLowerCase()===m.algorithm.toLowerCase()&&(m.algorithm=p[c]);if(p.indexOf(m.algorithm)===-1)throw new Error('Algorithm "'+m.algorithm+'"  not supported. supported values: '+p.join(", "));if(E.indexOf(m.encoding)===-1&&m.algorithm!=="passthrough")throw new Error('Encoding "'+m.encoding+'"  not supported. supported values: '+E.join(", "));return m}function T(g){if(typeof g=="function")return/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(g))!=null}function C(g,_,m){m=m||[];function c(u){return _.update?_.update(u,"utf8"):_.write(u,"utf8")}return{dispatch:function(u){return this["_"+((u=g.replacer?g.replacer(u):u)===null?"null":typeof u)](u)},_object:function(u){var M,I=Object.prototype.toString.call(u),D=/\[object (.*)\]/i.exec(I);if(D=(D=D?D[1]:"unknown:["+I+"]").toLowerCase(),0<=(I=m.indexOf(u)))return this.dispatch("[CIRCULAR:"+I+"]");if(m.push(u),i!==void 0&&i.isBuffer&&i.isBuffer(u))return c("buffer:"),c(u);if(D==="object"||D==="function"||D==="asyncfunction")return I=Object.keys(u),g.unorderedObjects&&(I=I.sort()),g.respectType===!1||T(u)||I.splice(0,0,"prototype","__proto__","constructor"),g.excludeKeys&&(I=I.filter(function(L){return!g.excludeKeys(L)})),c("object:"+I.length+":"),M=this,I.forEach(function(L){M.dispatch(L),c(":"),g.excludeValues||M.dispatch(u[L]),c(",")});if(!this["_"+D]){if(g.ignoreUnknown)return c("["+D+"]");throw new Error('Unknown object type "'+D+'"')}this["_"+D](u)},_array:function(u,L){L=L!==void 0?L:g.unorderedArrays!==!1;var I=this;if(c("array:"+u.length+":"),!L||u.length<=1)return u.forEach(function(B){return I.dispatch(B)});var D=[],L=u.map(function(B){var N=new P,re=m.slice();return C(g,N,re).dispatch(B),D=D.concat(re.slice(m.length)),N.read().toString()});return m=m.concat(D),L.sort(),this._array(L,!1)},_date:function(u){return c("date:"+u.toJSON())},_symbol:function(u){return c("symbol:"+u.toString())},_error:function(u){return c("error:"+u.toString())},_boolean:function(u){return c("bool:"+u.toString())},_string:function(u){c("string:"+u.length+":"),c(u.toString())},_function:function(u){c("fn:"),T(u)?this.dispatch("[native]"):this.dispatch(u.toString()),g.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(u.name)),g.respectFunctionProperties&&this._object(u)},_number:function(u){return c("number:"+u.toString())},_xml:function(u){return c("xml:"+u.toString())},_null:function(){return c("Null")},_undefined:function(){return c("Undefined")},_regexp:function(u){return c("regex:"+u.toString())},_uint8array:function(u){return c("uint8array:"),this.dispatch(Array.prototype.slice.call(u))},_uint8clampedarray:function(u){return c("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(u))},_int8array:function(u){return c("int8array:"),this.dispatch(Array.prototype.slice.call(u))},_uint16array:function(u){return c("uint16array:"),this.dispatch(Array.prototype.slice.call(u))},_int16array:function(u){return c("int16array:"),this.dispatch(Array.prototype.slice.call(u))},_uint32array:function(u){return c("uint32array:"),this.dispatch(Array.prototype.slice.call(u))},_int32array:function(u){return c("int32array:"),this.dispatch(Array.prototype.slice.call(u))},_float32array:function(u){return c("float32array:"),this.dispatch(Array.prototype.slice.call(u))},_float64array:function(u){return c("float64array:"),this.dispatch(Array.prototype.slice.call(u))},_arraybuffer:function(u){return c("arraybuffer:"),this.dispatch(new Uint8Array(u))},_url:function(u){return c("url:"+u.toString())},_map:function(u){return c("map:"),u=Array.from(u),this._array(u,g.unorderedSets!==!1)},_set:function(u){return c("set:"),u=Array.from(u),this._array(u,g.unorderedSets!==!1)},_file:function(u){return c("file:"),this.dispatch([u.name,u.size,u.type,u.lastModfied])},_blob:function(){if(g.ignoreUnknown)return c("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return c("domwindow")},_bigint:function(u){return c("bigint:"+u.toString())},_process:function(){return c("process")},_timer:function(){return c("timer")},_pipe:function(){return c("pipe")},_tcp:function(){return c("tcp")},_udp:function(){return c("udp")},_tty:function(){return c("tty")},_statwatcher:function(){return c("statwatcher")},_securecontext:function(){return c("securecontext")},_connection:function(){return c("connection")},_zlib:function(){return c("zlib")},_context:function(){return c("context")},_nodescript:function(){return c("nodescript")},_httpparser:function(){return c("httpparser")},_dataview:function(){return c("dataview")},_signal:function(){return c("signal")},_fsevent:function(){return c("fsevent")},_tlswrap:function(){return c("tlswrap")}}}function P(){return{buf:"",write:function(g){this.buf+=g},end:function(g){this.buf+=g},read:function(){return this.buf}}}o.writeToStream=function(g,_,m){return m===void 0&&(m=_,_={}),C(_=A(g,_),m).dispatch(g)}}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(r,n,o){(function(a,s,i,d,l,v,y,f,w){(function(b){var x=typeof Uint8Array<"u"?Uint8Array:Array,p=43,E=47,A=48,T=97,C=65,P=45,g=95;function _(m){return m=m.charCodeAt(0),m===p||m===P?62:m===E||m===g?63:m<A?-1:m<A+10?m-A+26+26:m<C+26?m-C:m<T+26?m-T+26:void 0}b.toByteArray=function(m){var c,u;if(0<m.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var M=m.length,M=m.charAt(M-2)==="="?2:m.charAt(M-1)==="="?1:0,I=new x(3*m.length/4-M),D=0<M?m.length-4:m.length,L=0;function B(N){I[L++]=N}for(c=0;c<D;c+=4,0)B((16711680&(u=_(m.charAt(c))<<18|_(m.charAt(c+1))<<12|_(m.charAt(c+2))<<6|_(m.charAt(c+3))))>>16),B((65280&u)>>8),B(255&u);return M==2?B(255&(u=_(m.charAt(c))<<2|_(m.charAt(c+1))>>4)):M==1&&(B((u=_(m.charAt(c))<<10|_(m.charAt(c+1))<<4|_(m.charAt(c+2))>>2)>>8&255),B(255&u)),I},b.fromByteArray=function(m){var c,u,M,I,D=m.length%3,L="";function B(N){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(N)}for(c=0,M=m.length-D;c<M;c+=3)u=(m[c]<<16)+(m[c+1]<<8)+m[c+2],L+=B((I=u)>>18&63)+B(I>>12&63)+B(I>>6&63)+B(63&I);switch(D){case 1:L=(L+=B((u=m[m.length-1])>>2))+B(u<<4&63)+"==";break;case 2:L=(L=(L+=B((u=(m[m.length-2]<<8)+m[m.length-1])>>10))+B(u>>4&63))+B(u<<2&63)+"="}return L}})(o===void 0?this.base64js={}:o)}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(r,n,o){(function(a,s,p,d,l,v,y,f,w){var b=r("base64-js"),x=r("ieee754");function p(h,k,j){if(!(this instanceof p))return new p(h,k,j);var z,R,U,J,de=typeof h;if(k==="base64"&&de=="string")for(h=(J=h).trim?J.trim():J.replace(/^\s+|\s+$/g,"");h.length%4!=0;)h+="=";if(de=="number")z=ae(h);else if(de=="string")z=p.byteLength(h,k);else{if(de!="object")throw new Error("First argument needs to be a number, array or string.");z=ae(h.length)}if(p._useTypedArrays?R=p._augment(new Uint8Array(z)):((R=this).length=z,R._isBuffer=!0),p._useTypedArrays&&typeof h.byteLength=="number")R._set(h);else if(Q(J=h)||p.isBuffer(J)||J&&typeof J=="object"&&typeof J.length=="number")for(U=0;U<z;U++)p.isBuffer(h)?R[U]=h.readUInt8(U):R[U]=h[U];else if(de=="string")R.write(h,0,k);else if(de=="number"&&!p._useTypedArrays&&!j)for(U=0;U<z;U++)R[U]=0;return R}function E(h,k,j,z){return p._charsWritten=_e((function(R){for(var U=[],J=0;J<R.length;J++)U.push(255&R.charCodeAt(J));return U})(k),h,j,z)}function A(h,k,j,z){return p._charsWritten=_e((function(R){for(var U,J,de=[],he=0;he<R.length;he++)J=R.charCodeAt(he),U=J>>8,J=J%256,de.push(J),de.push(U);return de})(k),h,j,z)}function T(h,k,j){var z="";j=Math.min(h.length,j);for(var R=k;R<j;R++)z+=String.fromCharCode(h[R]);return z}function C(h,k,j,U){U||($(typeof j=="boolean","missing or invalid endian"),$(k!=null,"missing offset"),$(k+1<h.length,"Trying to read beyond buffer length"));var R,U=h.length;if(!(U<=k))return j?(R=h[k],k+1<U&&(R|=h[k+1]<<8)):(R=h[k]<<8,k+1<U&&(R|=h[k+1])),R}function P(h,k,j,U){U||($(typeof j=="boolean","missing or invalid endian"),$(k!=null,"missing offset"),$(k+3<h.length,"Trying to read beyond buffer length"));var R,U=h.length;if(!(U<=k))return j?(k+2<U&&(R=h[k+2]<<16),k+1<U&&(R|=h[k+1]<<8),R|=h[k],k+3<U&&(R+=h[k+3]<<24>>>0)):(k+1<U&&(R=h[k+1]<<16),k+2<U&&(R|=h[k+2]<<8),k+3<U&&(R|=h[k+3]),R+=h[k]<<24>>>0),R}function g(h,k,j,z){if(z||($(typeof j=="boolean","missing or invalid endian"),$(k!=null,"missing offset"),$(k+1<h.length,"Trying to read beyond buffer length")),!(h.length<=k))return z=C(h,k,j,!0),32768&z?-1*(65535-z+1):z}function _(h,k,j,z){if(z||($(typeof j=="boolean","missing or invalid endian"),$(k!=null,"missing offset"),$(k+3<h.length,"Trying to read beyond buffer length")),!(h.length<=k))return z=P(h,k,j,!0),2147483648&z?-1*(4294967295-z+1):z}function m(h,k,j,z){return z||($(typeof j=="boolean","missing or invalid endian"),$(k+3<h.length,"Trying to read beyond buffer length")),x.read(h,k,j,23,4)}function c(h,k,j,z){return z||($(typeof j=="boolean","missing or invalid endian"),$(k+7<h.length,"Trying to read beyond buffer length")),x.read(h,k,j,52,8)}function u(h,k,j,z,R){if(R||($(k!=null,"missing value"),$(typeof z=="boolean","missing or invalid endian"),$(j!=null,"missing offset"),$(j+1<h.length,"trying to write beyond buffer length"),xe(k,65535)),R=h.length,!(R<=j))for(var U=0,J=Math.min(R-j,2);U<J;U++)h[j+U]=(k&255<<8*(z?U:1-U))>>>8*(z?U:1-U)}function M(h,k,j,z,R){if(R||($(k!=null,"missing value"),$(typeof z=="boolean","missing or invalid endian"),$(j!=null,"missing offset"),$(j+3<h.length,"trying to write beyond buffer length"),xe(k,4294967295)),R=h.length,!(R<=j))for(var U=0,J=Math.min(R-j,4);U<J;U++)h[j+U]=k>>>8*(z?U:3-U)&255}function I(h,k,j,z,R){R||($(k!=null,"missing value"),$(typeof z=="boolean","missing or invalid endian"),$(j!=null,"missing offset"),$(j+1<h.length,"Trying to write beyond buffer length"),Ee(k,32767,-32768)),h.length<=j||u(h,0<=k?k:65535+k+1,j,z,R)}function D(h,k,j,z,R){R||($(k!=null,"missing value"),$(typeof z=="boolean","missing or invalid endian"),$(j!=null,"missing offset"),$(j+3<h.length,"Trying to write beyond buffer length"),Ee(k,2147483647,-2147483648)),h.length<=j||M(h,0<=k?k:4294967295+k+1,j,z,R)}function L(h,k,j,z,R){R||($(k!=null,"missing value"),$(typeof z=="boolean","missing or invalid endian"),$(j!=null,"missing offset"),$(j+3<h.length,"Trying to write beyond buffer length"),Ie(k,34028234663852886e22,-34028234663852886e22)),h.length<=j||x.write(h,k,j,z,23,4)}function B(h,k,j,z,R){R||($(k!=null,"missing value"),$(typeof z=="boolean","missing or invalid endian"),$(j!=null,"missing offset"),$(j+7<h.length,"Trying to write beyond buffer length"),Ie(k,17976931348623157e292,-17976931348623157e292)),h.length<=j||x.write(h,k,j,z,52,8)}o.Buffer=p,o.SlowBuffer=p,o.INSPECT_MAX_BYTES=50,p.poolSize=8192,p._useTypedArrays=(function(){try{var h=new ArrayBuffer(0),k=new Uint8Array(h);return k.foo=function(){return 42},k.foo()===42&&typeof k.subarray=="function"}catch{return!1}})(),p.isEncoding=function(h){switch(String(h).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.isBuffer=function(h){return!(h==null||!h._isBuffer)},p.byteLength=function(h,k){var j;switch(h+="",k||"utf8"){case"hex":j=h.length/2;break;case"utf8":case"utf-8":j=V(h).length;break;case"ascii":case"binary":case"raw":j=h.length;break;case"base64":j=ue(h).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":j=2*h.length;break;default:throw new Error("Unknown encoding")}return j},p.concat=function(h,k){if($(Q(h),`Usage: Buffer.concat(list, [totalLength])
list should be an Array.`),h.length===0)return new p(0);if(h.length===1)return h[0];if(typeof k!="number")for(R=k=0;R<h.length;R++)k+=h[R].length;for(var j=new p(k),z=0,R=0;R<h.length;R++){var U=h[R];U.copy(j,z),z+=U.length}return j},p.prototype.write=function(h,k,j,z){isFinite(k)?isFinite(j)||(z=j,j=void 0):(he=z,z=k,k=j,j=he),k=Number(k)||0;var R,U,J,de,he=this.length-k;switch((!j||he<(j=Number(j)))&&(j=he),z=String(z||"utf8").toLowerCase()){case"hex":R=(function(oe,pe,Me,fe){Me=Number(Me)||0;var ye=oe.length-Me;(!fe||ye<(fe=Number(fe)))&&(fe=ye),$((ye=pe.length)%2==0,"Invalid hex string"),ye/2<fe&&(fe=ye/2);for(var Ne=0;Ne<fe;Ne++){var $e=parseInt(pe.substr(2*Ne,2),16);$(!isNaN($e),"Invalid hex string"),oe[Me+Ne]=$e}return p._charsWritten=2*Ne,Ne})(this,h,k,j);break;case"utf8":case"utf-8":U=this,J=k,de=j,R=p._charsWritten=_e(V(h),U,J,de);break;case"ascii":case"binary":R=E(this,h,k,j);break;case"base64":U=this,J=k,de=j,R=p._charsWritten=_e(ue(h),U,J,de);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":R=A(this,h,k,j);break;default:throw new Error("Unknown encoding")}return R},p.prototype.toString=function(h,k,j){var z,R,U,J,de=this;if(h=String(h||"utf8").toLowerCase(),k=Number(k)||0,(j=j!==void 0?Number(j):de.length)===k)return"";switch(h){case"hex":z=(function(he,oe,pe){var Me=he.length;(!oe||oe<0)&&(oe=0),(!pe||pe<0||Me<pe)&&(pe=Me);for(var fe="",ye=oe;ye<pe;ye++)fe+=ne(he[ye]);return fe})(de,k,j);break;case"utf8":case"utf-8":z=(function(he,oe,pe){var Me="",fe="";pe=Math.min(he.length,pe);for(var ye=oe;ye<pe;ye++)he[ye]<=127?(Me+=ve(fe)+String.fromCharCode(he[ye]),fe=""):fe+="%"+he[ye].toString(16);return Me+ve(fe)})(de,k,j);break;case"ascii":case"binary":z=T(de,k,j);break;case"base64":R=de,J=j,z=(U=k)===0&&J===R.length?b.fromByteArray(R):b.fromByteArray(R.slice(U,J));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":z=(function(he,oe,pe){for(var Me=he.slice(oe,pe),fe="",ye=0;ye<Me.length;ye+=2)fe+=String.fromCharCode(Me[ye]+256*Me[ye+1]);return fe})(de,k,j);break;default:throw new Error("Unknown encoding")}return z},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},p.prototype.copy=function(h,k,j,z){if(k=k||0,(z=z||z===0?z:this.length)!==(j=j||0)&&h.length!==0&&this.length!==0){$(j<=z,"sourceEnd < sourceStart"),$(0<=k&&k<h.length,"targetStart out of bounds"),$(0<=j&&j<this.length,"sourceStart out of bounds"),$(0<=z&&z<=this.length,"sourceEnd out of bounds"),z>this.length&&(z=this.length);var R=(z=h.length-k<z-j?h.length-k+j:z)-j;if(R<100||!p._useTypedArrays)for(var U=0;U<R;U++)h[U+k]=this[U+j];else h._set(this.subarray(j,j+R),k)}},p.prototype.slice=function(h,k){var j=this.length;if(h=re(h,j,0),k=re(k,j,j),p._useTypedArrays)return p._augment(this.subarray(h,k));for(var z=k-h,R=new p(z,void 0,!0),U=0;U<z;U++)R[U]=this[U+h];return R},p.prototype.get=function(h){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(h)},p.prototype.set=function(h,k){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(h,k)},p.prototype.readUInt8=function(h,k){if(k||($(h!=null,"missing offset"),$(h<this.length,"Trying to read beyond buffer length")),!(h>=this.length))return this[h]},p.prototype.readUInt16LE=function(h,k){return C(this,h,!0,k)},p.prototype.readUInt16BE=function(h,k){return C(this,h,!1,k)},p.prototype.readUInt32LE=function(h,k){return P(this,h,!0,k)},p.prototype.readUInt32BE=function(h,k){return P(this,h,!1,k)},p.prototype.readInt8=function(h,k){if(k||($(h!=null,"missing offset"),$(h<this.length,"Trying to read beyond buffer length")),!(h>=this.length))return 128&this[h]?-1*(255-this[h]+1):this[h]},p.prototype.readInt16LE=function(h,k){return g(this,h,!0,k)},p.prototype.readInt16BE=function(h,k){return g(this,h,!1,k)},p.prototype.readInt32LE=function(h,k){return _(this,h,!0,k)},p.prototype.readInt32BE=function(h,k){return _(this,h,!1,k)},p.prototype.readFloatLE=function(h,k){return m(this,h,!0,k)},p.prototype.readFloatBE=function(h,k){return m(this,h,!1,k)},p.prototype.readDoubleLE=function(h,k){return c(this,h,!0,k)},p.prototype.readDoubleBE=function(h,k){return c(this,h,!1,k)},p.prototype.writeUInt8=function(h,k,j){j||($(h!=null,"missing value"),$(k!=null,"missing offset"),$(k<this.length,"trying to write beyond buffer length"),xe(h,255)),k>=this.length||(this[k]=h)},p.prototype.writeUInt16LE=function(h,k,j){u(this,h,k,!0,j)},p.prototype.writeUInt16BE=function(h,k,j){u(this,h,k,!1,j)},p.prototype.writeUInt32LE=function(h,k,j){M(this,h,k,!0,j)},p.prototype.writeUInt32BE=function(h,k,j){M(this,h,k,!1,j)},p.prototype.writeInt8=function(h,k,j){j||($(h!=null,"missing value"),$(k!=null,"missing offset"),$(k<this.length,"Trying to write beyond buffer length"),Ee(h,127,-128)),k>=this.length||(0<=h?this.writeUInt8(h,k,j):this.writeUInt8(255+h+1,k,j))},p.prototype.writeInt16LE=function(h,k,j){I(this,h,k,!0,j)},p.prototype.writeInt16BE=function(h,k,j){I(this,h,k,!1,j)},p.prototype.writeInt32LE=function(h,k,j){D(this,h,k,!0,j)},p.prototype.writeInt32BE=function(h,k,j){D(this,h,k,!1,j)},p.prototype.writeFloatLE=function(h,k,j){L(this,h,k,!0,j)},p.prototype.writeFloatBE=function(h,k,j){L(this,h,k,!1,j)},p.prototype.writeDoubleLE=function(h,k,j){B(this,h,k,!0,j)},p.prototype.writeDoubleBE=function(h,k,j){B(this,h,k,!1,j)},p.prototype.fill=function(h,k,j){if(k=k||0,j=j||this.length,$(typeof(h=typeof(h=h||0)=="string"?h.charCodeAt(0):h)=="number"&&!isNaN(h),"value is not a number"),$(k<=j,"end < start"),j!==k&&this.length!==0){$(0<=k&&k<this.length,"start out of bounds"),$(0<=j&&j<=this.length,"end out of bounds");for(var z=k;z<j;z++)this[z]=h}},p.prototype.inspect=function(){for(var h=[],k=this.length,j=0;j<k;j++)if(h[j]=ne(this[j]),j===o.INSPECT_MAX_BYTES){h[j+1]="...";break}return"<Buffer "+h.join(" ")+">"},p.prototype.toArrayBuffer=function(){if(typeof Uint8Array>"u")throw new Error("Buffer.toArrayBuffer not supported in this browser");if(p._useTypedArrays)return new p(this).buffer;for(var h=new Uint8Array(this.length),k=0,j=h.length;k<j;k+=1)h[k]=this[k];return h.buffer};var N=p.prototype;function re(h,k,j){return typeof h!="number"?j:k<=(h=~~h)?k:0<=h||0<=(h+=k)?h:0}function ae(h){return(h=~~Math.ceil(+h))<0?0:h}function Q(h){return(Array.isArray||function(k){return Object.prototype.toString.call(k)==="[object Array]"})(h)}function ne(h){return h<16?"0"+h.toString(16):h.toString(16)}function V(h){for(var k=[],j=0;j<h.length;j++){var z=h.charCodeAt(j);if(z<=127)k.push(h.charCodeAt(j));else for(var R=j,U=(55296<=z&&z<=57343&&j++,encodeURIComponent(h.slice(R,j+1)).substr(1).split("%")),J=0;J<U.length;J++)k.push(parseInt(U[J],16))}return k}function ue(h){return b.toByteArray(h)}function _e(h,k,j,z){for(var R=0;R<z&&!(R+j>=k.length||R>=h.length);R++)k[R+j]=h[R];return R}function ve(h){try{return decodeURIComponent(h)}catch{return"ï¿½"}}function xe(h,k){$(typeof h=="number","cannot write a non-number as a number"),$(0<=h,"specified a negative value for writing an unsigned value"),$(h<=k,"value is larger than maximum value for type"),$(Math.floor(h)===h,"value has a fractional component")}function Ee(h,k,j){$(typeof h=="number","cannot write a non-number as a number"),$(h<=k,"value larger than maximum allowed value"),$(j<=h,"value smaller than minimum allowed value"),$(Math.floor(h)===h,"value has a fractional component")}function Ie(h,k,j){$(typeof h=="number","cannot write a non-number as a number"),$(h<=k,"value larger than maximum allowed value"),$(j<=h,"value smaller than minimum allowed value")}function $(h,k){if(!h)throw new Error(k||"Failed assertion")}p._augment=function(h){return h._isBuffer=!0,h._get=h.get,h._set=h.set,h.get=N.get,h.set=N.set,h.write=N.write,h.toString=N.toString,h.toLocaleString=N.toString,h.toJSON=N.toJSON,h.copy=N.copy,h.slice=N.slice,h.readUInt8=N.readUInt8,h.readUInt16LE=N.readUInt16LE,h.readUInt16BE=N.readUInt16BE,h.readUInt32LE=N.readUInt32LE,h.readUInt32BE=N.readUInt32BE,h.readInt8=N.readInt8,h.readInt16LE=N.readInt16LE,h.readInt16BE=N.readInt16BE,h.readInt32LE=N.readInt32LE,h.readInt32BE=N.readInt32BE,h.readFloatLE=N.readFloatLE,h.readFloatBE=N.readFloatBE,h.readDoubleLE=N.readDoubleLE,h.readDoubleBE=N.readDoubleBE,h.writeUInt8=N.writeUInt8,h.writeUInt16LE=N.writeUInt16LE,h.writeUInt16BE=N.writeUInt16BE,h.writeUInt32LE=N.writeUInt32LE,h.writeUInt32BE=N.writeUInt32BE,h.writeInt8=N.writeInt8,h.writeInt16LE=N.writeInt16LE,h.writeInt16BE=N.writeInt16BE,h.writeInt32LE=N.writeInt32LE,h.writeInt32BE=N.writeInt32BE,h.writeFloatLE=N.writeFloatLE,h.writeFloatBE=N.writeFloatBE,h.writeDoubleLE=N.writeDoubleLE,h.writeDoubleBE=N.writeDoubleBE,h.fill=N.fill,h.inspect=N.inspect,h.toArrayBuffer=N.toArrayBuffer,h}}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(r,n,o){(function(a,s,b,d,l,v,y,f,w){var b=r("buffer").Buffer,x=4,p=new b(x);p.fill(0),n.exports={hash:function(E,A,T,C){for(var P=A((function(u,M){u.length%x!=0&&(I=u.length+(x-u.length%x),u=b.concat([u,p],I));for(var I,D=[],L=M?u.readInt32BE:u.readInt32LE,B=0;B<u.length;B+=x)D.push(L.call(u,B));return D})(E=b.isBuffer(E)?E:new b(E),C),8*E.length),A=C,g=new b(T),_=A?g.writeInt32BE:g.writeInt32LE,m=0;m<P.length;m++)_.call(g,P[m],4*m,!0);return g}}}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(r,n,o){(function(a,s,b,d,l,v,y,f,w){var b=r("buffer").Buffer,x=r("./sha"),p=r("./sha256"),E=r("./rng"),A={sha1:x,sha256:p,md5:r("./md5")},T=64,C=new b(T);function P(u,M){var I=A[u=u||"sha1"],D=[];return I||g("algorithm:",u,"is not yet supported"),{update:function(L){return b.isBuffer(L)||(L=new b(L)),D.push(L),L.length,this},digest:function(L){var B=b.concat(D),B=M?(function(N,re,ae){b.isBuffer(re)||(re=new b(re)),b.isBuffer(ae)||(ae=new b(ae)),re.length>T?re=N(re):re.length<T&&(re=b.concat([re,C],T));for(var Q=new b(T),ne=new b(T),V=0;V<T;V++)Q[V]=54^re[V],ne[V]=92^re[V];return ae=N(b.concat([Q,ae])),N(b.concat([ne,ae]))})(I,M,B):I(B);return D=null,L?B.toString(L):B}}}function g(){var u=[].slice.call(arguments).join(" ");throw new Error([u,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join(`
`))}C.fill(0),o.createHash=function(u){return P(u)},o.createHmac=P,o.randomBytes=function(u,M){if(!M||!M.call)return new b(E(u));try{M.call(this,void 0,new b(E(u)))}catch(I){M(I)}};var _,m=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],c=function(u){o[u]=function(){g("sorry,",u,"is not implemented yet")}};for(_ in m)c(m[_])}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(r,n,o){(function(a,s,i,d,l,v,y,f,w){var b=r("./helpers");function x(g,_){g[_>>5]|=128<<_%32,g[14+(_+64>>>9<<4)]=_;for(var m=1732584193,c=-271733879,u=-1732584194,M=271733878,I=0;I<g.length;I+=16){var D=m,L=c,B=u,N=M,m=E(m,c,u,M,g[I+0],7,-680876936),M=E(M,m,c,u,g[I+1],12,-389564586),u=E(u,M,m,c,g[I+2],17,606105819),c=E(c,u,M,m,g[I+3],22,-1044525330);m=E(m,c,u,M,g[I+4],7,-176418897),M=E(M,m,c,u,g[I+5],12,1200080426),u=E(u,M,m,c,g[I+6],17,-1473231341),c=E(c,u,M,m,g[I+7],22,-45705983),m=E(m,c,u,M,g[I+8],7,1770035416),M=E(M,m,c,u,g[I+9],12,-1958414417),u=E(u,M,m,c,g[I+10],17,-42063),c=E(c,u,M,m,g[I+11],22,-1990404162),m=E(m,c,u,M,g[I+12],7,1804603682),M=E(M,m,c,u,g[I+13],12,-40341101),u=E(u,M,m,c,g[I+14],17,-1502002290),m=A(m,c=E(c,u,M,m,g[I+15],22,1236535329),u,M,g[I+1],5,-165796510),M=A(M,m,c,u,g[I+6],9,-1069501632),u=A(u,M,m,c,g[I+11],14,643717713),c=A(c,u,M,m,g[I+0],20,-373897302),m=A(m,c,u,M,g[I+5],5,-701558691),M=A(M,m,c,u,g[I+10],9,38016083),u=A(u,M,m,c,g[I+15],14,-660478335),c=A(c,u,M,m,g[I+4],20,-405537848),m=A(m,c,u,M,g[I+9],5,568446438),M=A(M,m,c,u,g[I+14],9,-1019803690),u=A(u,M,m,c,g[I+3],14,-187363961),c=A(c,u,M,m,g[I+8],20,1163531501),m=A(m,c,u,M,g[I+13],5,-1444681467),M=A(M,m,c,u,g[I+2],9,-51403784),u=A(u,M,m,c,g[I+7],14,1735328473),m=T(m,c=A(c,u,M,m,g[I+12],20,-1926607734),u,M,g[I+5],4,-378558),M=T(M,m,c,u,g[I+8],11,-2022574463),u=T(u,M,m,c,g[I+11],16,1839030562),c=T(c,u,M,m,g[I+14],23,-35309556),m=T(m,c,u,M,g[I+1],4,-1530992060),M=T(M,m,c,u,g[I+4],11,1272893353),u=T(u,M,m,c,g[I+7],16,-155497632),c=T(c,u,M,m,g[I+10],23,-1094730640),m=T(m,c,u,M,g[I+13],4,681279174),M=T(M,m,c,u,g[I+0],11,-358537222),u=T(u,M,m,c,g[I+3],16,-722521979),c=T(c,u,M,m,g[I+6],23,76029189),m=T(m,c,u,M,g[I+9],4,-640364487),M=T(M,m,c,u,g[I+12],11,-421815835),u=T(u,M,m,c,g[I+15],16,530742520),m=C(m,c=T(c,u,M,m,g[I+2],23,-995338651),u,M,g[I+0],6,-198630844),M=C(M,m,c,u,g[I+7],10,1126891415),u=C(u,M,m,c,g[I+14],15,-1416354905),c=C(c,u,M,m,g[I+5],21,-57434055),m=C(m,c,u,M,g[I+12],6,1700485571),M=C(M,m,c,u,g[I+3],10,-1894986606),u=C(u,M,m,c,g[I+10],15,-1051523),c=C(c,u,M,m,g[I+1],21,-2054922799),m=C(m,c,u,M,g[I+8],6,1873313359),M=C(M,m,c,u,g[I+15],10,-30611744),u=C(u,M,m,c,g[I+6],15,-1560198380),c=C(c,u,M,m,g[I+13],21,1309151649),m=C(m,c,u,M,g[I+4],6,-145523070),M=C(M,m,c,u,g[I+11],10,-1120210379),u=C(u,M,m,c,g[I+2],15,718787259),c=C(c,u,M,m,g[I+9],21,-343485551),m=P(m,D),c=P(c,L),u=P(u,B),M=P(M,N)}return Array(m,c,u,M)}function p(g,_,m,c,u,M){return P((_=P(P(_,g),P(c,M)))<<u|_>>>32-u,m)}function E(g,_,m,c,u,M,I){return p(_&m|~_&c,g,_,u,M,I)}function A(g,_,m,c,u,M,I){return p(_&c|m&~c,g,_,u,M,I)}function T(g,_,m,c,u,M,I){return p(_^m^c,g,_,u,M,I)}function C(g,_,m,c,u,M,I){return p(m^(_|~c),g,_,u,M,I)}function P(g,_){var m=(65535&g)+(65535&_);return(g>>16)+(_>>16)+(m>>16)<<16|65535&m}n.exports=function(g){return b.hash(g,x,16)}}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(r,n,o){(function(a,s,i,d,l,v,y,f,w){n.exports=function(b){for(var x,p=new Array(b),E=0;E<b;E++)!(3&E)&&(x=4294967296*Math.random()),p[E]=x>>>((3&E)<<3)&255;return p}}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(r,n,o){(function(a,s,i,d,l,v,y,f,w){var b=r("./helpers");function x(A,T){A[T>>5]|=128<<24-T%32,A[15+(T+64>>9<<4)]=T;for(var C,P,g,_=Array(80),m=1732584193,c=-271733879,u=-1732584194,M=271733878,I=-1009589776,D=0;D<A.length;D+=16){for(var L=m,B=c,N=u,re=M,ae=I,Q=0;Q<80;Q++){_[Q]=Q<16?A[D+Q]:E(_[Q-3]^_[Q-8]^_[Q-14]^_[Q-16],1);var ne=p(p(E(m,5),(ne=c,P=u,g=M,(C=Q)<20?ne&P|~ne&g:!(C<40)&&C<60?ne&P|ne&g|P&g:ne^P^g)),p(p(I,_[Q]),(C=Q)<20?1518500249:C<40?1859775393:C<60?-1894007588:-899497514)),I=M,M=u,u=E(c,30),c=m,m=ne}m=p(m,L),c=p(c,B),u=p(u,N),M=p(M,re),I=p(I,ae)}return Array(m,c,u,M,I)}function p(A,T){var C=(65535&A)+(65535&T);return(A>>16)+(T>>16)+(C>>16)<<16|65535&C}function E(A,T){return A<<T|A>>>32-T}n.exports=function(A){return b.hash(A,x,20,!0)}}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(r,n,o){(function(a,s,i,d,l,v,y,f,w){function b(T,C){var P=(65535&T)+(65535&C);return(T>>16)+(C>>16)+(P>>16)<<16|65535&P}function x(T,C){var P,g=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),_=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),m=new Array(64);T[C>>5]|=128<<24-C%32,T[15+(C+64>>9<<4)]=C;for(var c,u,M=0;M<T.length;M+=16){for(var I=_[0],D=_[1],L=_[2],B=_[3],N=_[4],re=_[5],ae=_[6],Q=_[7],ne=0;ne<64;ne++)m[ne]=ne<16?T[ne+M]:b(b(b((u=m[ne-2],E(u,17)^E(u,19)^A(u,10)),m[ne-7]),(u=m[ne-15],E(u,7)^E(u,18)^A(u,3))),m[ne-16]),P=b(b(b(b(Q,E(u=N,6)^E(u,11)^E(u,25)),N&re^~N&ae),g[ne]),m[ne]),c=b(E(c=I,2)^E(c,13)^E(c,22),I&D^I&L^D&L),Q=ae,ae=re,re=N,N=b(B,P),B=L,L=D,D=I,I=b(P,c);_[0]=b(I,_[0]),_[1]=b(D,_[1]),_[2]=b(L,_[2]),_[3]=b(B,_[3]),_[4]=b(N,_[4]),_[5]=b(re,_[5]),_[6]=b(ae,_[6]),_[7]=b(Q,_[7])}return _}var p=r("./helpers"),E=function(T,C){return T>>>C|T<<32-C},A=function(T,C){return T>>>C};n.exports=function(T){return p.hash(T,x,32,!0)}}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(r,n,o){(function(a,s,i,d,l,v,y,f,w){o.read=function(b,x,p,E,M){var T,C,P=8*M-E-1,g=(1<<P)-1,_=g>>1,m=-7,c=p?M-1:0,u=p?-1:1,M=b[x+c];for(c+=u,T=M&(1<<-m)-1,M>>=-m,m+=P;0<m;T=256*T+b[x+c],c+=u,m-=8);for(C=T&(1<<-m)-1,T>>=-m,m+=E;0<m;C=256*C+b[x+c],c+=u,m-=8);if(T===0)T=1-_;else{if(T===g)return C?NaN:1/0*(M?-1:1);C+=Math.pow(2,E),T-=_}return(M?-1:1)*C*Math.pow(2,T-E)},o.write=function(b,x,p,E,A,I){var C,P,g=8*I-A-1,_=(1<<g)-1,m=_>>1,c=A===23?Math.pow(2,-24)-Math.pow(2,-77):0,u=E?0:I-1,M=E?1:-1,I=x<0||x===0&&1/x<0?1:0;for(x=Math.abs(x),isNaN(x)||x===1/0?(P=isNaN(x)?1:0,C=_):(C=Math.floor(Math.log(x)/Math.LN2),x*(E=Math.pow(2,-C))<1&&(C--,E*=2),2<=(x+=1<=C+m?c/E:c*Math.pow(2,1-m))*E&&(C++,E/=2),_<=C+m?(P=0,C=_):1<=C+m?(P=(x*E-1)*Math.pow(2,A),C+=m):(P=x*Math.pow(2,m-1)*Math.pow(2,A),C=0));8<=A;b[p+u]=255&P,u+=M,P/=256,A-=8);for(C=C<<A|P,g+=A;0<g;b[p+u]=255&C,u+=M,C/=256,g-=8);b[p+u-M]|=128*I}}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(r,n,o){(function(a,s,i,d,l,v,y,f,w){var b,x,p;function E(){}(a=n.exports={}).nextTick=(x=typeof window<"u"&&window.setImmediate,p=typeof window<"u"&&window.postMessage&&window.addEventListener,x?function(A){return window.setImmediate(A)}:p?(b=[],window.addEventListener("message",function(A){var T=A.source;T!==window&&T!==null||A.data!=="process-tick"||(A.stopPropagation(),0<b.length&&b.shift()())},!0),function(A){b.push(A),window.postMessage("process-tick","*")}):function(A){setTimeout(A,0)}),a.title="browser",a.browser=!0,a.env={},a.argv=[],a.on=E,a.addListener=E,a.once=E,a.off=E,a.removeListener=E,a.removeAllListeners=E,a.emit=E,a.binding=function(A){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(A){throw new Error("process.chdir is not supported")}}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)})})(Vr)),Vr.exports}wu();var Hr,Yr;function Qo(){return Yr||(Yr=1,Hr=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]),Hr}var Gr,Wr;function xu(){return Wr||(Wr=1,Gr=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]),Gr}var qr,Xr;function ea(){return Xr||(Xr=1,qr=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]),qr}var Rn,Kr;function _u(){if(Kr)return Rn;Kr=1;var t=Qo();return Rn=t.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"]),Rn}var Dn,Zr;function Mu(){if(Zr)return Dn;Zr=1;var t=ea();return t=t.slice().filter(function(e){return!/^(gl\_|texture)/.test(e)}),Dn=t.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"]),Dn}var Nn,Jr;function ku(){if(Jr)return Nn;Jr=1,Nn=C;var t=Qo(),e=xu(),r=ea(),n=_u(),o=Mu(),a=999,s=9999,i=0,d=1,l=2,v=3,y=4,f=5,w=6,b=7,x=8,p=9,E=10,A=11,T=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function C(P){var g=0,_=0,m=a,c,u,M=[],I=[],D=1,L=0,B=0,N=!1,re=!1,ae="",Q;P=P||{};var ne=r,V=t;P.version==="300 es"&&(ne=o,V=n);for(var ue={},_e={},g=0;g<ne.length;g++)ue[ne[g]]=!0;for(var g=0;g<V.length;g++)_e[V[g]]=!0;return function(oe){return I=[],oe!==null?xe(oe):Ee()};function ve(oe){oe.length&&I.push({type:T[m],data:oe,position:B,line:D,column:L})}function xe(oe){g=0,oe.toString&&(oe=oe.toString()),ae+=oe.replace(/\r\n/g,`
`),Q=ae.length;for(var pe;c=ae[g],g<Q;){switch(pe=g,m){case i:g=j();break;case d:g=k();break;case l:g=h();break;case v:g=z();break;case y:g=J();break;case A:g=U();break;case f:g=de();break;case s:g=he();break;case p:g=$();break;case a:g=Ie();break}if(pe!==g)switch(ae[pe]){case`
`:L=0,++D;break;default:++L;break}}return _+=g,ae=ae.slice(g),I}function Ee(oe){return M.length&&ve(M.join("")),m=E,ve("(eof)"),I}function Ie(){return M=M.length?[]:M,u==="/"&&c==="*"?(B=_+g-1,m=i,u=c,g+1):u==="/"&&c==="/"?(B=_+g-1,m=d,u=c,g+1):c==="#"?(m=l,B=_+g,g):/\s/.test(c)?(m=p,B=_+g,g):(N=/\d/.test(c),re=/[^\w_]/.test(c),B=_+g,m=N?y:re?v:s,g)}function $(){return/[^\s]/g.test(c)?(ve(M.join("")),m=a,g):(M.push(c),u=c,g+1)}function h(){return(c==="\r"||c===`
`)&&u!=="\\"?(ve(M.join("")),m=a,g):(M.push(c),u=c,g+1)}function k(){return h()}function j(){return c==="/"&&u==="*"?(M.push(c),ve(M.join("")),m=a,g+1):(M.push(c),u=c,g+1)}function z(){if(u==="."&&/\d/.test(c))return m=f,g;if(u==="/"&&c==="*")return m=i,g;if(u==="/"&&c==="/")return m=d,g;if(c==="."&&M.length){for(;R(M););return m=f,g}if(c===";"||c===")"||c==="("){if(M.length)for(;R(M););return ve(c),m=a,g+1}var oe=M.length===2&&c!=="=";if(/[\w_\d\s]/.test(c)||oe){for(;R(M););return m=a,g}return M.push(c),u=c,g+1}function R(oe){var pe=0,Me,fe;do{if(Me=e.indexOf(oe.slice(0,oe.length+pe).join("")),fe=e[Me],Me===-1){if(pe--+oe.length>0)continue;fe=oe.slice(0,1).join("")}return ve(fe),B+=fe.length,M=M.slice(fe.length),M.length}while(!0)}function U(){return/[^a-fA-F0-9]/.test(c)?(ve(M.join("")),m=a,g):(M.push(c),u=c,g+1)}function J(){return c==="."||/[eE]/.test(c)?(M.push(c),m=f,u=c,g+1):c==="x"&&M.length===1&&M[0]==="0"?(m=A,M.push(c),u=c,g+1):/[^\d]/.test(c)?(ve(M.join("")),m=a,g):(M.push(c),u=c,g+1)}function de(){return c==="f"&&(M.push(c),u=c,g+=1),/[eE]/.test(c)||(c==="-"||c==="+")&&/[eE]/.test(u)?(M.push(c),u=c,g+1):/[^\d]/.test(c)?(ve(M.join("")),m=a,g):(M.push(c),u=c,g+1)}function he(){if(/[^\d\w_]/.test(c)){var oe=M.join("");return _e[oe]?m=x:ue[oe]?m=b:m=w,ve(M.join("")),m=a,g}return M.push(c),u=c,g+1}}return Nn}var Ln,Qr;function Tu(){if(Qr)return Ln;Qr=1;var t=ku();Ln=e;function e(r,n){var o=t(n),a=[];return a=a.concat(o(r)),a=a.concat(o(null)),a}return Ln}Tu();function Eu(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Au(t){var e=Eu(t,"string");return typeof e=="symbol"?e:String(e)}function ge(t,e,r){return e=Au(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var te={position:"csm_Position",positionRaw:"csm_PositionRaw",pointSize:"csm_PointSize",fragColor:"csm_FragColor",diffuseColor:"csm_DiffuseColor",normal:"csm_Normal",roughness:"csm_Roughness",metalness:"csm_Metalness",emissive:"csm_Emissive",ao:"csm_AO",bump:"csm_Bump",depthAlpha:"csm_DepthAlpha"},Ce,xt;Ce={},ge(Ce,"".concat(te.normal),{"#include <beginnormal_vertex>":`
    vec3 objectNormal = `.concat(te.normal,`;
    #ifdef USE_TANGENT
	    vec3 objectTangent = vec3( tangent.xyz );
    #endif
    `)}),ge(Ce,"".concat(te.position),{"#include <begin_vertex>":`
    vec3 transformed = `.concat(te.position,`;
  `)}),ge(Ce,"".concat(te.positionRaw),{"#include <begin_vertex>":`
    vec4 csm_internal_positionUnprojected = `.concat(te.positionRaw,`;
    mat4x4 csm_internal_unprojectMatrix = projectionMatrix * modelViewMatrix;
    #ifdef USE_INSTANCING
      csm_internal_unprojectMatrix = csm_internal_unprojectMatrix * instanceMatrix;
    #endif
    csm_internal_positionUnprojected = inverse(csm_internal_unprojectMatrix) * csm_internal_positionUnprojected;
    vec3 transformed = csm_internal_positionUnprojected.xyz;
  `)}),ge(Ce,"".concat(te.pointSize),{"gl_PointSize = size;":`
    gl_PointSize = `.concat(te.pointSize,`;
    `)}),ge(Ce,"".concat(te.diffuseColor),{"#include <color_fragment>":`
    #include <color_fragment>
    diffuseColor = `.concat(te.diffuseColor,`;
  `)}),ge(Ce,"".concat(te.fragColor),{"#include <dithering_fragment>":`
    #include <dithering_fragment>
    gl_FragColor  = `.concat(te.fragColor,`;
  `)}),ge(Ce,"".concat(te.emissive),{"vec3 totalEmissiveRadiance = emissive;":`
    vec3 totalEmissiveRadiance = `.concat(te.emissive,`;
    `)}),ge(Ce,"".concat(te.roughness),{"#include <roughnessmap_fragment>":`
    #include <roughnessmap_fragment>
    roughnessFactor = `.concat(te.roughness,`;
    `)}),ge(Ce,"".concat(te.metalness),{"#include <metalnessmap_fragment>":`
    #include <metalnessmap_fragment>
    metalnessFactor = `.concat(te.metalness,`;
    `)}),ge(Ce,"".concat(te.ao),{"#include <aomap_fragment>":`
    #include <aomap_fragment>
    reflectedLight.indirectDiffuse *= 1. - `.concat(te.ao,`;
    `)}),ge(Ce,"".concat(te.bump),{"#include <normal_fragment_maps>":`
    #include <normal_fragment_maps>

    vec3 csm_internal_orthogonal = `.concat(te.bump," - (dot(").concat(te.bump,`, normal) * normal);
    vec3 csm_internal_projectedbump = mat3(csm_internal_vModelViewMatrix) * csm_internal_orthogonal;
    normal = normalize(normal - csm_internal_projectedbump);
    `)}),ge(Ce,"".concat(te.depthAlpha),{"gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );":`
      gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity * `.concat(te.depthAlpha,` );
    `),"gl_FragColor = packDepthToRGBA( fragCoordZ );":`
      gl_FragColor = packDepthToRGBA( fragCoordZ );
      gl_FragColor.a *= `.concat(te.depthAlpha,`;
    `)});xt={},ge(xt,"".concat(te.position),{"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );":`
    gl_Position = projectionMatrix * modelViewMatrix * vec4( `.concat(te.position,`, 1.0 );
  `)}),ge(xt,"".concat(te.positionRaw),{"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );":`
    gl_Position = `.concat(te.position,`;
  `)}),ge(xt,"".concat(te.diffuseColor),{"gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );":`
    gl_FragColor = `.concat(te.diffuseColor,`;
  `)}),ge(xt,"".concat(te.fragColor),{"gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );":`
    gl_FragColor = `.concat(te.fragColor,`;
  `)});var je;je={},ge(je,"".concat(te.position),"*"),ge(je,"".concat(te.positionRaw),"*"),ge(je,"".concat(te.normal),"*"),ge(je,"".concat(te.pointSize),["PointsMaterial"]),ge(je,"".concat(te.diffuseColor),"*"),ge(je,"".concat(te.fragColor),"*"),ge(je,"".concat(te.emissive),["MeshStandardMaterial","MeshPhysicalMaterial"]),ge(je,"".concat(te.roughness),["MeshStandardMaterial","MeshPhysicalMaterial"]),ge(je,"".concat(te.metalness),["MeshStandardMaterial","MeshPhysicalMaterial"]),ge(je,"".concat(te.ao),["MeshStandardMaterial","MeshPhysicalMaterial","MeshBasicMaterial","MeshLambertMaterial","MeshPhongMaterial","MeshToonMaterial"]),ge(je,"".concat(te.bump),["MeshLambertMaterial","MeshMatcapMaterial","MeshNormalMaterial","MeshPhongMaterial","MeshPhysicalMaterial","MeshStandardMaterial","MeshToonMaterial","ShadowMaterial"]),ge(je,"".concat(te.depthAlpha),"*");var Iu=`void main() {
  gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
}`,Cu=`#include <common>

void main() {
  vec2 center = vec2(0., 1.);
  float rotation = 0.0;

  
  
  float size = 0.03;

  vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
  vec2 scale;
  scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
  scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

  bool isPerspective = isPerspectiveMatrix( projectionMatrix );
  if ( isPerspective ) scale *= - mvPosition.z;

  vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
  vec2 rotatedPosition;
  rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
  rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
  mvPosition.xy += rotatedPosition;

  gl_Position = projectionMatrix * mvPosition;
}`;const Yt=new G(0,0,0),cr=new G(0,0,0),ju=new G(0,0,0);function eo(t,e,r){const n=Yt.setFromMatrixPosition(t.matrixWorld);n.project(e);const o=r.width/2,a=r.height/2;return[(Number.isNaN(n.x)?0:n.x)*o+o,-(n.y*a)+a,n.z]}function Pu(t,e){const r=Yt.setFromMatrixPosition(t.matrixWorld),n=cr.setFromMatrixPosition(e.matrixWorld),o=r.sub(n),a=e.getWorldDirection(ju);return o.angleTo(a)>Math.PI/2}function Su(t,e,r,n){const o=Yt.setFromMatrixPosition(t.matrixWorld),a=o.clone();a.project(e),r.setFromCamera(new ke(a.x,a.y),e);const s=r.intersectObjects(n,!0);if(s.length>0){const i=s[0].distance;return o.distanceTo(r.ray.origin)<i}return!0}function Ou(t,e){if(e instanceof Lt)return e.zoom;if(e instanceof He){const r=Yt.setFromMatrixPosition(t.matrixWorld),n=cr.setFromMatrixPosition(e.matrixWorld),o=e.fov*Math.PI/180,a=r.distanceTo(n);return 1/(2*Math.tan(o/2)*a)}else return 1}function Ru(t,e,r){if(e instanceof He||e instanceof Lt){const n=Yt.setFromMatrixPosition(t.matrixWorld),o=cr.setFromMatrixPosition(e.matrixWorld),a=n.distanceTo(o),s=(r[1]-r[0])/(e.far-e.near),i=r[1]-s*e.far;return Math.round(s*a+i)}}const Zn=t=>Math.abs(t)<1e-10?0:t;function ta(t,e,r=""){let n="matrix3d(";for(let o=0;o!==16;o++)n+=Zn(e[o]*t.elements[o])+(o!==15?",":")");return r+n}const Du=(t=>e=>ta(e,t))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),Nu=(t=>(e,r)=>ta(e,t(r),"translate(-50%,-50%)"))(t=>[1/t,1/t,1/t,1,-1/t,-1/t,-1/t,-1,1/t,1/t,1/t,1,1,1,1,1]),Lu=["geometry","material"],to=Te({__name:"HTML",props:{geometry:{default:new po},material:{},as:{default:"div"},transform:{type:Boolean,default:!1},portal:{},wrapperClass:{},eps:{default:1e-4},distanceFactor:{},fullscreen:{type:Boolean},center:{type:Boolean},pointerEvents:{default:"auto"},sprite:{type:Boolean,default:!1},zIndexRange:{default:()=>[16777271,0]},occlude:{type:[Object,null,Array,Boolean,String]}},emits:["onOcclude"],setup(t,{expose:e,emit:r}){const n=t,o=r,a=hn(),s=Ya(),i=F(),d=F(),{geometry:l,material:v,as:y,transform:f,portal:w,wrapperClass:b,eps:x,distanceFactor:p,fullscreen:E,center:A,pointerEvents:T,sprite:C,occlude:P,zIndexRange:g}=Qe(n),{renderer:_,scene:m,camera:c,raycaster:u,sizes:M}=Ve(),I=ce(()=>document.createElement(y.value)),D=F([0,0,0]),L=F(0),B=F(),N=ce(()=>f.value?{position:"absolute",top:0,left:0,width:`${M.width.value}px`,height:`${M.height.value}px`,transformStyle:"preserve-3d",pointerEvents:"none",zIndex:2}:{position:"absolute",transform:A.value?"translate3d(-50%,-50%,0)":"none",...E.value&&{top:-M.height.value/2,left:-M.width.value/2,width:`${M.width.value}px`,height:`${M.height.value}px`},zIndex:2,...Object.assign({},s.style)}),re=ce(()=>({position:"absolute",pointerEvents:T.value})),ae=F(null),Q=F(!1),ne=ce(()=>P?.value&&P?.value!=="blending"||Array.isArray(P?.value)&&P?.value.length&&bt(P.value[0]));ie(()=>P,({value:xe})=>{xe==="blending"?(I.value.style.zIndex=`${Math.floor(g.value[0]/2)}`,I.value.style.position="absolute",I.value.style.pointerEvents="none"):(I.value.style.zIndex=null,I.value.style.position=null,I.value.style.pointerEvents=null)}),ie(()=>{var xe;return[i.value,_.value,M.width.value,M.height.value,(xe=a.default)==null?void 0:xe.call(a)]},([xe,Ee])=>{var Ie,$,h,k,j,z;if(xe&&Ee){const R=w?.value||Ee.domElement;if((Ie=m.value)==null||Ie.updateMatrixWorld(),f.value)I.value.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const U=eo(xe,c.value,{width:M.width.value,height:M.height.value});I.value.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${U[0]}px,${U[1]}px,0);transform-origin:0 0;`}R&&!I.value.parentNode&&(($=R.parentNode)==null||$.appendChild(I.value)),f.value?B.value=X("div",{id:"outer",style:N.value},[X("div",{id:"inner",style:re.value},[X("div",{key:(h=d.value)==null?void 0:h.uuid,id:m?.value.uuid,class:s.class,style:s.style},(k=a.default)==null?void 0:k.call(a))])]):B.value=X("div",{key:(j=d.value)==null?void 0:j.uuid,id:m?.value.uuid,style:N.value},(z=a.default)==null?void 0:z.call(a)),Ga(B.value,I.value)}}),et(()=>{b!=null&&b.value&&(I.value.className=b.value)});const V=F(!0),{onBeforeRender:ue}=yn();ue(({invalidate:xe})=>{var Ee,Ie,$,h,k,j,z;if(xe(),i.value&&c.value&&_.value){(Ee=c.value)==null||Ee.updateMatrixWorld(),i.value.updateWorldMatrix(!0,!1);const R=f.value?D.value:eo(i.value,c.value,{width:M.width.value||0,height:M.height.value||0});if(f.value||Math.abs(L.value-c.value.zoom)>x.value||Math.abs(D.value[0]-R[0])>x.value||Math.abs(D.value[1]-R[1])>x.value||Math.abs(D.value[2]-R[2])>x.value){const U=Pu(i.value,c.value);let J=!1;ne.value&&(Array.isArray(P?.value)?J=P?.value:P?.value!=="blending"&&(J=[m.value]));const de=V.value;if(J){const pe=Su(i.value,c.value,u.value,J);V.value=pe&&!U}else V.value=!U;de!==V.value&&(o("onOcclude",!V.value),I.value.style.display=V.value?"block":"none");const he=Math.floor(g.value[0]/2),oe=P!=null&&P.value?ne.value?[g.value[0],he]:[he-1,0]:g.value;if(I.value.style.zIndex=`${Ru(i.value,c.value,oe)}`,f.value){const[pe,Me]=[M.width.value/2,M.height.value/2],fe=c.value.projectionMatrix.elements[5]*Me,{isOrthographicCamera:ye,top:Ne,left:$e,bottom:xn,right:_n}=c.value,Gt=Du(c.value.matrixWorldInverse),Et=ye?`scale(${fe})translate(${Zn(-(_n+$e)/2)}px,${Zn((Ne+xn)/2)}px)`:`translateZ(${fe}px)`;let qe=i.value.matrixWorld;if(C.value&&(qe=c.value.matrixWorldInverse.clone().transpose().copyPosition(qe).scale(i.value.scale),qe.elements[3]=qe.elements[7]=qe.elements[11]=0,qe.elements[15]=1),I.value.style.width=`${M.width.value}px`,I.value.style.height=`${M.height.value}px`,I.value.style.perspective=ye?"":`${fe}px`,(Ie=B.value)!=null&&Ie.el&&($=B.value)!=null&&$.children&&Array.isArray(B.value.children)){B.value.el.style.transform=`${Et}${Gt}translate(${pe}px,${Me}px)`;const At=B.value.children[0];At&&At.el&&(At.el.style.transform=Nu(qe,1/((p?.value||10)/400)))}}else{const pe=p?.value===void 0?1:Ou(i.value,c.value)*p?.value;I.value.style.transform=`translate3d(${R[0]}px,${R[1]}px,0) scale(${pe})`}}D.value=R,L.value=c.value.zoom}if(!ne.value&&d.value&&!Q.value)if(f.value){if((h=B.value)!=null&&h.el&&(k=B.value)!=null&&k.children){const R=((j=B.value)==null?void 0:j.children)[0];if(R!=null&&R.clientWidth&&R!=null&&R.clientHeight){const{isOrthographicCamera:U}=c.value;if(U||l)s.scale&&(Array.isArray(s.scale)?s.scale instanceof G?d.value.scale.copy(s.scale.clone().divideScalar(1)):d.value.scale.set(1/s.scale[0],1/s.scale[1],1/s.scale[2]):d.value.scale.setScalar(1/s.scale));else{const J=(p?.value||10)/400,de=R.clientWidth*J,he=R.clientHeight*J;d.value.scale.set(de,he,1)}Q.value=!0}}}else{const R=I.value.children[0];if(R!=null&&R.clientWidth&&R!=null&&R.clientHeight){const U=R.clientWidth*1,J=R.clientHeight*1;d.value.scale.set(U,J,1),Q.value=!0}ae.value.lookAt((z=c.value)==null?void 0:z.position)}});const _e=ce(()=>({vertexShader:f.value?void 0:Cu,fragmentShader:Iu})),ve=ce(()=>{const xe=_e.value;return v.value||new $t({vertexShader:xe.vertexShader,fragmentShader:xe.fragmentShader,side:mn})});return Je(()=>{ve.value&&ve.value.dispose(),I.value.remove()}),e({instance:i}),(xe,Ee)=>(q(),K("TresGroup",{ref_key:"groupRef",ref:i},[Y(P)&&!ne.value?(q(),K("TresMesh",{key:0,ref_key:"meshRef",ref:d,geometry:Y(l),material:ve.value},null,8,Lu)):Pe("",!0)],512))}});var Jn={exports:{}},zu=Jn.exports,no;function Bu(){return no||(no=1,(function(t,e){(function(r,n){t.exports=n()})(zu,function(){var r=function(){function n(w){return s.appendChild(w.dom),w}function o(w){for(var b=0;b<s.children.length;b++)s.children[b].style.display=b===w?"block":"none";a=w}var a=0,s=document.createElement("div");s.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",s.addEventListener("click",function(w){w.preventDefault(),o(++a%s.children.length)},!1);var i=(performance||Date).now(),d=i,l=0,v=n(new r.Panel("FPS","#0ff","#002")),y=n(new r.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var f=n(new r.Panel("MB","#f08","#201"));return o(0),{REVISION:16,dom:s,addPanel:n,showPanel:o,begin:function(){i=(performance||Date).now()},end:function(){l++;var w=(performance||Date).now();if(y.update(w-i,200),w>d+1e3&&(v.update(1e3*l/(w-d),100),d=w,l=0,f)){var b=performance.memory;f.update(b.usedJSHeapSize/1048576,b.jsHeapSizeLimit/1048576)}return w},update:function(){i=this.end()},domElement:s,setMode:o}};return r.Panel=function(n,o,a){var s=1/0,i=0,d=Math.round,l=d(window.devicePixelRatio||1),v=80*l,y=48*l,f=3*l,w=2*l,b=3*l,x=15*l,p=74*l,E=30*l,A=document.createElement("canvas");A.width=v,A.height=y,A.style.cssText="width:80px;height:48px";var T=A.getContext("2d");return T.font="bold "+9*l+"px Helvetica,Arial,sans-serif",T.textBaseline="top",T.fillStyle=a,T.fillRect(0,0,v,y),T.fillStyle=o,T.fillText(n,f,w),T.fillRect(b,x,p,E),T.fillStyle=a,T.globalAlpha=.9,T.fillRect(b,x,p,E),{dom:A,update:function(C,P){s=Math.min(s,C),i=Math.max(i,C),T.fillStyle=a,T.globalAlpha=1,T.fillRect(0,0,v,x),T.fillStyle=o,T.fillText(d(C)+" "+n+" ("+d(s)+"-"+d(i)+")",f,w),T.drawImage(A,b+l,x,p-l,E,b,x,p-l,E),T.fillRect(b+p-l,x,l,E),T.fillStyle=a,T.globalAlpha=.9,T.fillRect(b+p-l,x,l,d((1-C/P)*E))}}},r})})(Jn)),Jn.exports}Bu();const Fu=["args"],Uu=["color"],Vu=Te({__name:"Ring",props:{args:{default:()=>[.5,1,32]},color:{default:"#ffffff"}},setup(t,{expose:e}){const r=t,{args:n,color:o}=Qe(r),{invalidate:a}=Ve();ie(n,()=>a());const s=Ae();return e({instance:s}),(i,d)=>(q(),K("TresMesh",xo({ref_key:"ringRef",ref:s},i.$attrs),[O("TresRingGeometry",{args:Y(n)},null,8,Fu),ft(i.$slots,"default",{},()=>[O("TresMeshBasicMaterial",{color:Y(o)},null,8,Uu)])],16))}}),$u=["args"],Hu=["color"],Yu=Te({__name:"Sphere",props:{args:{default:()=>[2,32,16]},color:{default:"#ffffff"}},setup(t,{expose:e}){const r=t,{args:n,color:o}=Qe(r),{invalidate:a}=Ve();ie(n,()=>a());const s=Ae();return e({instance:s}),(i,d)=>(q(),K("TresMesh",xo({ref_key:"sphereRef",ref:s},i.$attrs),[O("TresSphereGeometry",{args:Y(n)},null,8,$u),ft(i.$slots,"default",{},()=>[O("TresMeshBasicMaterial",{color:Y(o)},null,8,Hu)])],16))}}),Gu=["position","a-scale"],Wu=["size","size-attenuation","transparent","alpha-test","alpha-map"],qu=Te({__name:"Stars",props:{size:{default:.1},sizeAttenuation:{type:Boolean,default:!0},transparent:{type:Boolean,default:!0},alphaTest:{default:.01},count:{default:5e3},depth:{default:50},radius:{default:100},alphaMap:{default:null}},setup(t,{expose:e}){const r=t,n=F(),o=F(),{radius:a,depth:s,count:i,size:d,sizeAttenuation:l,transparent:v,alphaMap:y,alphaTest:f}=Qe(r),{invalidate:w}=Ve();ie(r,()=>{w()});const b=()=>{let p=a.value+s.value;const E=ce(()=>s.value/i.value),A=[],T=Array.from({length:i.value},()=>(.5+.5*Math.random())*4),C=P=>new G().setFromSpherical(new Fn(P,Math.acos(1-Math.random()*2),Math.random()*2*Math.PI)).toArray();for(let P=0;P<i.value;P++)p-=E.value*Math.random(),A.push(...C(p));n.value=new Float32Array(A),o.value=new Float32Array(T)};et(()=>{b()});const x=Ae();return e({instance:x}),(p,E)=>(q(),K("TresPoints",{ref_key:"starsRef",ref:x},[O("TresBufferGeometry",{position:[n.value,3],"a-scale":[o.value,1]},null,8,Gu),O("TresPointsMaterial",{size:Y(d),"size-attenuation":Y(l),transparent:Y(v),"alpha-test":Y(f),"alpha-map":Y(y)},null,8,Wu)],512))}}),Xu={key:0,args:[0,1,64]},Ku={key:1,args:[.5,1,64]},Zu={key:2},Ju=["tone-mapped","map","side","color"];new Se(16777215);const Qu={},ec={width:"230px",viewBox:"0 0 210 297",xmlns:"http://www.w3.org/2000/svg","xmlns:svg":"http://www.w3.org/2000/svg",fill:"#f15025",stroke:"#f15025"};function tc(t,e){return q(),K("svg",ec,[...e[0]||(e[0]=[O("g",{"inkscape:label":"Layer 1","inkscape:groupmode":"layer",id:"layer1"},[O("rect",{id:"rect3-5",width:"34.031982",height:"13.166141",x:"109.12134",y:"221.50067"}),O("rect",{id:"rect8-6",width:"41.3274",height:"13.189176",x:"156.43027",y:"139.43732"}),O("rect",{id:"rect8-8",width:"55.877949",height:"13.189176",x:"136.63039",y:"166.83044"}),O("circle",{id:"path1-77-37",cx:"36.019543",cy:"200.72112",r:"6.614224"}),O("circle",{id:"path1-77-1",cx:"83.208626",cy:"228.10573",r:"6.614224"}),O("circle",{id:"path1-77-54",cx:"71.801262",cy:"228.02882",r:"6.614224"}),O("circle",{id:"path1-77-3",cx:"109.50446",cy:"228.07835",r:"6.614224"}),O("circle",{id:"path1-77-4",cx:"21.976299",cy:"173.41405",r:"6.614224"}),O("circle",{id:"path1-77-36",cx:"101.19189",cy:"173.38173",r:"6.614224"}),O("circle",{id:"path1-77-2",cx:"105.7051",cy:"200.7291",r:"6.614224"}),O("circle",{id:"path1-77-8",cx:"142.81274",cy:"228.07237",r:"6.614224"}),O("circle",{id:"path1-77-96",cx:"132.05998",cy:"200.86003",r:"6.614224"}),O("circle",{id:"path1-77-066",cx:"178.70616",cy:"200.85172",r:"6.614224"}),O("circle",{id:"path1-77-93",cx:"137.02592",cy:"173.40887",r:"6.614224"}),O("circle",{id:"path1-77-06",cx:"192.00768",cy:"173.40335",r:"6.614224"}),O("circle",{id:"path1-77-5",cx:"197.11247",cy:"146.0321",r:"6.614224"}),O("circle",{id:"path1-77-02",cx:"157.06224",cy:"146.0208",r:"6.614224"}),O("circle",{id:"path1-77-0",cx:"192.02562",cy:"118.71578",r:"6.614224"}),O("circle",{id:"path1-77-9",cx:"137.07158",cy:"118.65047",r:"6.614224"}),O("circle",{id:"path1-3",cx:"21.880394",cy:"118.62907",r:"6.614224"}),O("circle",{id:"path1-34",cx:"101.57488",cy:"118.62296",r:"6.614224"}),O("circle",{id:"path1-8",cx:"18.059219",cy:"146.02701",r:"6.614224"}),O("circle",{id:"path1-77",cx:"120.49805",cy:"146.02385",r:"6.614224"}),O("circle",{id:"path1-76",cx:"120.29967",cy:"91.317184",r:"6.614224"}),O("circle",{id:"path1-27",cx:"178.82605",cy:"91.297127",r:"6.614224"}),O("circle",{id:"path1-42",cx:"35.918694",cy:"91.32531",r:"6.614224"}),O("circle",{id:"path1-1",cx:"87.017815",cy:"91.325363",r:"6.614224"}),O("circle",{id:"path1-2",cx:"142.87708",cy:"64.034698",r:"6.614224"}),O("circle",{id:"path1",cx:"71.855606",cy:"64.032326",r:"6.614224"}),O("circle",{id:"path1-4",cx:"101.8694",cy:"63.991955",r:"6.614224"}),O("circle",{id:"path1-7",cx:"131.77686",cy:"64.024857",r:"6.614224"}),O("rect",{id:"rect2",width:"30.155174",height:"13.275864",x:"71.737076",y:"57.370689"}),O("rect",{id:"rect3",width:"12.031983",height:"13.233194",x:"131.29428",y:"57.407383"}),O("rect",{id:"rect3-8",width:"12.031983",height:"13.233194",x:"71.735992",y:"221.43167"}),O("rect",{id:"rect4",width:"58.766083",height:"13.252156",x:"120.24138",y:"84.704735"}),O("rect",{id:"rect4-0",width:"54.925564",height:"13.252156",x:"137.1151",y:"112.08276"}),O("rect",{id:"rect5",width:"51.681034",height:"13.275862",x:"35.84483",y:"84.68103"}),O("rect",{id:"rect6",width:"79.994499",height:"13.276539",x:"21.792299",y:"111.9789"}),O("rect",{id:"rect6-0",width:"79.947083",height:"13.181711",x:"21.526054",y:"166.80881"}),O("rect",{id:"rect6-0-3",width:"70.760788",height:"13.181711",x:"35.676052",y:"194.13606"}),O("rect",{id:"rect7",width:"102.35065",height:"13.254238",x:"18.238478",y:"139.40367"}),O("rect",{id:"rect8",width:"47.496296",height:"13.189176",x:"131.71552",y:"194.2543"})],-1)])])}const nc=Object.assign(tt(Qu,[["render",tc]]),{__name:"LandingWwf"}),rc={__name:"TresCanvas",setup(t){return(e,r)=>(q(),zt(Y(Ki),null,{default:se(()=>[ft(e.$slots,"default")]),_:3}))}},oc=Qa(rc),ac=["visible"],sc=Te({__name:"Space",props:Wa({sections:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const{onLoop:e}=Ri(),r=F(null),n=qa(t,"modelValue"),o=F(null),a=F(null),s=[{value:0,position:new G(0,.95,5),lookAt:new G(0,0,-1),light:new G(0,0,-1)},{value:.2,position:new G(0,.6,7),lookAt:new G(0,0,4.9),light:new G(0,-1,1)},{value:.399,position:new G(0,0,10),lookAt:new G(0,0,-1),light:new G(0,0,-1)},{value:.4,position:new G(-6,10,7),lookAt:new G(18,0,0),light:new G(0,0,-1)},{value:.6,position:new G(-17,10,7),lookAt:new G(-2,0,0),light:new G(0,0,-1)},{value:.8,position:new G(Math.cos(3)*11.4,.2,Math.sin(3)*11.4),lookAt:new G(Math.cos(3)*10,0,Math.sin(3)*10),light:new G(0,0,-1)},{value:1.01,position:new G(Math.cos(3)*14.4,.6,Math.sin(3)*14.4),lookAt:new G(Math.cos(3)*13,0,Math.sin(3)*13),light:new G(0,0,-1)}];e(()=>{const d=s.findIndex(y=>n.value<y.value),l=s[d-1],v=s[d];if(l&&v){const y=(n.value-l.value)/(v.value-l.value),f=y<.5?4*y*y*y:1-Math.pow(-2*y+2,3)/2;o.value?.position.lerpVectors(l.position,v.position,f),l.lookAt&&v.lookAt&&r.value?.instance&&(r.value.instance.target=l.lookAt.clone().lerp(v.lookAt,f)),a.value?.position.lerpVectors(l.light,v.light,f)}});const i=cn({wwf:!1});return(d,l)=>{const v=yu,y=qu,f=gu,w=bu,b=fu,x=Yu,p=Vu,E=nc,A=oc;return q(),K(Ge,null,[X(A,{class:"fade-in","render-mode":"on-demand","clear-color":"#000000","window-size":"",antialias:!0,shadows:""},{default:se(()=>[O("TresPerspectiveCamera",{position:[0,2,5],ref_key:"cameraRef",ref:o},null,512),X(v,{ref_key:"controls",ref:r},null,512),X(y),O("TresDirectionalLight",{position:[0,0,-1],intensity:1,castShadow:"",ref_key:"lightRef",ref:a},null,512),l[14]||(l[14]=O("TresMesh",{position:[0,0,4.9]},[O("TresSphereGeometry",{args:[1,32,32]}),O("TresMeshPhysicalMaterial",{color:"black",side:2})],-1)),(q(),zt(Xa,null,{default:se(()=>[X(f,{visible:n.value<.2,font:"/fonts/space_font.json",text:"yun",position:[0,1,0]},null,8,["visible"])]),_:1})),X(w,{modelValue:n.value,"onUpdate:modelValue":l[0]||(l[0]=T=>n.value=T),distance:0,"smooth-scroll":.1,htmlScroll:""},null,8,["modelValue"]),X(b,{factor:.05,ease:[3,3]}),O("TresGroup",{visible:n.value>.4},[l[11]||(l[11]=O("TresAmbientLight",{color:"#ffffff",intensity:.5},null,-1)),l[12]||(l[12]=O("TresPointLight",{position:[0,0,0],intensity:10,distance:100,decay:.1,color:"#ffffff"},null,-1)),X(x,{position:[0,0,0],scale:.3}),X(p,{args:[5,5.01,128],position:[0,0,0],rotation:[Math.PI/2,0,0]},{default:se(()=>[...l[5]||(l[5]=[O("TresMeshBasicMaterial",{color:"#ffffff",side:2},null,-1)])]),_:1},8,["rotation"]),X(p,{args:[10,10.01,128],position:[0,0,0],rotation:[Math.PI/2,0,0]},{default:se(()=>[...l[6]||(l[6]=[O("TresMeshBasicMaterial",{color:"#ffffff",side:2},null,-1)])]),_:1},8,["rotation"]),X(x,{position:[Math.cos(3)*10,0,Math.sin(3)*10],scale:.3},{default:se(()=>[...l[7]||(l[7]=[O("TresMeshPhysicalMaterial",{color:"black",side:2},null,-1)])]),_:1},8,["position"]),X(p,{args:[7.5,7.51,128],position:[0,0,0],rotation:[Math.PI/2,0,0]},{default:se(()=>[...l[8]||(l[8]=[O("TresMeshBasicMaterial",{color:"#ffffff",side:2},null,-1)])]),_:1},8,["rotation"]),X(x,{position:[Math.cos(1+Math.PI)*7.5,0,Math.sin(1+Math.PI)*7.5],scale:.2},{default:se(()=>[...l[9]||(l[9]=[O("TresMeshPhysicalMaterial",{color:"black",side:2},null,-1)])]),_:1},8,["position"]),X(x,{position:[Math.cos(3)*13,0,Math.sin(3)*13],scale:.3},{default:se(()=>[...l[10]||(l[10]=[O("TresMeshPhysicalMaterial",{color:"black",side:2},null,-1)])]),_:1},8,["position"])],8,ac),n.value>.5?(q(),zt(Y(to),{key:0,"wrapper-class":"space-webpage",center:"",zIndexRange:[100,0],position:[Math.cos(1)*7.5,.01,Math.sin(1)*7.5],"distance-factor":6,occlude:"raycast",sprite:""},{default:se(()=>[X(E,{class:"cursor-pointer",onMouseenter:l[1]||(l[1]=T=>Y(i).wwf=!0),onMouseleave:l[2]||(l[2]=T=>Y(i).wwf=!1)})]),_:1},8,["position"])):Pe("",!0),n.value>.5?(q(),zt(Y(to),{key:1,"wrapper-class":"space-webpage",center:"",zIndexRange:[100,0],position:[Math.cos(3)*11,.18,Math.sin(3)*11],rotation:[1.54,10.48,20.48],"distance-factor":.35,occlude:"raycast"},{default:se(()=>[...l[13]||(l[13]=[O("iframe",{src:"https://yun.ng",class:"w-screen h-screen",style:{border:"none",overflow:"hidden"}},null,-1)])]),_:1},8,["position"])):Pe("",!0)]),_:1}),X(_o,{name:"fade"},{default:se(()=>[Y(i).wwf?(q(),K("div",{key:0,onMouseenter:l[3]||(l[3]=T=>Y(i).wwf=!0),onMouseleave:l[4]||(l[4]=T=>Y(i).wwf=!1),class:"fixed top-45% left-60% translate--50% bg-black p-4 rounded border border-solid border-white z-100000000"},[...l[15]||(l[15]=[O("small",{class:"opacity-50"},"2024-now",-1),O("br",null,null,-1),O("span",null,[W("Member of CTF team "),O("a",{target:"_blank",href:"https://ctftime.org/team/283853"},"World Wide Flags")],-1)])],32)):Pe("",!0)]),_:1})],64)}}}),ic=Object.assign(sc,{__name:"LandingSpace"}),lc={class:"vertical-nav hidden md:block fade-in"},uc=["onClick"],cc={class:"hidden lg:inline fade-in"},dc=Te({__name:"VerticalNav",props:{progress:{},sections:{}},emits:["navigate"],setup(t,{emit:e}){const r=e;return(n,o)=>(q(),K("nav",lc,[O("ul",null,[(q(!0),K(Ge,null,ct(n.sections,(a,s)=>(q(),K("li",{class:Ye(["nav-item pointer-events-auto",{active:Math.floor(.5+n.progress*(n.sections.length-1))==s}]),key:a.key,onClick:i=>r("navigate",a.key)},[O("span",null,ze(a.icon),1),O("span",cc,ze(a.title),1)],10,uc))),128))])]))}}),pc=Object.assign(tt(dc,[["__scopeId","data-v-850c9843"]]),{__name:"LandingVerticalNav"});var fc=Object.defineProperty,mc=Object.defineProperties,hc=Object.getOwnPropertyDescriptors,ro=Object.getOwnPropertySymbols,gc=Object.prototype.hasOwnProperty,vc=Object.prototype.propertyIsEnumerable,oo=(t,e,r)=>e in t?fc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,dr=(t,e)=>{for(var r in e||(e={}))gc.call(e,r)&&oo(t,r,e[r]);if(ro)for(var r of ro(e))vc.call(e,r)&&oo(t,r,e[r]);return t},yc=(t,e)=>mc(t,hc(e));const na=(t="always")=>({playMode:t,optimizeSeo:!0,createContainers:!0,hideOverflow:!1,timing:t==="always"?{duration:2*1e3,iterations:1/0}:{duration:250,iterations:1},glitchTimeSpan:t==="always"?{start:.5,end:.7}:{start:0,end:1},shake:{velocity:15,amplitudeX:.2,amplitudeY:.2},slice:t==="click"?{count:15,velocity:20,minHeight:.02,maxHeight:.15,hueRotate:!0,cssFilters:""}:{count:6,velocity:15,minHeight:.02,maxHeight:.15,hueRotate:!0,cssFilters:""},pulse:!1}),ra=(t,e)=>{if(!t.glitchTimeSpan)return 1;const r=t.glitchTimeSpan.start,n=t.glitchTimeSpan.end;if(e<r||e>n)return 0;const o=r+(n-r)/2;return e<o?(e-r)/(o-r):(n-e)/(n-o)},fn=(t,e)=>(Math.random()-.5)*2*ra(t,e),bc=({minHeight:t,maxHeight:e,minWidth:r,maxWidth:n})=>{const o=Math.floor(Math.random()*((e-t)*100+1))+t*100,a=Math.floor(Math.random()*((n-r)*100+1))+r*100,s=Math.floor(Math.random()*(100-o)),i=Math.floor(Math.random()*(100-a)),d=`${i+a}% ${s}%`,l=`${i+a}% ${s+o}%`,v=`${i}% ${s+o}%`,y=`${i}% ${s}%`;return`polygon(${d},${l},${v},${y})`},wc=t=>{const e=Math.floor(t.slice.velocity*t.timing.duration/1e3)+1,r=[];for(let n=0;n<e;++n){if(ra(t,n/e)===0){r.push({opacity:"0",transform:"none",clipPath:"unset"});continue}const o={opacity:"1",transform:`translate3d(${fn(t,n/e)*30}%,0,0)`,clipPath:bc({minHeight:t.slice.minHeight,maxHeight:t.slice.maxHeight,minWidth:1,maxWidth:1})};t.slice.cssFilters?o.filter=t.slice.cssFilters:t.slice.hueRotate&&(o.filter=`hue-rotate(${Math.floor(fn(t,n/e)*360)}deg)`),r.push(o)}return{steps:r,timing:dr({easing:`steps(${e},jump-start)`},t.timing)}},xc=t=>t.pulse?{steps:[{transform:"scale(1)",opacity:"1"},{transform:`scale(${t.pulse.scale})`,opacity:"0"}],timing:yc(dr({},t.timing),{delay:(t.glitchTimeSpan?t.glitchTimeSpan.start:0)*t.timing.duration,easing:"ease-in-out"})}:null,_c=t=>{if(!t.shake)return{steps:[],timing:{}};const e=Math.floor(t.shake.velocity*t.timing.duration/1e3)+1,r=[];for(let n=0;n<e;++n){const o=fn(t,n/e)*t.shake.amplitudeX*100,a=fn(t,n/e)*t.shake.amplitudeY*100;r.push({transform:`translate3d(${o}%,${a}%,0)`})}return{steps:r,timing:dr({easing:`steps(${e},jump-start)`},t.timing)}},oa=t=>[_c(t),xc(t),...Array.from({length:t.slice.count}).map(()=>wc(t))].filter(e=>e!==null),aa=(...t)=>{const e=r=>r&&typeof r=="object";return t.reduce((r,n)=>(Object.keys(n).forEach(o=>{e(r[o])&&e(n[o])?r[o]=aa(r[o],n[o]):n[o]!==void 0&&(r[o]=n[o])}),r),{})},Mc=(t,e)=>{var r,n;if(!e.createContainers)return{container:t,layersContainer:t,glitched:t.firstElementChild};if(!t.dataset.glitched){const s=document.createElement("div"),i=document.createElement("div");return getComputedStyle(t).getPropertyValue("display").match(/^inline/)&&(i.style.display="inline-block"),i.appendChild(s),(r=t.parentElement)==null||r.insertBefore(i,t),s.prepend(t),{container:i,layersContainer:s,glitched:t}}const o=t.parentElement,a=(n=t.parentElement)==null?void 0:n.parentElement;for(;o.children.length>1;)o.removeChild(o.children[1]);return o.firstElementChild.getAnimations().forEach(s=>s.cancel()),{container:a,layersContainer:o,glitched:t}},kc=(t,e,r)=>{const{glitched:n,container:o,layersContainer:a}=Mc(t,r);a.style.display="grid",r.hideOverflow&&(o.style.overflow="hidden"),r.html&&(n.innerHTML=r.html),n.style.gridArea="1/1/-1/-1";const s=n.cloneNode(!0);s.dataset.islayer="true",s.style.gridArea="1/1/-1/-1",s.style.userSelect="none",s.style.pointerEvents="none",s.style.opacity="0";for(let l=0;l<e.length-1;++l){const v=s.cloneNode(!0);a.appendChild(v)}const i=()=>{e.forEach((l,v)=>{a.children[v].animate(l.steps,l.timing)})},d=()=>{e.forEach((l,v)=>{a.children[v].getAnimations().forEach(y=>{y.cancel()})})};switch(o.onmouseenter=null,o.onmouseleave=null,o.onclick=null,r.playMode){case"always":i();break;case"hover":o.onmouseenter=i,o.onmouseleave=d;break;case"click":o.onclick=()=>{d(),i()};break}return t.dataset.glitched="1",{container:o,startGlitch:i,stopGlitch:d}},Tc=(t=".powerglitch",e={})=>{const r=aa(na(e.playMode),e);if(r.optimizeSeo&&/google|bing|baidu|yandex|slurp|bot/i.exec(navigator.userAgent))return{containers:[],startGlitch:()=>{console.warn("PowerGlitch disabled")},stopGlitch:()=>{console.warn("PowerGlitch disabled")}};let n=[];typeof t=="string"?n=Array.from(document.querySelectorAll(t)):t instanceof NodeList?n=Array.from(t):Array.isArray(t)?n=t:t instanceof HTMLElement&&(n=[t]);const o=oa(r),a=n.filter(s=>!s.dataset.islayer).map(s=>kc(s,o,r));return{containers:a.map(s=>s.container),startGlitch:()=>a.forEach(s=>s.startGlitch()),stopGlitch:()=>a.forEach(s=>s.stopGlitch())}},zn={glitch:Tc,generateLayers:oa,getDefaultOptions:na},Ec={class:"hero-section"},Ac={class:"tagline"},Ic={class:"opacity-30"},_t=114,Cc=Te({__name:"HeroSection",props:{progress:{}},emits:["navigate"],setup(t,{emit:e}){const r=e,n=F(0),o=F(),a=es("page-views");return ie(n,()=>{o.value&&(n.value===_t?(zn.glitch(o.value,{playMode:"manual",timing:{easing:"ease-in-out"},slice:{count:20}}).startGlitch(),setTimeout(()=>{o.value&&(o.value.innerHTML="<ruby>Seventh Phase of the Sky<rt>ã€Œå¤©ç©ºçš„ç¬¬ä¸ƒç§ç›¸æ€ã€</rt></ruby>",zn.glitch(o.value,{timing:{easing:"ease-in-out",duration:4e3},slice:{count:2},shake:{amplitudeX:.05,amplitudeY:.05}}))},125)):n.value<_t&&zn.glitch(o.value,{playMode:"manual",timing:{easing:"ease-in-out"},slice:{count:10*n.value/_t},shake:{amplitudeX:.5*(n.value/_t),amplitudeY:.5*(n.value/_t)}}).startGlitch())}),(s,i)=>(q(),K("section",Ec,[i[5]||(i[5]=O("div",{class:"hello"},[W(" Hello, "),O("span",{class:"wave"},"ðŸ‘‹"),W(" I am ")],-1)),O("div",Ac,[O("h1",{onClick:i[0]||(i[0]=d=>n.value++),ref_key:"tagline",ref:o,class:Ye({"cursor-pointer":Y(n)<_t})}," an aspiring software engineer. ",2),O("h2",{class:Ye([{"opacity-50":s.progress>.1},"transition-opacity"])},[O("ruby",null,[i[2]||(i[2]=W("traveler",-1)),O("rt",Ic,ze(Y(a))+"th",1)]),i[3]||(i[3]=W(", please scroll down",-1))],2),O("div",{class:Ye(["scroll-indicator",{hidden:s.progress>.1}]),onClick:i[1]||(i[1]=d=>r("navigate","about"))},[...i[4]||(i[4]=[O("div",{class:"chevron"},null,-1),O("div",{class:"chevron"},null,-1),O("div",{class:"chevron"},null,-1)])],2)])]))}}),jc=Object.assign(tt(Cc,[["__scopeId","data-v-023e717e"]]),{__name:"LandingHeroSection"}),Pc={class:"decoration-dashed underline decoration-sky-200 underline-offset-2 hover:underline-offset-4 hover:bg-sky-800 transition-all"},Sc={key:0,class:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-900 text-white text-sm rounded shadow-lg whitespace-nowrap select-none pointer-events-none overflow-visible"},Oc=Te({__name:"TText",props:{tooltip:{}},setup(t){const e=F(!1);return(r,n)=>(q(),K("span",{class:"relative inline cursor-help",onMouseenter:n[0]||(n[0]=o=>e.value=!0),onMouseleave:n[1]||(n[1]=o=>e.value=!1)},[O("span",Pc,[ft(r.$slots,"default")]),X(_o,{name:"fade"},{default:se(()=>[Y(e)?(q(),K("div",Sc,ze(r.tooltip),1)):Pe("",!0)]),_:1})],32))}}),Rc=Object.assign(Oc,{__name:"TText"}),Dc={},Nc={class:"about-section"},Lc={class:"about-section-content md:max-w-prose mx-auto py-16 h-screen px-8 max-h-screen overflow-y-clip"};function zc(t,e){const r=Rc;return q(),K("div",Nc,[O("div",Lc,[e[53]||(e[53]=O("h1",null,"About",-1)),e[54]||(e[54]=O("p",null,"I'm a undergrad software engineering student who loves everything and anything software related.",-1)),O("p",null,[e[23]||(e[23]=W(" I've done a lot of coding, here is a rough timelapse starting at 10yo: I started ",-1)),X(r,{tooltip:"my first language was Java!"},{default:se(()=>[...e[0]||(e[0]=[W("coding",-1)])]),_:1}),e[24]||(e[24]=W(", made Java games in my ",-1)),X(r,{tooltip:"mostly based on javax.swing + awt"},{default:se(()=>[...e[1]||(e[1]=[W("custom game engines",-1)])]),_:1}),e[25]||(e[25]=W(", started web dev, then my ",-1)),X(r,{tooltip:"it was in PHP!"},{default:se(()=>[...e[2]||(e[2]=[W("first personal site",-1)])]),_:1}),e[26]||(e[26]=W(". Made a bunch of ",-1)),X(r,{tooltip:"mostly to help me do my highschool homework"},{default:se(()=>[...e[3]||(e[3]=[W("GUI tools",-1)])]),_:1}),e[27]||(e[27]=W(" and ",-1)),X(r,{tooltip:"battle cats clone, boardgames, etc"},{default:se(()=>[...e[4]||(e[4]=[W("games",-1)])]),_:1}),e[28]||(e[28]=W(". ",-1)),X(r,{tooltip:"Tank Stars clone"},{default:se(()=>[...e[5]||(e[5]=[W("First",-1)])]),_:1}),e[29]||(e[29]=W(" and then several ",-1)),X(r,{tooltip:"libgdx allowed this, akin to Unity"},{default:se(()=>[...e[6]||(e[6]=[W("multi-platform",-1)])]),_:1}),e[30]||(e[30]=W(" games, and ",-1)),X(r,{tooltip:"scrapper and API for azurlane the anime waifu game"},{default:se(()=>[...e[7]||(e[7]=[W("first open-source library",-1)])]),_:1}),e[31]||(e[31]=W(". ",-1)),X(r,{tooltip:"reddit clone + firebase"},{default:se(()=>[...e[8]||(e[8]=[W("Android development",-1)])]),_:1}),e[32]||(e[32]=W(", ",-1)),X(r,{tooltip:"...hacks"},{default:se(()=>[...e[9]||(e[9]=[W("Minecraft mods ",-1)])]),_:1}),e[33]||(e[33]=W(", discord bots, ",-1)),X(r,{tooltip:"won 3rd 3 times and got 3 speakers + 2 keyboards + 1 mouse and mousepad."},{default:se(()=>[...e[10]||(e[10]=[W("hackathons",-1)])]),_:1}),e[34]||(e[34]=W(". Started using JS frameworks, ",-1)),X(r,{tooltip:"auto deploy + dev channel + docker + FEVN stack, lecture notes for highschool"},{default:se(()=>[...e[11]||(e[11]=[W("fullstack web development",-1)])]),_:1}),e[35]||(e[35]=W(", ",-1)),X(r,{tooltip:"mostly node.js + socket.js + some client"},{default:se(()=>[...e[12]||(e[12]=[W("multiplatform multiplayer games",-1)])]),_:1}),e[36]||(e[36]=W(", ",-1)),X(r,{tooltip:"made with vue â¤"},{default:se(()=>[...e[13]||(e[13]=[W("my second personal site",-1)])]),_:1}),e[37]||(e[37]=W(", and began ",-1)),X(r,{tooltip:"still playing actively to this day, my writeups are right here on this website"},{default:se(()=>[...e[14]||(e[14]=[W(" playing CTFs",-1)])]),_:1}),e[38]||(e[38]=W(". Started doing data analysis and ",-1)),X(r,{tooltip:"like full auto anime face extraction & clustering by character"},{default:se(()=>[...e[15]||(e[15]=[W(" artificial intelligence",-1)])]),_:1}),e[39]||(e[39]=W(". ",-1)),X(r,{tooltip:"EvilER: Best tool to edit your entity relationship / schema diagrams + auto SQL generation"},{default:se(()=>[...e[16]||(e[16]=[W(" Full-fledged desktop application",-1)])]),_:1}),e[40]||(e[40]=W(", and a ",-1)),X(r,{tooltip:"Fun fact: the database schema behind this was designed using the desktop version"},{default:se(()=>[...e[17]||(e[17]=[W("realtime collaborative web version",-1)])]),_:1}),e[41]||(e[41]=W(" of it; ",-1)),X(r,{tooltip:"internship at STUCK for Hypersketch"},{default:se(()=>[...e[18]||(e[18]=[W("iOS development",-1)])]),_:1}),e[42]||(e[42]=W(", ",-1)),X(r,{tooltip:"p2p socket based kahoot clone in Java"},{default:se(()=>[...e[19]||(e[19]=[W("networking",-1)])]),_:1}),e[43]||(e[43]=W(", ",-1)),X(r,{tooltip:"hypersonic re-entry vehicle simulated using realistic atmosphere and referenced research on drag at mach speeds"},{default:se(()=>[...e[20]||(e[20]=[W(" numerical simulations",-1)])]),_:1}),e[44]||(e[44]=W(", and ",-1)),X(r,{tooltip:"SSEF 030 : Fitting video clips to music based on Mood Analysis of both video and audio / music video generator"},{default:se(()=>[...e[21]||(e[21]=[W(" AI capstone project",-1)])]),_:1}),e[45]||(e[45]=W(". Graduation from highschool and then more tools, simulations, scrapers, CTFs, utilities, ",-1)),X(r,{tooltip:"like this one"},{default:se(()=>[...e[22]||(e[22]=[W("websites",-1)])]),_:1}),e[46]||(e[46]=W(", assembly, projects etc in university. ",-1)),e[47]||(e[47]=O("br",null,null,-1)),e[48]||(e[48]=O("small",{class:"opacity-30"},[W("Do note the above are when I "),O("b",null,"started"),W(" doing something.")],-1)),e[49]||(e[49]=O("br",null,null,-1)),e[50]||(e[50]=O("small",{class:"opacity-30"},"iOS and Android are deserted due to lack of need / problem.",-1)),e[51]||(e[51]=O("br",null,null,-1)),e[52]||(e[52]=O("small",{class:"opacity-30"},"I do arduino, DIY and other hardware related projects too.",-1))]),e[55]||(e[55]=O("p",null,[O("i",null,"Phew"),W(", that was quite the mouthful, and you don't have to read it.")],-1)),e[56]||(e[56]=O("h3",null,[O("b",null,"TLDR"),W(", I'm good at this.")],-1)),e[57]||(e[57]=O("small",{class:"opacity-30 hover:opacity-100 transition-all"},"I play osu, minecraft, rts, mahjong, go, tower defense, factorio, civ6 and gacha games.",-1))])])}const Bc=Object.assign(tt(Dc,[["render",zc],["__scopeId","data-v-f77222c4"]]),{__name:"LandingAboutSection"}),Fc={class:"w-full h-screen overflow-hidden relative marquee-container"},Uc=["onMouseenter","onMouseleave"],Vc={class:"flex space-x-8 mr-8"},$c=["onClick"],Hc=Te({__name:"Marquee",props:{words:{},duration:{default:20},rowHeight:{default:60},angle:{default:30},selected:{default:()=>[]}},emits:["word-click"],setup(t,{emit:e}){const r=e,n=t,o=F([]),a=F(0),s=[],i=F(0);function d(){const f=n.angle*Math.PI/180;i.value=n.rowHeight/Math.cos(f),a.value=Math.ceil(1.3*window.innerHeight/i.value)}function l(f,w){if(s[f])return s[f];if(w&&(s[f]=[...new Set(n.words)].sort(()=>Math.random()-.5).map(b=>b.toUpperCase())),!w){const b=[];for(;b.length<20;){const x=n.words[Math.floor(Math.random()*n.words.length)];b.includes(x)||b.push(x)}s[f]=b.map(x=>x.toUpperCase())}return s[f]}function v(f){o.value[f]=!0}function y(f){o.value[f]=!1}return Tt(()=>{d(),window.addEventListener("resize",d)}),Je(()=>{window.removeEventListener("resize",d)}),(f,w)=>(q(),K("div",Fc,[(q(!0),K(Ge,null,ct(Y(a),(b,x)=>(q(),K("div",{key:x,class:Ye(["absolute left-0 pointer-events-none marquee-row flex flex-row",{reverse:x%2!==0,paused:Y(o)[x]}]),style:er({"--angle":`-${n.angle}deg`,"--duration":`${n.duration}s`,top:`${x*n.rowHeight-Y(a)*n.rowHeight/2}px`}),onMouseenter:p=>v(x),onMouseleave:p=>y(x)},[(q(),K(Ge,null,ct(2,p=>O("div",Vc,[(q(!0),K(Ge,null,ct(l(x,x==Math.floor(Y(a)/2)),(E,A)=>(q(),K("span",{key:A,onClick:T=>r("word-click",E),class:Ye(["text-2xl opacity-10 transition-opacity duration-300 hover:opacity-100 pointer-events-auto cursor-pointer text-nowrap",{"opacity-50":x==Math.floor(Y(a)/2)&&!n.selected.includes(E.toLowerCase()),"opacity-100":n.selected.includes(E.toLowerCase())}])},ze(E),11,$c))),128))])),64))],46,Uc))),128))]))}}),Yc=Object.assign(tt(Hc,[["__scopeId","data-v-692df349"]]),{__name:"Marquee"}),Gc={class:"relative overflow-hidden"},Wc=Te({__name:"Gallery",setup(t){const e=Ka("carousel"),r=hn(),n=ce(()=>Number(r.default?r.default()[0]?.children?.length??0:0)),o=ce(()=>{if(!e.value)return 0;const l=Array.from(e.value.children).map(f=>f.offsetLeft??0),v=l.slice(1).map((f,w)=>f-l[w]);return v.reduce((f,w)=>f+w,0)/v.length});let a=0,s=null;function i(){if(e.value&&(s=null,a!==-1)){if(a=Math.min(Math.max(a,0),e.value.scrollWidth-e.value.clientWidth),Math.abs(a-e.value.scrollLeft)<1){a=-1;return}e.value.scrollLeft=(a+e.value.scrollLeft*2)/3,s=requestAnimationFrame(i)}}const d=l=>{l.preventDefault();const v=.5*((l.deltaY||l.detail||l.wheelDelta)>0?o.value:0-o.value);if(e.value&&n.value>1){a=Math.min(Math.max(e.value.scrollLeft+v,0),e.value.scrollWidth-e.value.clientWidth);const y=a%o.value,f=y>o.value/2?o.value-y:y;Math.abs(f)<v/4&&(a=Math.round(a/o.value)*o.value),s===null&&typeof requestAnimationFrame<"u"&&(s=requestAnimationFrame(i))}};return ie(()=>n.value,l=>{l>1?(a=0,s===null&&typeof requestAnimationFrame<"u"&&(s=requestAnimationFrame(i))):e.value&&(e.value.classList.add("justify-center"),e.value.style.overflow="hidden")},{immediate:!0}),(l,v)=>(q(),K("div",Gc,[O("div",{ref_key:"carousel",ref:e,class:Ye(["flex whitespace-nowrap overflow-x-scroll overflow-y-hidden",{"justify-center":Y(n)<=1}]),onWheel:d},[ft(l.$slots,"default")],34)]))}}),qc=Object.assign(Wc,{__name:"Gallery"}),Xc=[{name:"Ball",desc:"Stress killer! Destroy those pesky shapes with your almighty wracking ball of doom!",langs:["java"],keys:["game"],image:"https://github.com/octo-kumo/java-app-archive/blob/master/ball-demo.png?raw=true",link:"https://github.com/octo-kumo/java-app-archive/raw/refs/heads/master/Ball.jar",year:"2017"},{name:"Battleship",desc:"Play battleship with your friend!",langs:["java"],keys:["game"],link:"https://github.com/octo-kumo/java-app-archive/raw/refs/heads/master/BattleShip.jar",year:"2017"},{name:"Bus Timing",desc:"View bus status near my high school, only useful if you are studying at my high school!",langs:["java"],link:"https://github.com/octo-kumo/java-app-archive/raw/refs/heads/master/Bus.jar",year:"2017"},{name:"Car",desc:"Hill climb racing clone.",langs:["java"],keys:["game"],link:"https://github.com/octo-kumo/java-app-archive/raw/refs/heads/master/Car.jar",image:"https://github.com/octo-kumo/java-app-archive/blob/master/car.big.png?raw=true",year:"2017"},{name:"Cats",desc:"Battle cats clone.",langs:["java"],keys:["game"],link:"https://github.com/octo-kumo/java-app-archive/raw/refs/heads/master/Cats.jar",image:"https://github.com/octo-kumo/java-app-archive/blob/master/cats.big.png?raw=true",year:"2018"},{name:"DarkLight",desc:"Platformer where you can switch between light and dark worlds, both with different platforms!",langs:["java"],keys:["game"],link:"https://github.com/octo-kumo/java-app-archive/raw/refs/heads/master/DarkLight.jar",image:"https://github.com/octo-kumo/java-app-archive/blob/master/dark.png?raw=true",year:"2018"},{name:"Gravity",desc:"2D N body gravity simulator with tidal disintegration and black holes.",langs:["java"],keys:["game","simulation"],image:"https://raw.githubusercontent.com/octo-kumo/java-app-archive/refs/heads/master/gravity-2.png",link:"https://github.com/octo-kumo/java-app-archive/raw/refs/heads/master/Gravity.jar",year:"2017"},{name:"Level maker",desc:"Make your own 2D platformer levels! Supports importing any image and turning it into a platformer level!",langs:["java"],keys:["game"],link:"https://github.com/octo-kumo/java-app-archive/raw/refs/heads/master/LevelMaker.jar",year:"2017"},{name:"Plane",desc:"2D plane shooter game.",langs:["java"],keys:["game"],link:"https://github.com/octo-kumo/java-app-archive/raw/refs/heads/master/plane.jar",year:"2017"},{name:"Shield",desc:"Win by reflecting triangles into other triangles with your shield.",langs:["java"],keys:["game"],link:"https://github.com/octo-kumo/java-app-archive/raw/refs/heads/master/Shield.jar",year:"2018"},{name:"Trade",desc:"Trading game?",langs:["java"],keys:["game"],link:"https://github.com/octo-kumo/java-app-archive/raw/refs/heads/master/Trade.jar",image:"https://github.com/octo-kumo/java-app-archive/blob/master/trade-demo.png?raw=true",year:"2018"}],ut=[...Xc,{name:"zhyu.tk",desc:"My first website, made in PHP, it had a chatbox and a bunch of other stuff I made back then. It also used to host my Java projects as jars.",langs:["php","html","javascript","css"],year:"2017-2019",link:"https://web.archive.org/web/20190818144011/https://zhyu.tk/"},{name:"Tank",desc:"Tank Stars clone!",langs:["java"],keys:["gradle","libgdx","game","android"],image:"https://github.com/octo-kumo/Tank/raw/master/images/img.webp",link:"https://yun.ng/Tank/",github:"octo-kumo/Tank",year:"2019"},{name:"Palm",desc:"(Unfinished) 2D Platformer game, with physics, shadows, swords and magic.",langs:["java"],keys:["gradle","libgdx","game","android","box2d"],video:"06f5jsTaa-8",year:"2019"},{name:"NanoGun",desc:"2D shooter game with no dependencies.",langs:["java"],keys:["game"],link:"https://github.com/octo-kumo/java-app-archive/raw/refs/heads/master/NanoGun.jar",image:"https://github.com/octo-kumo/java-app-archive/blob/master/nanogun.png?raw=true",year:"2019"},{name:"SGCC",desc:"A game for Singapore Games Creation Competition, made in Unity.",langs:["C#"],keys:["unity","game"],year:"2019"},{name:"Bus finder",desc:"Hackathon 3rd place: An application to find buses and receive notification when bus is about to arrive.",langs:["javascript","html"],keys:["node.js"],year:"2019"},{name:"Space",desc:"4K HD 3D N-Body simulator, in JavaFX, with i18n and configurations.",langs:["java","javafx"],keys:["simulation","game"],video:"Q_EIy8KmvHc",github:"octo-kumo/Space",year:"2019"},{name:"kumo (discord bot)",desc:"General purpose custom discord bot for my own use, and for my classmates.",langs:["javascript"],keys:["discord.js","heroku","github/ci","mongodb"],year:"2019-2022"},{name:"Azurlane API",desc:"Scraps the azurlane wiki into JSON, automated. Part of 2020 GitHub Archive Program.",langs:["javascript","typescript"],keys:["scraping"],year:"2019-2022",github:"AzurAPI/azurapi-js-setup"},{name:"Rating App",desc:"Android application that allows the user to rate events, uses firebase for auth.",langs:["java"],keys:["firebase","android"],year:"2020"},{name:"gomoku",desc:"Multiplayer socket based web game, the game gomoku.",langs:["html","javascript","css"],keys:["heroku","socket.io","express.js","node.js","mongodb"],year:"2020"},{name:"kumo-mod",desc:"A cool little *client-side* mod for minecraft",langs:["java"],keys:["minecraft"],year:"2020"},{name:"It-is-noisy",desc:"Hackathon 3rd place, visualize noise levels in neighbourhood.",langs:["javascript","html"],keys:["electron"],year:"2020",github:"octo-kumo/it-is-noisy",video:"CPCLDOhJSQA"},{name:"BookDownloader",desc:"A base strategy and collection of specific strategies that will scrap webnovels from certain sites and pack them nicely into epub.",langs:["javascript"],keys:["scraping"],year:"2020",github:"octo-kumo/BookDownloader"},{name:"QuickMacro",desc:"Quickly record and play macros with time sensative actions! (only works on Mac)",langs:["java"],github:"octo-kumo/QuickMacro",year:"2020-2022"},{name:"CTF Writeups",desc:"Writeups for CTFs I participated in.",langs:["md","python","php","javascript","typescript","go","c/c++","perl","caml","TeX","sql","rust","html","css","bash","c#"],keys:["docker","cybersecurity","Metasploit","Wireshark","John","Binwalk","PwnTools","Z3","kali","pwn","forensics","web exploitation","cryptography","linux","unity"],github:"octo-kumo/ctf-writeups",link:"https://yun.ng/c/ctf",year:"2020-now"},{name:"Physics Website",desc:"A website that demostraits the properties and physics of superconductors. With fancy scroll animations.",langs:["javascript","css","html","typescript","md"],keys:["vue.js"],year:"2021"},{name:"Anime Character Extractor",desc:"Analyzes anime videos, extract all character faces, and cluster them. Manually labeled and cleaned training data.",image:"https://image.yun.ng/upload/v1743833563/c7yllsfevuiodciydhno.webp",langs:["python"],keys:["MaskRCNN","ai","tensorflow","keras","Autoencoder","NumPy","Pandas"],year:"2021"},{name:"Buzz Dungeon",desc:"Hack&Roll 2022 Entry, 2D dungeon / maze game.",langs:["java"],keys:["libgdx"],github:"octo-kumo/buzz-dungeon-gdx",image:"https://github.com/octo-kumo/buzz-dungeon-gdx/raw/master/images/4.png",year:"2022"},{name:"HyperSketch",desc:"I made the color picker function for my internship at STUCK Designs",langs:["swift"],keys:["ios"],year:"2022"},{name:"Evil ER",desc:"Best tool to edit your entity relationship / schema diagrams + auto SQL generation. 300+ downloads!",langs:["java","sql"],keys:["desktop app","database"],github:"octo-kumo/evil-er",image:"https://github.com/octo-kumo/evil-er/raw/master/icons/img.png",year:"2022"},{name:"Evil ER: Web + Collab",desc:"Collaborative, realtime, web based editing of ER diagrams!",langs:["html","javascript","css","sql","typescript"],keys:["socket","socket.io","nuxt","tailwind","express.js","mysql","vue.js","database"],github:"octo-kumo/cs6131-project",image:"https://github.com/octo-kumo/evil-er/raw/master/icons/img.png",year:"2022"},{name:"E-Notes",desc:"Note management system with role-based permissions, supporting Markdown, HTML, and Jupyter Notebook formats. Used by my highschool, with 420 total users. Led, managed and developed by me. Per request of highschool computer science department.",langs:["html","css","javascript","typescript","md","scss"],keys:["git","docker","express.js","fullstack","firebase","node.js","firestore","vue.js","FEVN"],link:"https://enotes.nush.app/",image:"https://raw.githubusercontent.com/appventure-nush/e-notes/refs/heads/master/images/thumb.png",github:"appventure-nush/e-notes",year:"2020-2022"},{name:"exam clock",desc:"Exam clock that will connect to a central control server. You can access a web control panel after logining to control clock instances connected. QR code could also be used to authenticate a user.",langs:["java","html","css","javascript"],keys:["multiplatform","fullstack","express.js","handlebars"],year:"2020-2021"},{name:"Network Contest",desc:"Kahoot clone using sockets.",langs:["java"],keys:["network","socket"],github:"octo-kumo/network-contest",year:"2022"},{name:"video essay transcriber",desc:"Hackathon 3rd Place: Tired of watching long video essays? Needing to listen to lectures at 3 times speed just to listen normally? Our video essay transcription will end those problems once and for all. Video Essay Transcription transcribes videos essays with relevant images so that you get the same experience watching the video and reading our transcribing, and even saving your time doing so.",langs:["python"],keys:["ai","keras","sklearn","tensorflow","pytorch","selenium","NumPy","Pandas"],github:"octo-kumo/video-essay-transcriber",year:"2022"},{name:"Reentry Simulator",langs:["python"],keys:["numerical","simulation","rk4"],link:"https://github.com/octo-kumo/docs/blob/master/reentry_simulation.pdf",desc:"Hypersonic re-entry vehicle simulated using realistic atmosphere and referenced research paper on drag at mach speeds.",year:"2022"},{name:"Capstone: AI AMV Generator",desc:"Automated video editing tool that synchronizes video clips with music by analyzing mood and tempo through CNNs and facial recognition, streamlining assembly for creators.",year:"2022",langs:["python"],keys:["keras","sklearn","tensorflow","ai","resnet34","mood analysis","opencv","video editing","NumPy","Pandas"],link:"https://github.com/octo-kumo/docs/blob/master/ARP___Revised.pdf"},{name:"Yun's Website",desc:"This website and its subrepositories.",langs:["html","css","javascript","typescript","md","less"],keys:["nuxt.js","vue.js","three.js","github/ci","git"],link:"https://yun.ng/",github:"octo-kumo/octo-kumo.github.io",year:"2023-now"},{name:"pixiv manager",desc:"A pixiv downloader & manager & viewer.",langs:["java"],keys:["scraping","pixiv"],github:"octo-kumo/pixiv-manager",link:"https://github.com/octo-kumo/pixiv-manager/releases",image:"https://github.com/octo-kumo/pixiv-manager/raw/master/github/images/img.jpg",year:"2023-2024"},{name:"air defence",desc:"Web-based 3D turret shooting game (WIP).",langs:["typescript","javascript","glsl"],keys:["three.js","vue.js","game","simulation"],github:"octo-kumo/air-defence",link:"https://yun.ng/projects/air-defence",image:"https://image.yun.ng/upload/v1743829040/ebuggnx4tsxge4ypp1l3.webp",year:"2023-2024"},{name:"hsr-sim-universe-utils",desc:"Parses decompiled resources from game Honkai Starrail to create structured easy to use JSONs of certain parts.",langs:["javascript"],github:"octo-kumo/hsr-sim-universe-utils",link:"https://yun.ng/projects/simulated-universe",year:"2024"},{name:"discord-chat-chart",year:"2023",langs:["javascript","rust","html","css","jsx","tsx","typescript","python"],keys:["tauri","discord.js","flask","hono","react.js","sentimental analysis"],desc:"Uses 20+ discord user bot to circumvent ratelimiting and pull discord messages fast. Draw nice looking charts that including stats like emoji usage, word cloud, sentimental analysis, usage by time of day etc. You can share the charts with your friends~ Used Tauri to make a nice looking UI to interact with (not public)."},{name:"htb-writeups",year:"2024",langs:["md"],github:"octo-kumo/htb-writeups",link:"https://yun.ng/c/htb",keys:["cybersecurity","linux"],desc:"HackTheBox writeups, not that many because I don't use HTB that much."},{name:"Timetable Widget",year:"2024",langs:["java"],keys:["widget","scraping"],github:"octo-kumo/desktop-widgets",image:"https://github.com/octo-kumo/desktop-widgets/raw/master/images/img2.png",desc:"Automatically fetches the timetable and displays today's schedule as a widget, only for mcgill."},{name:"mc-forensics",year:"2024",langs:["java","javascript"],keys:["NBT"],desc:"Minecraft forensics tool, with built-in JS evaluation engine to run custom scripts on NBT data.",image:"https://github.com/octo-kumo/mc-forensics/raw/master/img.png",github:"octo-kumo/mc-forensics"},{name:"globe-ctf",year:"2024",langs:["typescript","scss","html","javascript","PLpgSQL"],keys:["fullstack","three.js","postgres","rls","supabase","vue.js","nuxt.js","drizzle-orm","database","cybersecurity","serverless"],desc:"My attempt at making a fully custom made CTF event website, akin to CTFd, but modern, and serverless. Logic is handled purely by supabase and postgres (the goat)."},{name:"KMap Solver",year:"2024",langs:["typescript"],keys:["kmap","vue.js"],desc:"RPN logic expression parser + evaluator + truth table generation / custom truth table + kmap generation + kmap solver + DFS minimal cover pruning + shannon factorization + good UI",link:"https://yun.ng/projects/digital-logic",image:"https://image.yun.ng/upload/v1743830774/llytz7xpqxizeqxnvr91.webp"},{name:"2D Triangulator",year:"2024",langs:["typescript"],keys:["simulation","vue.js"],desc:"N vector universal 2D triangulator, useful to finding minecraft bases",link:"https://yun.ng/projects/triangulator",image:"https://image.yun.ng/upload/v1743830833/nlvxtyr0zy2fwkfdpyex.webp"},{name:"Finance Tools",year:"2024",langs:["typescript"],keys:["vue.js","finance"],desc:"Time value, annuity, arithmetic gradient, perpetuity calculator. And some other stuff.",link:"https://yun.ng/projects/finance"},{name:"ARM Simulator",year:"2025",langs:["typescript","asm"],keys:["arm","assembly","cpu"],desc:"Simulation of a ARM CPU.",github:"octo-kumo/arm-sim"},{name:"Drone Ground Station",year:"2025",langs:["java","glsl"],keys:["jmonkeyengine","serial","network","android","hardware"],desc:"3D ground control station for a drone using custom serial communication protocol. Displays the world map below you, auto load/unloads + LOD. Works on android.",github:"octo-kumo/drone-controller",image:"https://image.yun.ng/upload/v1743831406/kstqunyercuh9bm4zrwj.webp"},{name:"Deploy Flow",year:"2025",langs:["python"],keys:["ai","deepseek","agent","cli","terraform","cloud","aws"],desc:"AI-driven deployment tool that autonomously analyzes repositories, generates Terraform configurations and deployment scripts, and provisions cloud infrastructure, with ongoing refinement of remote execution.",image:"https://github.com/octo-kumo/deployflow/raw/master/img/img2.png",github:"octo-kumo/deployflow"},{name:"äº‘é…± (discord bot)",year:"2025",langs:["typescript","javascript","shell","digital ocean"],desc:"A discord bot that supports: drawing stat charts of your chat history (discord-chat-chart), playing the game 24, stock market simulator (you can trade any stock with it, uses real market info), loto, music playing, chat experience, loto etc. It also performs automated 5s interval bitcoin trading (simulated based on real prices). It also responds to mentions and replies with AI agent response, and can draw AI drawings given prompt for you.",keys:["ai","cloud","finance","quantitative trading","data analysis","discord.js"]},{name:"Minecraft Server",year:"2025",langs:["java"],keys:["minecraft","gcp","linux","pufferpanel"],desc:"Forked & modified several mods for version compatibility, forked emogg to make it work well with DiscordIntegration such that you can send discord server's emojis in game, see them in discord and vice versa."},{name:"Bad Apple on DE1-SoC",year:"2025",langs:["python","c","asm"],keys:["huffman","video compression","de1-soc","arm","bad apple"],desc:'Playing "Bad Apple" on a DE1-SoC by using python to resize and delta-encode the video into 8x8 blocks, then generate Huffman if-chain C code for on-the-fly huffman decoding.',video:"vN1YDjCYprw"},{name:"space-rs",year:"2025",langs:["rust"],keys:["game","simulation","wasm"],desc:"Space RS is a 2D N-body simulation game written in rust, it also simulates the roche limit and tidal disintegration.",github:"octo-kumo/space-rs",link:"https://yun.ng/space-rs",video:"ch8ig_aDqTE"}];ut.forEach(t=>{t.keys&&(t.keys=t.keys.map(e=>e.toLowerCase())),t.langs&&(t.langs=t.langs.map(e=>e.toLowerCase()))});ut.sort((t,e)=>t.year===e.year?0:t.year<e.year?1:-1);[...new Set(ut.flatMap(t=>[...t.langs,...t.keys??[]]).map(t=>t.toLowerCase()))];const Kc=ut.flatMap(t=>[...t.langs,...t.keys??[]]).map(t=>t.toLowerCase());function Bn(t,e){if(t.length!==e.length)return 0;let r=0,n=0,o=0;for(let a=0;a<t.length;a++)r+=t[a]*e[a],n+=t[a]*t[a],o+=e[a]*e[a];return r/(Math.sqrt(n)*Math.sqrt(o))}function ao(t){if(t.length===0)return[];const e=Array(t[0].length).fill(0);for(let r=0;r<t.length;r++)for(let n=0;n<t[r].length;n++)e[n]+=t[r][n];return e.map(r=>r/t.length)}const Zc={class:"skills-section"},Jc={class:"skill-controls w-prose bg-black/80 -translate-x-1/2 -translate-y-1/2 top-50% left-50% absolute p-8 rounded max-w-full"},Qc={class:"relative"},ed=["textContent"],td=["textContent"],nd={class:"text-xl font-bold mb-1"},rd={class:"max-h-42 overflow-y-auto scroll-container"},od={class:"text-xs opacity-50 text-balance"},ad={class:"flex flex-nowrap gap-1 mt-2 overflow-x-auto scroll-container select-none"},sd=["textContent","onClick"],id={key:1,class:"flex flex-nowrap gap-1 mt-1 overflow-x-auto scroll-container select-none"},ld=["textContent","onClick"],ud={class:"flex flex-nowrap gap-2 mt-2 overflow-x-auto scroll-container select-none items-center"},cd=["href"],dd=["href"],pd={key:0,fill:"#ffffff",height:"20",width:"20",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 305.001 305.001","xml:space":"preserve"},fd={key:1,fill:"#ffffff",width:"20",height:"20",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},md=["href"],hd=Te({__name:"SkillsSection",setup(t){const e=F(!1),r=F(!1),n=F(""),o=F(!1),a=F([]),s=F({}),i=f=>{if(n.value===f.toLowerCase()){n.value="";return}n.value=f.toLowerCase()};ie(o,async()=>{if(o.value&&!r.value){r.value=!0;const f=(await ts(async()=>{const{default:w}=await import("./BLqrIM6v.js");return{default:w}},[],import.meta.url)).default;Object.entries(f).forEach(([w,b])=>s.value[w]=b);return}},{once:!0});const d=ns(()=>(console.log("searchVector called"),!o.value||!n.value||n.value.length<3?e.value=!1:s.value[n.value]?(a.value=s.value[n.value],e.value=!1):fetch("https://ai.yun.ng/embed",{method:"POST",headers:{"Content-Type":"application/json"},mode:"cors",body:JSON.stringify({text:n.value})}).then(f=>f.json()).then(f=>{if(!f.data)return e.value=!1;a.value=f.data[0],s.value[n.value]=a.value}).finally(()=>{e.value=!1}).catch(f=>{console.error(f),e.value=!1})),1500);ie(n,async()=>{o.value&&(e.value=!0,d())});function l(f){return{desc:s.value[f.desc]??[],langs:f.langs.map(w=>s.value[w]??[]),keys:f.keys?.map(w=>s.value[w]??[])??[]}}const v=ce(()=>a.value.length?ut.map(f=>{const w=l(f),b=Bn(a.value,w.desc),x=ao(w.langs),p=ao(w.keys),E=Bn(a.value,x),A=Bn(a.value,p),T=.8,C=.1,P=.1,g=(T*b+C*E+P*A)/(T+C+P);return{...f,sim:g,simD:b,simL:E,simK:A}}).filter(f=>f.sim>.3).sort((f,w)=>w.sim-f.sim):ut),y=ce(()=>{if(!n.value)return ut;if(o.value)return v.value;{const f=n.value.toLowerCase(),w=f.split(" ");return ut.filter(b=>w.some(x=>{if(x==="")return!1;if(b.name.toLowerCase().includes(x)||b.desc.toLowerCase().includes(x)||b.langs?.some(p=>p.toLowerCase()===x)||b.keys?.some(p=>p.toLowerCase()===x))return!0})||b.langs?.includes(f)||b.keys?.includes(f))}});return(f,w)=>{const b=Yc,x=qc;return q(),K("div",Zc,[X(b,{onWordClick:i,class:"fade-sides",words:Y(Kc),duration:100,"row-height":30,angle:10,selected:[Y(n).toLowerCase()]},null,8,["words","selected"]),O("div",Jc,[w[6]||(w[6]=O("h1",null,"Skills: Lookup Tool",-1)),w[7]||(w[7]=O("i",null,'â€œCan you do X? Do you have experience with Y?"',-1)),O("div",Qc,[Za(O("input",{id:"portfolio-search",placeholder:"Type here...","onUpdate:modelValue":w[0]||(w[0]=p=>bt(n)?n.value=p:null),autocomplete:"off"},null,512),[[Ja,Y(n)]]),O("span",{for:"search-vector",onClick:w[1]||(w[1]=p=>o.value=!Y(o)),class:Ye([{"opacity-100":Y(o),"opacity-30":!Y(o)},"absolute top-50% left-2 cursor-pointer translate-y--50% text-xs select-none cursor-pointer transition-all"])}," Vectorized (toggle) ",2)]),X(x,{class:Ye(["scroll-container",{"opacity-50":Y(e)}])},{default:se(()=>[(q(!0),K(Ge,null,ct(Y(y),(p,E)=>(q(),K("div",{class:"p-4 m-2 bg-black shadow rounded w-64 h-80 border-1 border-solid min-w-64 pt-0 relative project-card",style:er({"--image":`url('${p.image}')`}),key:E},[O("small",{textContent:ze(p.year),class:"absolute opacity-50"},null,8,ed),p.sim?(q(),K("small",{key:0,textContent:ze("cos-sim: "+p.sim.toFixed(2)),class:"absolute opacity-50 right-0 border-solid border-1 border-white"},null,8,td)):Pe("",!0),O("h2",nd,ze(p.name),1),O("div",rd,[O("small",od,ze(p.desc),1)]),O("div",ad,[(q(!0),K(Ge,null,ct(p.langs,(A,T)=>(q(),K("span",{key:T,textContent:ze(A),onClick:C=>i(A),class:"px-1 py-0.5 text-xs border-solid rounded border-1 opacity-50 hover:opacity-100 cursor-pointer"},null,8,sd))),128))]),p.keys?(q(),K("div",id,[(q(!0),K(Ge,null,ct(p.keys,(A,T)=>(q(),K("span",{key:T,textContent:ze(A),onClick:C=>i(A),class:"px-1 py-0.2 text-xs border-solid rounded border-1 opacity-50 hover:opacity-100 cursor-pointer"},null,8,ld))),128))])):Pe("",!0),O("div",ud,[p.github?(q(),K("a",{key:0,href:"https://github.com/"+p.github,target:"_blank"},[...w[2]||(w[2]=[O("svg",{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 98 96",fill:"none"},[O("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z",fill:"#fff"})],-1)])],8,cd)):Pe("",!0),p.link?(q(),K("a",{key:1,href:p.link,target:"_blank"},[p.link.endsWith(".jar")?(q(),K("svg",pd,[...w[3]||(w[3]=[O("g",{id:"XMLID_7_"},[O("path",{id:"XMLID_8_",d:`M150.99,56.513c-14.093,9.912-30.066,21.147-38.624,39.734c-14.865,32.426,30.418,67.798,32.353,69.288
		c0.45,0.347,0.988,0.519,1.525,0.519c0.57,0,1.141-0.195,1.605-0.583c0.899-0.752,1.154-2.029,0.614-3.069
		c-0.164-0.316-16.418-31.888-15.814-54.539c0.214-7.888,11.254-16.837,22.942-26.312c10.705-8.678,22.839-18.514,29.939-30.02
		c15.586-25.327-1.737-50.231-1.914-50.479c-0.688-0.966-1.958-1.317-3.044-0.84c-1.085,0.478-1.686,1.652-1.438,2.811
		c0.035,0.164,3.404,16.633-5.97,33.6C169.301,43.634,160.816,49.603,150.99,56.513z`}),O("path",{id:"XMLID_9_",d:`M210.365,67.682c0.994-0.749,1.286-2.115,0.684-3.205c-0.602-1.09-1.913-1.571-3.077-1.129
		c-2.394,0.91-58.627,22.585-58.627,48.776c0,18.053,7.712,27.591,13.343,34.556c2.209,2.731,4.116,5.09,4.744,7.104
		c1.769,5.804-2.422,16.294-4.184,19.846c-0.508,1.022-0.259,2.259,0.605,3.005c0.467,0.403,1.05,0.607,1.634,0.607
		c0.497,0,0.996-0.148,1.427-0.448c0.967-0.673,23.63-16.696,19.565-36.001c-1.514-7.337-5.12-12.699-8.302-17.43
		c-4.929-7.329-8.489-12.624-3.088-22.403C181.419,89.556,210.076,67.899,210.365,67.682z`}),O("path",{id:"XMLID_10_",d:`M63.99,177.659c-0.964,2.885-0.509,5.75,1.315,8.283c6.096,8.462,27.688,13.123,60.802,13.123
		c0.002,0,0.003,0,0.004,0c4.487,0,9.224-0.088,14.076-0.262c52.943-1.896,72.58-18.389,73.39-19.09
		c0.883-0.764,1.119-2.037,0.57-3.067c-0.549-1.029-1.733-1.546-2.864-1.235c-18.645,5.091-53.463,6.898-77.613,6.898
		c-27.023,0-40.785-1.946-44.154-3.383c1.729-2.374,12.392-6.613,25.605-9.212c1.263-0.248,2.131-1.414,2.006-2.695
		c-0.125-1.281-1.201-2.258-2.488-2.258C106.893,164.762,68.05,165.384,63.99,177.659z`}),O("path",{id:"XMLID_11_",d:`M241.148,160.673c-10.92,0-21.275,5.472-21.711,5.705c-1.01,0.541-1.522,1.699-1.245,2.811
		c0.278,1.111,1.277,1.892,2.423,1.893c0.232,0.001,23.293,0.189,25.382,13.365c1.85,11.367-21.82,29.785-31.097,35.923
		c-1.002,0.663-1.391,1.945-0.926,3.052c0.395,0.943,1.314,1.533,2.304,1.533c0.173,0,0.348-0.018,0.522-0.056
		c2.202-0.47,53.855-11.852,48.394-41.927C261.862,164.541,250.278,160.673,241.148,160.673z`}),O("path",{id:"XMLID_12_",d:`M205.725,216.69c0.18-0.964-0.221-1.944-1.023-2.506l-12.385-8.675c-0.604-0.423-1.367-0.556-2.076-0.368
		c-0.129,0.034-13.081,3.438-31.885,5.526c-7.463,0.837-15.822,1.279-24.175,1.279c-18.799,0-31.091-2.209-32.881-3.829
		c-0.237-0.455-0.162-0.662-0.12-0.777c0.325-0.905,2.068-1.98,3.192-2.405c1.241-0.459,1.91-1.807,1.524-3.073
		c-0.385-1.266-1.69-2.012-2.978-1.702c-12.424,2.998-18.499,7.191-18.057,12.461c0.785,9.343,22.428,14.139,40.725,15.408
		c2.631,0.18,5.477,0.272,8.456,0.272c0.002,0,0.003,0,0.005,0c30.425,0,69.429-9.546,69.819-9.643
		C204.818,218.423,205.544,217.654,205.725,216.69z`}),O("path",{id:"XMLID_13_",d:`M112.351,236.745c0.938-0.611,1.354-1.77,1.021-2.838c-0.332-1.068-1.331-1.769-2.453-1.755
		c-1.665,0.044-16.292,0.704-17.316,10.017c-0.31,2.783,0.487,5.325,2.37,7.556c5.252,6.224,19.428,9.923,43.332,11.31
		c2.828,0.169,5.7,0.254,8.539,0.254c30.39,0,50.857-9.515,51.714-9.92c0.831-0.393,1.379-1.209,1.428-2.127
		c0.049-0.917-0.409-1.788-1.193-2.267l-15.652-9.555c-0.543-0.331-1.193-0.441-1.813-0.314c-0.099,0.021-10.037,2.082-25.035,4.119
		c-2.838,0.385-6.392,0.581-10.562,0.581c-14.982,0-31.646-2.448-34.842-4.05C111.843,237.455,111.902,237.075,112.351,236.745z`}),O("path",{id:"XMLID_14_",d:`M133.681,290.018c69.61-0.059,106.971-12.438,114.168-20.228c2.548-2.757,2.823-5.366,2.606-7.07
		c-0.535-4.194-4.354-6.761-4.788-7.04c-1.045-0.672-2.447-0.496-3.262,0.444c-0.813,0.941-0.832,2.314-0.016,3.253
		c0.439,0.565,0.693,1.51-0.591,2.795c-2.877,2.687-31.897,10.844-80.215,13.294c-6.619,0.345-13.561,0.519-20.633,0.52
		c-43.262,0-74.923-5.925-79.079-9.379c1.603-2.301,12.801-5.979,24.711-8.058c1.342-0.234,2.249-1.499,2.041-2.845
		c-0.208-1.346-1.449-2.273-2.805-2.096c-0.336,0.045-1.475,0.115-2.796,0.195c-19.651,1.2-42.36,3.875-43.545,13.999
		c-0.36,3.086,0.557,5.886,2.726,8.324c5.307,5.963,20.562,13.891,91.475,13.891C133.68,290.018,133.68,290.018,133.681,290.018z`}),O("path",{id:"XMLID_15_",d:`M261.522,271.985c-0.984-0.455-2.146-0.225-2.881,0.567c-0.103,0.11-10.568,11.054-42.035,17.48
		c-12.047,2.414-34.66,3.638-67.211,3.638c-32.612,0-63.643-1.283-63.953-1.296c-1.296-0.063-2.405,0.879-2.581,2.155
		c-0.177,1.276,0.645,2.477,1.897,2.775c0.323,0.077,32.844,7.696,77.31,7.696c21.327,0,42.08-1.733,61.684-5.151
		c36.553-6.408,39.112-24.533,39.203-25.301C263.082,273.474,262.504,272.44,261.522,271.985z`})],-1)])])):(q(),K("svg",fd,[...w[4]||(w[4]=[O("path",{d:"M15.5 2.25a.75.75 0 01.75-.75h5.5a.75.75 0 01.75.75v5.5a.75.75 0 01-1.5 0V4.06l-6.22 6.22a.75.75 0 11-1.06-1.06L19.94 3h-3.69a.75.75 0 01-.75-.75z"},null,-1),O("path",{d:"M2.5 4.25c0-.966.784-1.75 1.75-1.75h8.5a.75.75 0 010 1.5h-8.5a.25.25 0 00-.25.25v15.5c0 .138.112.25.25.25h15.5a.25.25 0 00.25-.25v-8.5a.75.75 0 011.5 0v8.5a1.75 1.75 0 01-1.75 1.75H4.25a1.75 1.75 0 01-1.75-1.75V4.25z"},null,-1)])]))],8,dd)):Pe("",!0),p.video?(q(),K("a",{key:2,href:"https://www.youtube.com/watch?v="+p.video,target:"_blank"},[...w[5]||(w[5]=[O("svg",{fill:"#ffffff",height:"20",width:"20",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 310 310","xml:space":"preserve"},[O("g",{id:"XMLID_822_"},[O("path",{id:"XMLID_823_",d:`M297.917,64.645c-11.19-13.302-31.85-18.728-71.306-18.728H83.386c-40.359,0-61.369,5.776-72.517,19.938
		C0,79.663,0,100.008,0,128.166v53.669c0,54.551,12.896,82.248,83.386,82.248h143.226c34.216,0,53.176-4.788,65.442-16.527
		C304.633,235.518,310,215.863,310,181.835v-53.669C310,98.471,309.159,78.006,297.917,64.645z M199.021,162.41l-65.038,33.991
		c-1.454,0.76-3.044,1.137-4.632,1.137c-1.798,0-3.592-0.484-5.181-1.446c-2.992-1.813-4.819-5.056-4.819-8.554v-67.764
		c0-3.492,1.822-6.732,4.808-8.546c2.987-1.814,6.702-1.938,9.801-0.328l65.038,33.772c3.309,1.718,5.387,5.134,5.392,8.861
		C204.394,157.263,202.325,160.684,199.021,162.41z`})])],-1)])],8,md)):Pe("",!0)])],4))),128))]),_:1},8,["class"])])])}}}),gd=Object.assign(tt(hd,[["__scopeId","data-v-1e8af362"]]),{__name:"LandingSkillsSection"}),vd={},yd={class:"work-section"};function bd(t,e){return q(),K("div",yd,[...e[0]||(e[0]=[O("h1",{class:"translate-y--50% absolute top-30% left-0 w-full text-center"},"Hire me to have your own custom planet! ",-1)])])}const wd=Object.assign(tt(vd,[["render",bd],["__scopeId","data-v-e7a08411"]]),{__name:"LandingWorkSection"}),xd={},_d={class:"writeup-section"};function Md(t,e){return q(),K("div",_d)}const kd=Object.assign(tt(xd,[["render",Md],["__scopeId","data-v-b27fb051"]]),{__name:"LandingWriteupSection"}),Td=""+new URL("pfp.square.small.uhmOE4eW.jpg",import.meta.url).href,Ed={class:"contact-section"},Ad={class:"w-prose max-w-full p-8 rounded-lg bg-black absolute translate--50% top-50% left-50%"},Id={class:"flex flex-col items-center gap-12 sm:flex-row"},Cd=["src"],jd={class:"flex flex-row gap-5 flex-wrap justify-center"},Pd=["href"],Sd=["innerHTML"],Od=["textContent"],Rd=Te({__name:"ContactSection",setup(t){const e=[{name:"octo-kumo",link:"https://github.com/octo-kumo/",icon:'<svg width="32" height="32" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 98 96" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z" fill="#fff" /></svg>'},{name:"y.k.z",link:"https://discord.com/users/456001047756800000",icon:'<svg fill="#ffffff" width="32" height="32" viewBox="0 0 24 24" role="img" xmlns="http://www.w3.org/2000/svg"><path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"/></svg>'},{name:"z-yun",link:"https://www.linkedin.com/in/z-yun/",icon:`<svg width="32" height="32" viewBox="0 0 24 24" fill="#ffffff" xmlns="http://www.w3.org/2000/svg">
<path d="M6.5 8C7.32843 8 8 7.32843 8 6.5C8 5.67157 7.32843 5 6.5 5C5.67157 5 5 5.67157 5 6.5C5 7.32843 5.67157 8 6.5 8Z"/>
<path d="M5 10C5 9.44772 5.44772 9 6 9H7C7.55228 9 8 9.44771 8 10V18C8 18.5523 7.55228 19 7 19H6C5.44772 19 5 18.5523 5 18V10Z"/>
<path d="M11 19H12C12.5523 19 13 18.5523 13 18V13.5C13 12 16 11 16 13V18.0004C16 18.5527 16.4477 19 17 19H18C18.5523 19 19 18.5523 19 18V12C19 10 17.5 9 15.5 9C13.5 9 13 10.5 13 10.5V10C13 9.44771 12.5523 9 12 9H11C10.4477 9 10 9.44772 10 10V18C10 18.5523 10.4477 19 11 19Z"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M20 1C21.6569 1 23 2.34315 23 4V20C23 21.6569 21.6569 23 20 23H4C2.34315 23 1 21.6569 1 20V4C1 2.34315 2.34315 1 4 1H20ZM20 3C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3H20Z"/>
</svg>`},{name:"yun@yun.ng",link:"mailto:yun@yun.ng",icon:'<svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 7.00005L10.2 11.65C11.2667 12.45 12.7333 12.45 13.8 11.65L20 7" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><rect x="3" y="5" width="18" height="14" rx="2" stroke="#ffffff" stroke-width="2" stroke-linecap="round"/>'}];return(r,n)=>(q(),K("div",Ed,[O("div",Ad,[O("div",Id,[O("img",{src:Y(Td),class:"rounded-full mx-auto w-32 h-32"},null,8,Cd),O("div",null,[n[0]||(n[0]=O("h1",{class:"text-3xl font-bold text-center"},"Contact",-1)),n[1]||(n[1]=O("p",{class:"text-center"},"Feel free to contact me for anything~",-1)),O("div",jd,[(q(),K(Ge,null,ct(e,o=>O("a",{href:o.link,target:"_blank",key:o.name,class:"flex justify-center decoration-none text-white gap-2"},[o.icon?(q(),K("span",{key:0,innerHTML:o.icon},null,8,Sd)):Pe("",!0),O("span",{class:"text-2xl",textContent:ze(o.name)},null,8,Od)],8,Pd)),64))])])]),n[2]||(n[2]=O("div",{class:"mt-2 p-4"},[O("h1",null,"FAQ"),O("div",null,[O("h2",null,"Q: Is this a template? Where can I get it?"),O("p",null,[W("A: I made the website, so there is no template."),O("br"),W("You can however, look at my code and improvise.")])])],-1)),n[3]||(n[3]=O("div",{class:"mt-2 p-4 justify-center flex"},[O("a",{href:"/",class:"text-xl p-4 border border-solid border-white rounded-xl decoration-none text-white hover:bg-white hover:text-black transition-all"}," Back to main site ")],-1))])]))}}),Dd=Object.assign(tt(Rd,[["__scopeId","data-v-e8b23099"]]),{__name:"LandingContactSection"}),Nd={id:"portfolio"},Ud=Te({__name:"portfolio",setup(t){const e=F(null),r=F(null),n=F(null),o=F(null),a=F(null),s=F(null),i=F(0);function d(y,f){return(y-f/(l.length-1))*(l.length-1)}const l=[{key:"hero",value:e,icon:"ðŸ›¸",title:"Home"},{key:"about",value:r,icon:"ðŸš€",title:"About"},{key:"skills",value:n,icon:"ðŸ’»",title:"Skills"},{key:"work",value:o,icon:"ðŸª",title:"Work"},{key:"writeups",value:a,icon:"ðŸ“",title:"Writeups"},{key:"contact",value:s,icon:"ðŸ“§",title:"Contact"}],v=y=>{let f;const w=l.find(b=>b.key===y);w&&(f=w.value?.value?.$el),f&&f.scrollIntoView({behavior:"smooth"})};return(y,f)=>{const w=ic,b=pc,x=jc,p=Bc,E=gd,A=wd,T=kd,C=Dd;return q(),K("div",Nd,[X(w,{modelValue:Y(i),"onUpdate:modelValue":f[0]||(f[0]=P=>bt(i)?i.value=P:null),sections:l,onNavigate:v},null,8,["modelValue"]),X(b,{onNavigate:v,sections:l,progress:Y(i)},null,8,["progress"]),X(x,{ref_key:"hero",ref:e,progress:d(Y(i),0),onNavigate:v},null,8,["progress"]),X(p,{ref_key:"about",ref:r},null,512),X(E,{ref_key:"skills",ref:n},null,512),X(A,{ref_key:"work",ref:o},null,512),X(T,{ref_key:"writeups",ref:a},null,512),X(C,{ref_key:"contact",ref:s},null,512)])}}});export{Ud as default};
